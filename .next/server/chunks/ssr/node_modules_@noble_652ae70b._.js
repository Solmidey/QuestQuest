module.exports=[57162,a=>{"use strict";var b=a.i(77832);class c extends b.Hash{constructor(a,c){super(),this.finished=!1,this.destroyed=!1,(0,b.ahash)(a);const d=(0,b.toBytes)(c);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const e=this.blockLen,f=new Uint8Array(e);f.set(d.length>e?a.create().update(d).digest():d);for(let a=0;a<f.length;a++)f[a]^=54;this.iHash.update(f),this.oHash=a.create();for(let a=0;a<f.length;a++)f[a]^=106;this.oHash.update(f),(0,b.clean)(f)}update(a){return(0,b.aexists)(this),this.iHash.update(a),this}digestInto(a){(0,b.aexists)(this),(0,b.abytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let d=(a,b,d)=>new c(a,b).update(d).digest();d.create=(a,b)=>new c(a,b),a.s(["hmac",0,d])},93259,59029,a=>{"use strict";var b=a.i(77832),c=a.i(7140);let d=BigInt(0),e=BigInt(1),f=BigInt(2),g=BigInt(3),h=BigInt(4),i=BigInt(5),j=BigInt(8);function k(a,b){let c=a%b;return c>=d?c:b+c}function l(a,b,c){let e=a;for(;b-- >d;)e*=e,e%=c;return e}function m(a,b){if(a===d)throw Error("invert: expected non-zero number");if(b<=d)throw Error("invert: expected positive modulus, got "+b);let c=k(a,b),f=b,g=d,h=e,i=e,j=d;for(;c!==d;){let a=f/c,b=f%c,d=g-i*a,e=h-j*a;f=c,c=b,g=i,h=j,i=d,j=e}if(f!==e)throw Error("invert: does not exist");return k(g,b)}function n(a,b){let c=(a.ORDER+e)/h,d=a.pow(b,c);if(!a.eql(a.sqr(d),b))throw Error("Cannot find square root");return d}function o(a,b){let c=(a.ORDER-i)/j,d=a.mul(b,f),e=a.pow(d,c),g=a.mul(b,e),h=a.mul(a.mul(g,f),e),k=a.mul(g,a.sub(h,a.ONE));if(!a.eql(a.sqr(k),b))throw Error("Cannot find square root");return k}let p=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function q(a){let b=p.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,c.validateObject)(a,b)}function r(a,b,c=!1){let d=Array(b.length).fill(c?a.ZERO:void 0),e=b.reduce((b,c,e)=>a.is0(c)?b:(d[e]=b,a.mul(b,c)),a.ONE),f=a.inv(e);return b.reduceRight((b,c,e)=>a.is0(c)?b:(d[e]=a.mul(b,d[e]),a.mul(b,c)),f),d}function s(a,b){let c=(a.ORDER-e)/f,d=a.pow(b,c),g=a.eql(d,a.ONE),h=a.eql(d,a.ZERO),i=a.eql(d,a.neg(a.ONE));if(!g&&!h&&!i)throw Error("invalid Legendre symbol result");return g?1:h?0:-1}function t(a,c){void 0!==c&&(0,b.anumber)(c);let d=void 0!==c?c:a.toString(2).length,e=Math.ceil(d/8);return{nBitLength:d,nByteLength:e}}function u(a,b){if(!a.isOdd)throw Error("Field doesn't have isOdd");let c=a.sqrt(b);return a.isOdd(c)?a.neg(c):c}function v(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function w(a){let b=v(a);return b+Math.ceil(b/2)}function x(a,b,d=!1){let f=a.length,g=v(b),h=w(b);if(f<16||f<h||f>1024)throw Error("expected "+h+"-1024 bytes of input, got "+f);let i=k(d?(0,c.bytesToNumberLE)(a):(0,c.bytesToNumberBE)(a),b-e)+e;return d?(0,c.numberToBytesLE)(i,g):(0,c.numberToBytesBE)(i,g)}a.s(["Field",()=>function a(b,l,p=!1,q={}){let u;if(b<=d)throw Error("invalid field: expected ORDER > 0, got "+b);let{nBitLength:v,nByteLength:w}=t(b,l);if(w>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let x=Object.freeze({ORDER:b,isLE:p,BITS:v,BYTES:w,MASK:(0,c.bitMask)(v),ZERO:d,ONE:e,create:a=>k(a,b),isValid:a=>{if("bigint"!=typeof a)throw Error("invalid field element: expected bigint, got "+typeof a);return d<=a&&a<b},is0:a=>a===d,isOdd:a=>(a&e)===e,neg:a=>k(-a,b),eql:(a,b)=>a===b,sqr:a=>k(a*a,b),add:(a,c)=>k(a+c,b),sub:(a,c)=>k(a-c,b),mul:(a,c)=>k(a*c,b),pow:(a,b)=>(function(a,b,c){if(c<d)throw Error("invalid exponent, negatives unsupported");if(c===d)return a.ONE;if(c===e)return b;let f=a.ONE,g=b;for(;c>d;)c&e&&(f=a.mul(f,g)),g=a.sqr(g),c>>=e;return f})(x,a,b),div:(a,c)=>k(a*m(c,b),b),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:a=>m(a,b),sqrt:q.sqrt||(c=>(u||(u=b%h===g?n:b%j===i?o:function(b){if(b<BigInt(3))throw Error("sqrt is not defined for small field");let c=b-e,g=0;for(;c%f===d;)c/=f,g++;let h=f,i=a(b);for(;1===s(i,h);)if(h++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===g)return n;let j=i.pow(h,c),k=(c+e)/f;return function(a,b){if(a.is0(b))return b;if(1!==s(a,b))throw Error("Cannot find square root");let d=g,f=a.mul(a.ONE,j),h=a.pow(b,c),i=a.pow(b,k);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let b=1,c=a.sqr(h);for(;!a.eql(c,a.ONE);)if(b++,c=a.sqr(c),b===d)throw Error("Cannot find square root");let g=e<<BigInt(d-b-1),j=a.pow(f,g);d=b,f=a.sqr(j),h=a.mul(h,f),i=a.mul(i,j)}return i}}(b)),u(x,c))),toBytes:a=>p?(0,c.numberToBytesLE)(a,w):(0,c.numberToBytesBE)(a,w),fromBytes:a=>{if(a.length!==w)throw Error("Field.fromBytes: expected "+w+" bytes, got "+a.length);return p?(0,c.bytesToNumberLE)(a):(0,c.bytesToNumberBE)(a)},invertBatch:a=>r(x,a),cmov:(a,b,c)=>c?b:a});return Object.freeze(x)},"FpInvertBatch",()=>r,"FpSqrtEven",()=>u,"getMinHashLength",()=>w,"invert",()=>m,"isNegativeLE",0,(a,b)=>(k(a,b)&e)===e,"mapHashToField",()=>x,"mod",()=>k,"nLength",()=>t,"pow2",()=>l,"validateField",()=>q],59029);let y=BigInt(0),z=BigInt(1);function A(a,b){let c=b.negate();return a?c:b}function B(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function C(a,b){B(a,b);let d=Math.ceil(b/a)+1,e=2**(a-1),f=2**a;return{windows:d,windowSize:e,mask:(0,c.bitMask)(a),maxNumber:f,shiftBy:BigInt(a)}}function D(a,b,c){let{windowSize:d,mask:e,maxNumber:f,shiftBy:g}=c,h=Number(a&e),i=a>>g;h>d&&(h-=f,i+=z);let j=b*d,k=j+Math.abs(h)-1,l=0===h;return{nextN:i,offset:k,isZero:l,isNeg:h<0,isNegF:b%2!=0,offsetF:j}}let E=new WeakMap,F=new WeakMap;function G(a){return F.get(a)||1}function H(a,b){return{constTimeNegate:A,hasPrecomputes:a=>1!==G(a),unsafeLadder(b,c,d=a.ZERO){let e=b;for(;c>y;)c&z&&(d=d.add(e)),e=e.double(),c>>=z;return d},precomputeWindow(a,c){let{windows:d,windowSize:e}=C(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(c,d,e){let f=a.ZERO,g=a.BASE,h=C(c,b);for(let a=0;a<h.windows;a++){let{nextN:b,offset:c,isZero:i,isNeg:j,isNegF:k,offsetF:l}=D(e,a,h);e=b,i?g=g.add(A(k,d[l])):f=f.add(A(j,d[c]))}return{p:f,f:g}},wNAFUnsafe(c,d,e,f=a.ZERO){let g=C(c,b);for(let a=0;a<g.windows&&e!==y;a++){let{nextN:b,offset:c,isZero:h,isNeg:i}=D(e,a,g);if(e=b,!h){let a=d[c];f=f.add(i?a.negate():a)}}return f},getPrecomputes(a,b,c){let d=E.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&E.set(b,c(d))),d},wNAFCached(a,b,c){let d=G(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=G(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){B(c,b),F.set(a,c),E.delete(a)}}}function I(a,b,d,e){if(!Array.isArray(d))throw Error("array expected");d.forEach((b,c)=>{if(!(b instanceof a))throw Error("invalid point at index "+c)});if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)});let f=d.length,g=e.length;if(f!==g)throw Error("arrays of points and scalars must have equal length");let h=a.ZERO,i=(0,c.bitLen)(BigInt(f)),j=1;i>12?j=i-3:i>4?j=i-2:i>0&&(j=2);let k=(0,c.bitMask)(j),l=Array(Number(k)+1).fill(h),m=Math.floor((b.BITS-1)/j)*j,n=h;for(let a=m;a>=0;a-=j){l.fill(h);for(let b=0;b<g;b++){let c=Number(e[b]>>BigInt(a)&k);l[c]=l[c].add(d[b])}let b=h;for(let a=l.length-1,c=h;a>0;a--)c=c.add(l[a]),b=b.add(c);if(n=n.add(b),0!==a)for(let a=0;a<j;a++)n=n.double()}return n}function J(a){return q(a.Fp),(0,c.validateObject)(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}a.s(["pippenger",()=>I,"validateBasic",()=>J,"wNAF",()=>H],93259)},33830,42587,a=>{"use strict";var b=a.i(57162),c=a.i(77832),d=a.i(93259),e=a.i(59029),f=a.i(7140);function g(a){void 0!==a.lowS&&(0,f.abool)("lowS",a.lowS),void 0!==a.prehash&&(0,f.abool)("prehash",a.prehash)}let h={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=h;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=(0,f.numberToHexUnpadded)(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let g=d>127?(0,f.numberToHexUnpadded)(e.length/2|128):"";return(0,f.numberToHexUnpadded)(a)+g+e+b},decode(a,b){let{Err:c}=h,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=h;if(a<j)throw new b("integer: negative integers are not allowed");let c=(0,f.numberToHexUnpadded)(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=h;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return(0,f.bytesToNumberBE)(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=h,e=(0,f.ensureBytes)("signature",a),{v:g,l:i}=d.decode(48,e);if(i.length)throw new b("invalid signature: left bytes after parsing");let{v:j,l:k}=d.decode(2,g),{v:l,l:m}=d.decode(2,k);if(m.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(j),s:c.decode(l)}},hexFromSig(a){let{_tlv:b,_int:c}=h,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}};function i(a,b){return(0,f.bytesToHex)((0,f.numberToBytesBE)(a,b))}let j=BigInt(0),k=BigInt(1),l=BigInt(2),m=BigInt(3),n=BigInt(4);function o(a){let b,c=(b=(0,d.validateBasic)(a),(0,f.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:l,n:o,nByteLength:p,nBitLength:q}=c,r=l.BYTES+1,s=2*l.BYTES+1;function t(a){return(0,e.mod)(a,o)}function u(a){return(0,e.invert)(a,o)}let{ProjectivePoint:v,normPrivateKeyToScalar:w,weierstrassEquation:x,isWithinCurveOrder:y}=function(a){let b=function(a){let b=(0,d.validateBasic)(a);(0,f.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:c,Fp:e,a:g}=b;if(c){if(!e.eql(g,e.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}(a),{Fp:c}=b,g=(0,e.Field)(b.n,b.nBitLength),h=b.toBytes||((a,b,d)=>{let e=b.toAffine();return(0,f.concatBytes)(Uint8Array.from([4]),c.toBytes(e.x),c.toBytes(e.y))}),i=b.fromBytes||(a=>{let b=a.subarray(1);return{x:c.fromBytes(b.subarray(0,c.BYTES)),y:c.fromBytes(b.subarray(c.BYTES,2*c.BYTES))}});function l(a){let{a:d,b:e}=b,f=c.sqr(a),g=c.mul(f,a);return c.add(c.add(g,c.mul(a,d)),e)}function o(a,b){let d=c.sqr(b),e=l(a);return c.eql(d,e)}if(!o(b.Gx,b.Gy))throw Error("bad curve params: generator point");let p=c.mul(c.pow(b.a,m),n),q=c.mul(c.sqr(b.b),BigInt(27));if(c.is0(c.add(p,q)))throw Error("bad curve params: a or b");function r(a){let c,{allowedPrivateKeyLengths:d,nByteLength:g,wrapPrivateKey:h,n:i}=b;if(d&&"bigint"!=typeof a){if((0,f.isBytes)(a)&&(a=(0,f.bytesToHex)(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*g,"0")}try{c="bigint"==typeof a?a:(0,f.bytesToNumberBE)((0,f.ensureBytes)("private key",a,g))}catch(b){throw Error("invalid private key, expected hex or "+g+" bytes, got "+typeof a)}return h&&(c=(0,e.mod)(c,i)),(0,f.aInRange)("private key",c,k,i),c}function s(a){if(!(a instanceof v))throw Error("ProjectivePoint expected")}let t=(0,f.memoized)((a,b)=>{let{px:d,py:e,pz:f}=a;if(c.eql(f,c.ONE))return{x:d,y:e};let g=a.is0();null==b&&(b=g?c.ONE:c.inv(f));let h=c.mul(d,b),i=c.mul(e,b),j=c.mul(f,b);if(g)return{x:c.ZERO,y:c.ZERO};if(!c.eql(j,c.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),u=(0,f.memoized)(a=>{if(a.is0()){if(b.allowInfinityPoint&&!c.is0(a.py))return;throw Error("bad point: ZERO")}let{x:d,y:e}=a.toAffine();if(!c.isValid(d)||!c.isValid(e))throw Error("bad point: x or y not FE");if(!o(d,e))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class v{constructor(a,b,d){if(null==a||!c.isValid(a))throw Error("x required");if(null==b||!c.isValid(b)||c.is0(b))throw Error("y required");if(null==d||!c.isValid(d))throw Error("z required");this.px=a,this.py=b,this.pz=d,Object.freeze(this)}static fromAffine(a){let{x:b,y:d}=a||{};if(!a||!c.isValid(b)||!c.isValid(d))throw Error("invalid affine point");if(a instanceof v)throw Error("projective point not allowed");let e=a=>c.eql(a,c.ZERO);return e(b)&&e(d)?v.ZERO:new v(b,d,c.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=(0,e.FpInvertBatch)(c,a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(v.fromAffine)}static fromHex(a){let b=v.fromAffine(i((0,f.ensureBytes)("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return v.BASE.multiply(r(a))}static msm(a,b){return(0,d.pippenger)(v,g,a,b)}_setWindowSize(a){y.setWindowSize(this,a)}assertValidity(){u(this)}hasEvenY(){let{y:a}=this.toAffine();if(c.isOdd)return!c.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){s(a);let{px:b,py:d,pz:e}=this,{px:f,py:g,pz:h}=a,i=c.eql(c.mul(b,h),c.mul(f,e)),j=c.eql(c.mul(d,h),c.mul(g,e));return i&&j}negate(){return new v(this.px,c.neg(this.py),this.pz)}double(){let{a,b:d}=b,e=c.mul(d,m),{px:f,py:g,pz:h}=this,i=c.ZERO,j=c.ZERO,k=c.ZERO,l=c.mul(f,f),n=c.mul(g,g),o=c.mul(h,h),p=c.mul(f,g);return p=c.add(p,p),k=c.mul(f,h),k=c.add(k,k),i=c.mul(a,k),j=c.mul(e,o),j=c.add(i,j),i=c.sub(n,j),j=c.add(n,j),j=c.mul(i,j),i=c.mul(p,i),k=c.mul(e,k),o=c.mul(a,o),p=c.sub(l,o),p=c.mul(a,p),p=c.add(p,k),k=c.add(l,l),l=c.add(k,l),l=c.add(l,o),l=c.mul(l,p),j=c.add(j,l),o=c.mul(g,h),o=c.add(o,o),l=c.mul(o,p),i=c.sub(i,l),k=c.mul(o,n),k=c.add(k,k),new v(i,j,k=c.add(k,k))}add(a){s(a);let{px:d,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,j=c.ZERO,k=c.ZERO,l=c.ZERO,n=b.a,o=c.mul(b.b,m),p=c.mul(d,g),q=c.mul(e,h),r=c.mul(f,i),t=c.add(d,e),u=c.add(g,h);t=c.mul(t,u),u=c.add(p,q),t=c.sub(t,u),u=c.add(d,f);let w=c.add(g,i);return u=c.mul(u,w),w=c.add(p,r),u=c.sub(u,w),w=c.add(e,f),j=c.add(h,i),w=c.mul(w,j),j=c.add(q,r),w=c.sub(w,j),l=c.mul(n,u),j=c.mul(o,r),l=c.add(j,l),j=c.sub(q,l),l=c.add(q,l),k=c.mul(j,l),q=c.add(p,p),q=c.add(q,p),r=c.mul(n,r),u=c.mul(o,u),q=c.add(q,r),r=c.sub(p,r),r=c.mul(n,r),u=c.add(u,r),p=c.mul(q,u),k=c.add(k,p),p=c.mul(w,u),j=c.mul(t,j),j=c.sub(j,p),p=c.mul(t,q),l=c.mul(w,l),new v(j,k,l=c.add(l,p))}subtract(a){return this.add(a.negate())}is0(){return this.equals(v.ZERO)}wNAF(a){return y.wNAFCached(this,a,v.normalizeZ)}multiplyUnsafe(a){let{endo:d,n:e}=b;(0,f.aInRange)("scalar",a,j,e);let g=v.ZERO;if(a===j)return g;if(this.is0()||a===k)return this;if(!d||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,a,v.normalizeZ);let{k1neg:h,k1:i,k2neg:l,k2:m}=d.splitScalar(a),n=g,o=g,p=this;for(;i>j||m>j;)i&k&&(n=n.add(p)),m&k&&(o=o.add(p)),p=p.double(),i>>=k,m>>=k;return h&&(n=n.negate()),l&&(o=o.negate()),o=new v(c.mul(o.px,d.beta),o.py,o.pz),n.add(o)}multiply(a){let d,e,{endo:g,n:h}=b;if((0,f.aInRange)("scalar",a,k,h),g){let{k1neg:b,k1:f,k2neg:h,k2:i}=g.splitScalar(a),{p:j,f:k}=this.wNAF(f),{p:l,f:m}=this.wNAF(i);j=y.constTimeNegate(b,j),l=y.constTimeNegate(h,l),l=new v(c.mul(l.px,g.beta),l.py,l.pz),d=j.add(l),e=k.add(m)}else{let{p:b,f:c}=this.wNAF(a);d=b,e=c}return v.normalizeZ([d,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=v.BASE,e=(a,b)=>b!==j&&b!==k&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return t(this,a)}isTorsionFree(){let{h:a,isTorsionFree:c}=b;if(a===k)return!0;if(c)return c(v,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:c}=b;return a===k?this:c?c(v,this):this.multiplyUnsafe(b.h)}toRawBytes(a=!0){return(0,f.abool)("isCompressed",a),this.assertValidity(),h(v,this,a)}toHex(a=!0){return(0,f.abool)("isCompressed",a),(0,f.bytesToHex)(this.toRawBytes(a))}}v.BASE=new v(b.Gx,b.Gy,c.ONE),v.ZERO=new v(c.ZERO,c.ONE,c.ZERO);let{endo:w,nBitLength:x}=b,y=(0,d.wNAF)(v,w?Math.ceil(x/2):x);return{CURVE:b,ProjectivePoint:v,normPrivateKeyToScalar:r,weierstrassEquation:l,isWithinCurveOrder:function(a){return(0,f.inRange)(a,k,b.n)}}}({...c,toBytes(a,b,c){let d=b.toAffine(),e=l.toBytes(d.x),g=f.concatBytes;return((0,f.abool)("isCompressed",c),c)?g(Uint8Array.from([b.hasEvenY()?2:3]),e):g(Uint8Array.from([4]),e,l.toBytes(d.y))},fromBytes(a){let b=a.length,c=a[0],d=a.subarray(1);if(b===r&&(2===c||3===c)){let a,b=(0,f.bytesToNumberBE)(d);if(!(0,f.inRange)(b,k,l.ORDER))throw Error("Point is not on curve");let e=x(b);try{a=l.sqrt(e)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&k)===k)&&(a=l.neg(a)),{x:b,y:a}}if(b===s&&4===c)return{x:l.fromBytes(d.subarray(0,l.BYTES)),y:l.fromBytes(d.subarray(l.BYTES,2*l.BYTES))};throw Error("invalid Point, expected length of "+r+", or uncompressed "+s+", got "+b)}}),z=(a,b,c)=>(0,f.bytesToNumberBE)(a.slice(b,c));class A{constructor(a,b,c){(0,f.aInRange)("r",a,k,o),(0,f.aInRange)("s",b,k,o),this.r=a,this.s=b,null!=c&&(this.recovery=c),Object.freeze(this)}static fromCompact(a){return new A(z(a=(0,f.ensureBytes)("compactSignature",a,2*p),0,p),z(a,p,2*p))}static fromDER(a){let{r:b,s:c}=h.toSig((0,f.ensureBytes)("DER",a));return new A(b,c)}assertValidity(){}addRecoveryBit(a){return new A(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:d,recovery:e}=this,g=D((0,f.ensureBytes)("msgHash",a));if(null==e||![0,1,2,3].includes(e))throw Error("recovery id invalid");let h=2===e||3===e?b+c.n:b;if(h>=l.ORDER)throw Error("recovery id 2 or 3 invalid");let j=(1&e)==0?"02":"03",k=v.fromHex(j+i(h,l.BYTES)),m=u(h),n=t(-g*m),o=t(d*m),p=v.BASE.multiplyAndAddUnsafe(k,n,o);if(!p)throw Error("point at infinify");return p.assertValidity(),p}hasHighS(){return this.s>o>>k}normalizeS(){return this.hasHighS()?new A(this.r,t(-this.s),this.recovery):this}toDERRawBytes(){return(0,f.hexToBytes)(this.toDERHex())}toDERHex(){return h.hexFromSig(this)}toCompactRawBytes(){return(0,f.hexToBytes)(this.toCompactHex())}toCompactHex(){return i(this.r,p)+i(this.s,p)}}function B(a){if("bigint"==typeof a)return!1;if(a instanceof v)return!0;let b=(0,f.ensureBytes)("key",a).length,d=l.BYTES,e=d+1;if(!c.allowedPrivateKeyLengths&&p!==e)return b===e||b===2*d+1}let C=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=(0,f.bytesToNumberBE)(a),c=8*a.length-q;return c>0?b>>BigInt(c):b},D=c.bits2int_modN||function(a){return t(C(a))},E=(0,f.bitMask)(q);function F(a){return(0,f.aInRange)("num < 2^"+q,a,j,E),(0,f.numberToBytesBE)(a,p)}let G={lowS:c.lowS,prehash:!1},H={lowS:c.lowS,prehash:!1};return v.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return v.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(!0===B(a))throw Error("first arg must be private key");if(!1===B(b))throw Error("second arg must be public key");return v.fromHex(b).multiply(w(a)).toRawBytes(c)},sign:function(a,b,d=G){let{seed:e,k2sig:h}=function(a,b,d=G){if(["recovered","canonical"].some(a=>a in d))throw Error("sign() legacy options not supported");let{hash:e,randomBytes:h}=c,{lowS:i,prehash:m,extraEntropy:n}=d;null==i&&(i=!0),a=(0,f.ensureBytes)("msgHash",a),g(d),m&&(a=(0,f.ensureBytes)("prehashed msgHash",e(a)));let p=D(a),q=w(b),r=[F(q),F(p)];if(null!=n&&!1!==n){let a=!0===n?h(l.BYTES):n;r.push((0,f.ensureBytes)("extraEntropy",a))}return{seed:(0,f.concatBytes)(...r),k2sig:function(a){var b;let c=C(a);if(!y(c))return;let d=u(c),e=v.BASE.multiply(c).toAffine(),f=t(e.x);if(f===j)return;let g=t(d*t(p+f*q));if(g===j)return;let h=2*(e.x!==f)|Number(e.y&k),l=g;return i&&g>o>>k&&(l=(b=g)>o>>k?t(-b):b,h^=1),new A(f,l,h)}}}(a,b,d);return(0,f.createHmacDrbg)(c.hash.outputLen,c.nByteLength,c.hmac)(e,h)},verify:function(a,b,d,e=H){let i,j;b=(0,f.ensureBytes)("msgHash",b),d=(0,f.ensureBytes)("publicKey",d);let{lowS:k,prehash:l,format:m}=e;if(g(e),"strict"in e)throw Error("options.strict was renamed to lowS");if(void 0!==m&&"compact"!==m&&"der"!==m)throw Error("format must be compact or der");let n="string"==typeof a||(0,f.isBytes)(a),o=!n&&!m&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!n&&!o)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(o&&(j=new A(a.r,a.s)),n){try{"compact"!==m&&(j=A.fromDER(a))}catch(a){if(!(a instanceof h.Err))throw a}j||"der"===m||(j=A.fromCompact(a))}i=v.fromHex(d)}catch(a){return!1}if(!j||k&&j.hasHighS())return!1;l&&(b=c.hash(b));let{r:p,s:q}=j,r=D(b),s=u(q),w=t(r*s),x=t(p*s),y=v.BASE.multiplyAndAddUnsafe(i,w,x)?.toAffine();return!!y&&t(y.x)===p},ProjectivePoint:v,Signature:A,utils:{isValidPrivateKey(a){try{return w(a),!0}catch(a){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{let a=(0,e.getMinHashLength)(c.n);return(0,e.mapHashToField)(c.randomBytes(a),c.n)},precompute:(a=8,b=v.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}}function p(a,b){if((0,e.validateField)(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=function(a,b){let c=a.ORDER,d=j;for(let a=c-k;a%l===j;a/=l)d+=k;let e=d,f=l<<e-k-k,g=f*l,h=(c-k)/g,i=(h-k)/l,o=g-k,p=a.pow(b,h),q=a.pow(b,(h+k)/l),r=(b,c)=>{let d=p,g=a.pow(c,o),h=a.sqr(g);h=a.mul(h,c);let j=a.mul(b,h);j=a.pow(j,i),j=a.mul(j,g),g=a.mul(j,c),h=a.mul(j,b);let m=a.mul(h,g);j=a.pow(m,f);let n=a.eql(j,a.ONE);g=a.mul(h,q),j=a.mul(m,d),h=a.cmov(g,h,n),m=a.cmov(j,m,n);for(let b=e;b>k;b--){let c=b-l;c=l<<c-k;let e=a.pow(m,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(m,d),h=a.cmov(g,h,f),m=a.cmov(e,m,f)}return{isValid:n,value:h}};if(a.ORDER%n===m){let c=(a.ORDER-m)/n,d=a.sqrt(a.neg(b));r=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return r}(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let f,g,h,i,j,k,l,m;f=a.sqr(d),f=a.mul(f,b.Z),g=a.sqr(f),g=a.add(g,f),h=a.add(g,a.ONE),h=a.mul(h,b.B),i=a.cmov(b.Z,a.neg(g),!a.eql(g,a.ZERO)),i=a.mul(i,b.A),g=a.sqr(h),k=a.sqr(i),j=a.mul(k,b.A),g=a.add(g,j),g=a.mul(g,h),k=a.mul(k,i),j=a.mul(k,b.B),g=a.add(g,j),l=a.mul(f,h);let{isValid:n,value:o}=c(g,k);m=a.mul(f,d),m=a.mul(m,o),l=a.cmov(l,h,n),m=a.cmov(m,o,n);let p=a.isOdd(d)===a.isOdd(m);m=a.cmov(a.neg(m),m,p);let q=(0,e.FpInvertBatch)(a,[i],!0)[0];return{x:l=a.mul(l,q),y:m}}}function q(a,d){let e=d=>o({...a,...{hash:d,hmac:(a,...e)=>(0,b.hmac)(d,a,(0,c.concatBytes)(...e)),randomBytes:c.randomBytes}});return{...e(d),create:e}}a.s(["mapToCurveSimpleSWU",()=>p,"weierstrass",()=>o],42587),a.s(["createCurve",()=>q],33830)},57871,a=>{"use strict";var b=a.i(59029),c=a.i(7140);let d=c.bytesToNumberBE;function e(a,b){if(f(a),f(b),a<0||a>=1<<8*b)throw Error("invalid I2OSP input: "+a);let c=Array.from({length:b}).fill(0);for(let d=b-1;d>=0;d--)c[d]=255&a,a>>>=8;return new Uint8Array(c)}function f(a){if(!Number.isSafeInteger(a))throw Error("number expected")}function g(a,b,d,g){(0,c.abytes)(a),(0,c.abytes)(b),f(d),b.length>255&&(b=g((0,c.concatBytes)((0,c.utf8ToBytes)("H2C-OVERSIZE-DST-"),b)));let{outputLen:h,blockLen:i}=g,j=Math.ceil(d/h);if(d>65535||j>255)throw Error("expand_message_xmd: invalid lenInBytes");let k=(0,c.concatBytes)(b,e(b.length,1)),l=e(0,i),m=e(d,2),n=Array(j),o=g((0,c.concatBytes)(l,a,m,e(0,1),k));n[0]=g((0,c.concatBytes)(o,e(1,1),k));for(let a=1;a<=j;a++){let b=[function(a,b){let c=new Uint8Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[d]^b[d];return c}(o,n[a-1]),e(a+1,1),k];n[a]=g((0,c.concatBytes)(...b))}return(0,c.concatBytes)(...n).slice(0,d)}function h(a,h,i){let j;(0,c.validateObject)(i,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:k,k:l,m,hash:n,expand:o,DST:p}=i;(0,c.abytes)(a),f(h);let q="string"==typeof p?(0,c.utf8ToBytes)(p):p,r=Math.ceil((k.toString(2).length+l)/8),s=h*m*r;if("xmd"===o)j=g(a,q,s,n);else if("xof"===o)j=function(a,b,d,g,h){if((0,c.abytes)(a),(0,c.abytes)(b),f(d),b.length>255){let a=Math.ceil(2*g/8);b=h.create({dkLen:a}).update((0,c.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(b).digest()}if(d>65535||b.length>255)throw Error("expand_message_xof: invalid lenInBytes");return h.create({dkLen:d}).update(a).update(e(d,2)).update(b).update(e(b.length,1)).digest()}(a,q,s,l,n);else if("_internal_pass"===o)j=a;else throw Error('expand must be "xmd" or "xof"');let t=Array(h);for(let a=0;a<h;a++){let c=Array(m);for(let e=0;e<m;e++){let f=r*(e+a*m),g=j.subarray(f,f+r);c[e]=(0,b.mod)(d(g),k)}t[a]=c}return t}function i(a,c){let d=c.map(a=>Array.from(a).reverse());return(c,e)=>{let[f,g,h,i]=d.map(b=>b.reduce((b,d)=>a.add(a.mul(b,c),d))),[j,k]=(0,b.FpInvertBatch)(a,[g,i],!0);return c=a.mul(f,j),e=a.mul(e,a.mul(h,k)),{x:c,y:e}}}function j(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined");function d(c){return a.fromAffine(b(c))}function e(b){let c=b.clearCofactor();return c.equals(a.ZERO)?a.ZERO:(c.assertValidity(),c)}return{defaults:c,hashToCurve(a,b){let f=h(a,2,{...c,DST:c.DST,...b}),g=d(f[0]),i=d(f[1]);return e(g.add(i))},encodeToCurve:(a,b)=>e(d(h(a,1,{...c,DST:c.encodeDST,...b})[0])),mapToCurve(a){if(!Array.isArray(a))throw Error("expected array of bigints");for(let b of a)if("bigint"!=typeof b)throw Error("expected array of bigints");return e(d(a))}}}a.s(["createHasher",()=>j,"expand_message_xmd",()=>g,"isogenyMap",()=>i])},54476,a=>{"use strict";var b=a.i(16148),c=a.i(77832),d=a.i(33830),e=a.i(57871),f=a.i(59029),g=a.i(7140),h=a.i(42587);let i=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),j=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k=BigInt(0),l=BigInt(1),m=BigInt(2),n=(a,b)=>(a+b/m)/b;function o(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),g=BigInt(23),h=BigInt(44),j=BigInt(88),k=a*a*a%i,l=k*k*a%i,n=(0,f.pow2)(l,b,i)*l%i,o=(0,f.pow2)(n,b,i)*l%i,q=(0,f.pow2)(o,m,i)*k%i,r=(0,f.pow2)(q,d,i)*q%i,s=(0,f.pow2)(r,e,i)*r%i,t=(0,f.pow2)(s,h,i)*s%i,u=(0,f.pow2)(t,j,i)*t%i,v=(0,f.pow2)(u,h,i)*s%i,w=(0,f.pow2)(v,b,i)*l%i,x=(0,f.pow2)(w,g,i)*r%i,y=(0,f.pow2)(x,c,i)*k%i,z=(0,f.pow2)(y,m,i);if(!p.eql(p.sqr(z),a))throw Error("Cannot find square root");return z}let p=(0,f.Field)(i,void 0,void 0,{sqrt:o}),q=(0,d.createCurve)({a:k,b:BigInt(7),Fp:p,n:j,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),g=n(b*a,j),h=n(-c*a,j),i=(0,f.mod)(a-g*b-h*d,j),k=(0,f.mod)(-g*c-h*b,j),m=i>e,o=k>e;if(m&&(i=j-i),o&&(k=j-k),i>e||k>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:m,k1:i,k2neg:o,k2:k}}}},b.sha256),r={};function s(a,...c){let d=r[a];if(void 0===d){let c=(0,b.sha256)(Uint8Array.from(a,a=>a.charCodeAt(0)));d=(0,g.concatBytes)(c,c),r[a]=d}return(0,b.sha256)((0,g.concatBytes)(d,...c))}let t=a=>a.toRawBytes(!0).slice(1),u=a=>(0,g.numberToBytesBE)(a,32),v=a=>(0,f.mod)(a,i),w=a=>(0,f.mod)(a,j),x=q.ProjectivePoint;function y(a){let b=q.utils.normPrivateKeyToScalar(a),c=x.fromPrivateKey(b);return{scalar:c.hasEvenY()?b:w(-b),bytes:t(c)}}function z(a){(0,g.aInRange)("x",a,l,i);let b=v(a*a),c=o(v(b*a+BigInt(7)));c%m!==k&&(c=v(-c));let d=new x(a,c,l);return d.assertValidity(),d}let A=g.bytesToNumberBE;function B(...a){return w(A(s("BIP0340/challenge",...a)))}function C(a,b,c){let d=(0,g.ensureBytes)("signature",a,64),e=(0,g.ensureBytes)("message",b),f=(0,g.ensureBytes)("publicKey",c,32);try{let a,b=z(A(f)),c=A(d.subarray(0,32));if(!(0,g.inRange)(c,l,i))return!1;let h=A(d.subarray(32,64));if(!(0,g.inRange)(h,l,j))return!1;let k=B(u(c),t(b),e),m=(a=w(-k),x.BASE.multiplyAndAddUnsafe(b,h,a));if(!m||!m.hasEvenY()||m.toAffine().x!==c)return!1;return!0}catch(a){return!1}}let D={getPublicKey:function(a){return y(a).bytes},sign:function(a,b,d=(0,c.randomBytes)(32)){let e=(0,g.ensureBytes)("message",a),{bytes:f,scalar:h}=y(b),i=u(h^A(s("BIP0340/aux",(0,g.ensureBytes)("auxRand",d,32)))),j=w(A(s("BIP0340/nonce",i,f,e)));if(j===k)throw Error("sign failed: k is zero");let{bytes:l,scalar:m}=y(j),n=B(l,f,e),o=new Uint8Array(64);if(o.set(l,0),o.set(u(w(m+n*h)),32),!C(o,e,f))throw Error("sign: Invalid signature produced");return o},verify:C,utils:{randomPrivateKey:q.utils.randomPrivateKey,lift_x:z,pointToBytes:t,numberToBytesBE:g.numberToBytesBE,bytesToNumberBE:g.bytesToNumberBE,taggedHash:s,mod:f.mod}},E=(0,e.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a)))),F=(0,h.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))}),G=(0,e.createHasher)(q.ProjectivePoint,a=>{let{x:b,y:c}=F(p.create(a[0]));return E(b,c)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:b.sha256}),H=G.hashToCurve,I=G.encodeToCurve;a.s(["encodeToCurve",0,I,"hashToCurve",0,H,"schnorr",0,D,"secp256k1",0,q,"secp256k1_hasher",0,G])}];

//# sourceMappingURL=node_modules_%40noble_652ae70b._.js.map