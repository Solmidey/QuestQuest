module.exports=[64221,a=>{"use strict";var b=a.i(72694),c=a.i(85228),d=a.i(16155),e=a.i(21374),f=a.i(82271);function g(a,{abi:g,address:h,args:i,docsPath:j,functionName:k,sender:l}){let m=a instanceof d.RawContractError?a:a instanceof c.BaseError?a.walk(a=>"data"in a)||a.walk():{},{code:n,data:o,details:p,message:q,shortMessage:r}=m,s=a instanceof b.AbiDecodingZeroDataError?new d.ContractFunctionZeroDataError({functionName:k}):[3,f.InternalRpcError.code].includes(n)&&(o||p||q||r)||n===f.InvalidInputRpcError.code&&"execution reverted"===p&&o?new d.ContractFunctionRevertedError({abi:g,data:"object"==typeof o?o.data:o,functionName:k,message:m instanceof e.RpcRequestError?p:r??q}):a;return new d.ContractFunctionExecutionError(s,{abi:g,args:i,contractAddress:h,docsPath:j,functionName:k,sender:l})}a.s(["getContractError",()=>g])},9987,a=>{"use strict";function b(a,b,c){let d=a[b.name];if("function"==typeof d)return d;let e=a[c];return"function"==typeof e?e:c=>b(a,c)}a.s(["getAction",()=>b])},20402,a=>{"use strict";var b=a.i(66604),c=a.i(59854),d=a.i(64221),e=a.i(9987),f=a.i(87216);async function g(a,g){let{abi:h,address:i,args:j,functionName:k,...l}=g,m=(0,c.encodeFunctionData)({abi:h,args:j,functionName:k});try{let{data:c}=await (0,e.getAction)(a,f.call,"call")({...l,data:m,to:i});return(0,b.decodeFunctionResult)({abi:h,args:j,functionName:k,data:c||"0x"})}catch(a){throw(0,d.getContractError)(a,{abi:h,address:i,args:j,docsPath:"/docs/contract/readContract",functionName:k})}}a.s(["readContract",()=>g])},71292,a=>{"use strict";var b=a.i(21570);async function c(a,{address:c,blockNumber:d,blockTag:e=a.experimental_blockTag??"latest"}){let f="bigint"==typeof d?(0,b.numberToHex)(d):void 0;return BigInt(await a.request({method:"eth_getBalance",params:[c,f||e]}))}a.s(["getBalance",()=>c])},71723,a=>{"use strict";var b=a.i(15521),c=a.i(30709),d=a.i(72694),e=a.i(85228),f=a.i(16155),g=a.i(66604),h=a.i(59854),i=a.i(97747),j=a.i(64221),k=a.i(9987),l=a.i(20402);async function m(a,m){let{account:n,authorizationList:o,allowFailure:p=!0,blockNumber:q,blockOverrides:r,blockTag:s,stateOverride:t}=m,u=m.contracts,{batchSize:v=m.batchSize??1024,deployless:w=m.deployless??!1}="object"==typeof a.batch?.multicall?a.batch.multicall:{},x=(()=>{if(m.multicallAddress)return m.multicallAddress;if(w)return null;if(a.chain)return(0,i.getChainContractAddress)({blockNumber:q,chain:a.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),y=[[]],z=0,A=0;for(let a=0;a<u.length;a++){let{abi:b,address:c,args:d,functionName:e}=u[a];try{let a=(0,h.encodeFunctionData)({abi:b,args:d,functionName:e});A+=(a.length-2)/2,v>0&&A>v&&y[z].length>0&&(z++,A=(a.length-2)/2,y[z]=[]),y[z]=[...y[z],{allowFailure:!0,callData:a,target:c}]}catch(f){let a=(0,j.getContractError)(f,{abi:b,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:e,sender:n});if(!p)throw a;y[z]=[...y[z],{allowFailure:!0,callData:"0x",target:c}]}}let B=await Promise.allSettled(y.map(d=>(0,k.getAction)(a,l.readContract,"readContract")({...null===x?{code:c.multicall3Bytecode}:{address:x},abi:b.multicall3Abi,account:n,args:[d],authorizationList:o,blockNumber:q,blockOverrides:r,blockTag:s,functionName:"aggregate3",stateOverride:t}))),C=[];for(let a=0;a<B.length;a++){let b=B[a];if("rejected"===b.status){if(!p)throw b.reason;for(let c=0;c<y[a].length;c++)C.push({status:"failure",error:b.reason,result:void 0});continue}let c=b.value;for(let b=0;b<c.length;b++){let{returnData:e,success:h}=c[b],{callData:i}=y[a][b],{abi:k,address:l,functionName:m,args:n}=u[C.length];try{if("0x"===i)throw new d.AbiDecodingZeroDataError;if(!h)throw new f.RawContractError({data:e});let a=(0,g.decodeFunctionResult)({abi:k,args:n,data:e,functionName:m});C.push(p?{result:a,status:"success"}:a)}catch(b){let a=(0,j.getContractError)(b,{abi:k,address:l,args:n,docsPath:"/docs/contract/multicall",functionName:m});if(!p)throw a;C.push({error:a,result:void 0,status:"failure"})}}}if(C.length!==u.length)throw new e.BaseError("multicall results mismatch");return C}a.s(["multicall",()=>m])},70548,a=>{"use strict";var b=a.i(85228);class c extends b.BaseError{constructor({docsPath:a}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:a,docsSlug:"account",name:"AccountNotFoundError"})}}class d extends b.BaseError{constructor({docsPath:a,metaMessages:b,type:c}){super(`Account type "${c}" is not supported.`,{docsPath:a,metaMessages:b,name:"AccountTypeNotSupportedError"})}}a.s(["AccountNotFoundError",()=>c,"AccountTypeNotSupportedError",()=>d])},20419,91111,a=>{"use strict";var b=a.i(16330),c=a.i(52868),d=a.i(48894),e=a.i(66323),f=a.i(74116),g=a.i(21570);async function h({hash:b,signature:c}){let h=(0,d.isHex)(b)?b:(0,g.toHex)(b),{secp256k1:j}=await a.A(35681),k=(()=>{if("object"==typeof c&&"r"in c&&"s"in c){let{r:a,s:b,v:d,yParity:e}=c,g=i(Number(e??d));return new j.Signature((0,f.hexToBigInt)(a),(0,f.hexToBigInt)(b)).addRecoveryBit(g)}let a=(0,d.isHex)(c)?c:(0,g.toHex)(c);if(65!==(0,e.size)(a))throw Error("invalid signature length");let b=i((0,f.hexToNumber)(`0x${a.slice(130)}`));return j.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(b)})().recoverPublicKey(h.substring(2)).toHex(!1);return`0x${k}`}function i(a){if(0===a||1===a)return a;if(27===a)return 0;if(28===a)return 1;throw Error("Invalid yParityOrV value")}async function j({hash:a,signature:d}){var e;let f;return e=await h({hash:a,signature:d}),f=(0,c.keccak256)(`0x${e.substring(4)}`).substring(26),(0,b.checksumAddress)(`0x${f}`)}a.s(["recoverAddress",()=>j],91111);var k=a.i(29664),l=a.i(66167),m=a.i(21045);async function n(a){let{authorization:b,signature:d}=a;return j({hash:function(a){let{chainId:b,nonce:d,to:e}=a,f=a.contractAddress??a.address,h=(0,c.keccak256)((0,k.concatHex)(["0x05",(0,m.toRlp)([b?(0,g.numberToHex)(b):"0x",f,d?(0,g.numberToHex)(d):"0x"])]));return"bytes"===e?(0,l.hexToBytes)(h):h}(b),signature:d??b})}a.s(["recoverAuthorizationAddress",()=>n],20419)},88963,a=>{"use strict";var b=a.i(7907);function c({chain:a,currentChainId:c}){if(!a)throw new b.ChainNotFoundError;if(c!==a.id)throw new b.ChainMismatchError({chain:a,currentChainId:c})}a.s(["assertCurrentChain",()=>c])},97693,528,a=>{"use strict";var b=a.i(62940),c=a.i(58433),d=a.i(44137);function e(a,{docsPath:e,...f}){let g,h=(g=(0,d.getNodeError)(a,f))instanceof b.UnknownNodeError?a:g;return new c.TransactionExecutionError(h,{docsPath:e,...f})}a.s(["getTransactionError",()=>e],97693);var f=a.i(74116);async function g(a){let b=await a.request({method:"eth_chainId"},{dedupe:!0});return(0,f.hexToNumber)(b)}a.s(["getChainId",()=>g],528)},97260,93083,93293,17425,12271,8717,a=>{"use strict";var b=a.i(6243),c=a.i(85228);class d extends c.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class e extends c.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class f extends c.BaseError{constructor({maxPriorityFeePerGas:a}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,b.formatGwei)(a)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}a.s(["BaseFeeScalarError",()=>d,"Eip1559FeesNotSupportedError",()=>e,"MaxFeePerGasTooLowError",()=>f],93083);var g=a.i(9987),h=a.i(74116),i=c;class j extends i.BaseError{constructor({blockHash:a,blockNumber:b}){let c="Block";a&&(c=`Block at hash "${a}"`),b&&(c=`Block at number "${b}"`),super(`${c} could not be found.`,{name:"BlockNotFoundError"})}}a.s(["BlockNotFoundError",()=>j],93293);var k=a.i(21570),l=a.i(90360);async function m(a,{blockHash:b,blockNumber:c,blockTag:d=a.experimental_blockTag??"latest",includeTransactions:e}={}){let f=e??!1,g=void 0!==c?(0,k.numberToHex)(c):void 0,h=null;if(!(h=b?await a.request({method:"eth_getBlockByHash",params:[b,f]},{dedupe:!0}):await a.request({method:"eth_getBlockByNumber",params:[g||d,f]},{dedupe:!!g})))throw new j({blockHash:b,blockNumber:c});return(a.chain?.formatters?.block?.format||l.formatBlock)(h,"getBlock")}async function n(a){return BigInt(await a.request({method:"eth_gasPrice"}))}async function o(a,b){return p(a,b)}async function p(a,b){let{block:c,chain:d=a.chain,request:f}=b||{};try{let b=d?.fees?.maxPriorityFeePerGas??d?.fees?.defaultPriorityFee;if("function"==typeof b){let d=c||await (0,g.getAction)(a,m,"getBlock")({}),e=await b({block:d,client:a,request:f});if(null===e)throw Error();return e}if(void 0!==b)return b;let e=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,h.hexToBigInt)(e)}catch{let[b,d]=await Promise.all([c?Promise.resolve(c):(0,g.getAction)(a,m,"getBlock")({}),(0,g.getAction)(a,n,"getGasPrice")({})]);if("bigint"!=typeof b.baseFeePerGas)throw new e;let f=d-b.baseFeePerGas;if(f<0n)return 0n;return f}}async function q(a,b){return r(a,b)}async function r(a,b){let{block:c,chain:f=a.chain,request:h,type:i="eip1559"}=b||{},j=await (async()=>"function"==typeof f?.fees?.baseFeeMultiplier?f.fees.baseFeeMultiplier({block:c,client:a,request:h}):f?.fees?.baseFeeMultiplier??1.2)();if(j<1)throw new d;let k=j.toString().split(".")[1]?.length??0,l=10**k,o=a=>a*BigInt(Math.ceil(j*l))/BigInt(l),q=c||await (0,g.getAction)(a,m,"getBlock")({});if("function"==typeof f?.fees?.estimateFeesPerGas){let b=await f.fees.estimateFeesPerGas({block:c,client:a,multiply:o,request:h,type:i});if(null!==b)return b}if("eip1559"===i){if("bigint"!=typeof q.baseFeePerGas)throw new e;let b="bigint"==typeof h?.maxPriorityFeePerGas?h.maxPriorityFeePerGas:await p(a,{block:q,chain:f,request:h}),c=o(q.baseFeePerGas);return{maxFeePerGas:h?.maxFeePerGas??c+b,maxPriorityFeePerGas:b}}return{gasPrice:h?.gasPrice??o(await (0,g.getAction)(a,n,"getGasPrice")({}))}}a.s(["getBlock",()=>m],17425),a.s(["getGasPrice",()=>n],12271),a.s(["estimateMaxPriorityFeePerGas",()=>o,"internal_estimateMaxPriorityFeePerGas",()=>p],8717),a.s(["estimateFeesPerGas",()=>q,"internal_estimateFeesPerGas",()=>r],97260)},92225,a=>{"use strict";var b=a.i(75946),c=a.i(6243),d=a.i(85228),e=a.i(58433);class f extends d.BaseError{constructor(a,{account:d,docsPath:f,chain:g,data:h,gas:i,gasPrice:j,maxFeePerGas:k,maxPriorityFeePerGas:l,nonce:m,to:n,value:o}){super(a.shortMessage,{cause:a,docsPath:f,metaMessages:[...a.metaMessages?[...a.metaMessages," "]:[],"Estimate Gas Arguments:",(0,e.prettyPrint)({from:d?.address,to:n,value:void 0!==o&&`${(0,b.formatEther)(o)} ${g?.nativeCurrency?.symbol||"ETH"}`,data:h,gas:i,gasPrice:void 0!==j&&`${(0,c.formatGwei)(j)} gwei`,maxFeePerGas:void 0!==k&&`${(0,c.formatGwei)(k)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,c.formatGwei)(l)} gwei`,nonce:m})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=a}}var g=a.i(62940),h=a.i(44137);function i(a,{docsPath:b,...c}){let d;return new f((d=(0,h.getNodeError)(a,c))instanceof g.UnknownNodeError?a:d,{docsPath:b,...c})}a.s(["getEstimateGasError",()=>i],92225)},33430,a=>{"use strict";a.s(["estimateGas",()=>l]);var b=a.i(34510),c=a.i(85228),d=a.i(20419),e=a.i(21570),f=a.i(92225),g=a.i(16200),h=a.i(37998),i=a.i(40111),j=a.i(45914),k=a.i(66451);async function l(a,l){let{account:m=a.account,prepare:n=!0}=l,o=m?(0,b.parseAccount)(m):void 0,p=Array.isArray(n)?n:o?.type!=="local"?["blobVersionedHashes"]:void 0;try{let{accessList:b,authorizationList:f,blobs:m,blobVersionedHashes:q,blockNumber:r,blockTag:s,data:t,gas:u,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:y,nonce:z,value:A,stateOverride:B,...C}=n?await (0,k.prepareTransactionRequest)(a,{...l,parameters:p}):l,D=("bigint"==typeof r?(0,e.numberToHex)(r):void 0)||s,E=(0,i.serializeStateOverride)(B),F=await (async()=>C.to?C.to:f&&f.length>0?await (0,d.recoverAuthorizationAddress)({authorization:f[0]}).catch(()=>{throw new c.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,j.assertRequest)(l);let G=a.chain?.formatters?.transactionRequest?.format,H=(G||h.formatTransactionRequest)({...(0,g.extract)(C,{format:G}),account:o,accessList:b,authorizationList:f,blobs:m,blobVersionedHashes:q,data:t,gas:u,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:y,nonce:z,to:F,value:A},"estimateGas");return BigInt(await a.request({method:"eth_estimateGas",params:E?[H,D??a.experimental_blockTag??"latest",E]:D?[H,D]:[H]}))}catch(b){throw(0,f.getEstimateGasError)(b,{...l,account:o,chain:a.chain})}}},73579,a=>{"use strict";var b=a.i(74116),c=a.i(21570);async function d(a,{address:d,blockTag:e="latest",blockNumber:f}){let g=await a.request({method:"eth_getTransactionCount",params:[d,"bigint"==typeof f?(0,c.numberToHex)(f):e]},{dedupe:!!f});return(0,b.hexToNumber)(g)}a.s(["getTransactionCount",()=>d])},66451,5742,a=>{"use strict";a.s(["defaultParameters",()=>v,"prepareTransactionRequest",()=>y],66451);var b=a.i(34510),c=a.i(97260),d=a.i(33430),e=a.i(17425),f=a.i(73579),g=a.i(93083),h=a.i(1024),i=a.i(59397),j=a.i(69109),k=a.i(60494),l=a.i(9987),m=a.i(54170),n=a.i(45914),o=a.i(40126),p=a.i(97693),q=a.i(16200),r=a.i(84786),s=a.i(37998),t=a.i(528);async function u(a,c){let{account:d=a.account,accessList:f,authorizationList:h,chain:i=a.chain,blobVersionedHashes:j,blobs:k,data:m,gas:o,gasPrice:u,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:y,nonceManager:z,to:A,type:B,value:C,...D}=c,E=await (async()=>{if(!d||!z)return y;let c=(0,b.parseAccount)(d),e=i?i.id:await (0,l.getAction)(a,t.getChainId,"getChainId")({});return await z.consume({address:c.address,chainId:e,client:a})})();(0,n.assertRequest)(c);let F=i?.formatters?.transactionRequest?.format,G=(F||s.formatTransactionRequest)({...(0,q.extract)(D,{format:F}),account:d?(0,b.parseAccount)(d):void 0,accessList:f,authorizationList:h,blobs:k,blobVersionedHashes:j,data:m,gas:o,gasPrice:u,maxFeePerBlobGas:v,maxFeePerGas:w,maxPriorityFeePerGas:x,nonce:E,to:A,type:B,value:C},"fillTransaction");try{let b=await a.request({method:"eth_fillTransaction",params:[G]}),d=(i?.formatters?.transaction?.format||r.formatTransaction)(b.tx);delete d.blockHash,delete d.blockNumber,delete d.r,delete d.s,delete d.transactionIndex,delete d.v,delete d.yParity,d.data=d.input,d.gas&&(d.gas=c.gas??d.gas),d.gasPrice&&(d.gasPrice=c.gasPrice??d.gasPrice),d.maxFeePerBlobGas&&(d.maxFeePerBlobGas=c.maxFeePerBlobGas??d.maxFeePerBlobGas),d.maxFeePerGas&&(d.maxFeePerGas=c.maxFeePerGas??d.maxFeePerGas),d.maxPriorityFeePerGas&&(d.maxPriorityFeePerGas=c.maxPriorityFeePerGas??d.maxPriorityFeePerGas),d.nonce&&(d.nonce=c.nonce??d.nonce);let f=await (async()=>{if("function"==typeof i?.fees?.baseFeeMultiplier){let b=await (0,l.getAction)(a,e.getBlock,"getBlock")({});return i.fees.baseFeeMultiplier({block:b,client:a,request:c})}return i?.fees?.baseFeeMultiplier??1.2})();if(f<1)throw new g.BaseFeeScalarError;let h=f.toString().split(".")[1]?.length??0,j=10**h,k=a=>a*BigInt(Math.ceil(f*j))/BigInt(j);return d.maxFeePerGas&&!c.maxFeePerGas&&(d.maxFeePerGas=k(d.maxFeePerGas)),d.gasPrice&&!c.gasPrice&&(d.gasPrice=k(d.gasPrice)),{raw:b.raw,transaction:{from:G.from,...d}}}catch(b){throw(0,p.getTransactionError)(b,{...c,chain:a.chain})}}a.s(["fillTransaction",()=>u],5742);let v=["blobVersionedHashes","chainId","fees","gas","nonce","type"],w=new Map,x=new m.LruMap(128);async function y(a,m){let p,q,r=!1!==x.get(a.uid)&&["fees","gas"].some(a=>m.parameters?.includes(a))?await (0,l.getAction)(a,u,"fillTransaction")(m).then(b=>{let{chainId:c,from:d,gas:e,gasPrice:f,nonce:g,maxFeePerBlobGas:h,maxFeePerGas:i,maxPriorityFeePerGas:j,type:k}=b.transaction;return x.set(a.uid,!0),{...m,chainId:c,from:d,gas:e,gasPrice:f,nonce:g,maxFeePerBlobGas:h,maxFeePerGas:i,maxPriorityFeePerGas:j,type:k}}).catch(b=>(("MethodNotFoundRpcError"===b.cause.name||"MethodNotSupportedRpcError"===b.cause.name)&&x.set(a.uid,!1),m)):m,{account:s=a.account,blobs:y,chain:z,gas:A,kzg:B,nonce:C,nonceManager:D,parameters:E=v,type:F}=r,G=s?(0,b.parseAccount)(s):s,H={...r,...G?{from:G?.address}:{}};async function I(){return p||(p=await (0,l.getAction)(a,e.getBlock,"getBlock")({blockTag:"latest"}))}async function J(){return q||(z?z.id:void 0!==H.chainId?H.chainId:q=await (0,l.getAction)(a,t.getChainId,"getChainId")({}))}if(E.includes("nonce")&&void 0===C&&G)if(D){let b=await J();H.nonce=await D.consume({address:G.address,chainId:b,client:a})}else H.nonce=await (0,l.getAction)(a,f.getTransactionCount,"getTransactionCount")({address:G.address,blockTag:"pending"});if((E.includes("blobVersionedHashes")||E.includes("sidecars"))&&y&&B){let a=(0,h.blobsToCommitments)({blobs:y,kzg:B});if(E.includes("blobVersionedHashes")&&(H.blobVersionedHashes=(0,j.commitmentsToVersionedHashes)({commitments:a,to:"hex"})),E.includes("sidecars")){let b=(0,i.blobsToProofs)({blobs:y,commitments:a,kzg:B});H.sidecars=(0,k.toBlobSidecars)({blobs:y,commitments:a,proofs:b,to:"hex"})}}if(E.includes("chainId")&&(H.chainId=await J()),(E.includes("fees")||E.includes("type"))&&void 0===F)try{H.type=(0,o.getTransactionType)(H)}catch{let b=w.get(a.uid);if(void 0===b){let c=await I();b="bigint"==typeof c?.baseFeePerGas,w.set(a.uid,b)}H.type=b?"eip1559":"legacy"}if(E.includes("fees"))if("legacy"!==H.type&&"eip2930"!==H.type){if(void 0===H.maxFeePerGas||void 0===H.maxPriorityFeePerGas){let b=await I(),{maxFeePerGas:d,maxPriorityFeePerGas:e}=await (0,c.internal_estimateFeesPerGas)(a,{block:b,chain:z,request:H});if(void 0===H.maxPriorityFeePerGas&&H.maxFeePerGas&&H.maxFeePerGas<e)throw new g.MaxFeePerGasTooLowError({maxPriorityFeePerGas:e});H.maxPriorityFeePerGas=e,H.maxFeePerGas=d}}else{if(void 0!==H.maxFeePerGas||void 0!==H.maxPriorityFeePerGas)throw new g.Eip1559FeesNotSupportedError;if(void 0===H.gasPrice){let b=await I(),{gasPrice:d}=await (0,c.internal_estimateFeesPerGas)(a,{block:b,chain:z,request:H,type:"legacy"});H.gasPrice=d}}return E.includes("gas")&&void 0===A&&(H.gas=await (0,l.getAction)(a,d.estimateGas,"estimateGas")({...H,account:G,prepare:G?.type==="local"?[]:["blobVersionedHashes"]})),(0,n.assertRequest)(H),delete H.parameters,H}},58413,a=>{"use strict";async function b(a,{serializedTransaction:b}){return a.request({method:"eth_sendRawTransaction",params:[b]},{retryCount:0})}a.s(["sendRawTransaction",()=>b])},67218,a=>{"use strict";var b=a.i(34510),c=a.i(70548),d=a.i(85228),e=a.i(20419),f=a.i(88963),g=a.i(97693),h=a.i(16200),i=a.i(37998),j=a.i(9987),k=a.i(54170),l=a.i(45914),m=a.i(528),n=a.i(66451),o=a.i(58413);let p=new k.LruMap(128);async function q(a,k){let{account:q=a.account,chain:r=a.chain,accessList:s,authorizationList:t,blobs:u,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,type:C,value:D,...E}=k;if(void 0===q)throw new c.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let F=q?(0,b.parseAccount)(q):null;try{(0,l.assertRequest)(k);let b=await (async()=>k.to?k.to:null!==k.to&&t&&t.length>0?await (0,e.recoverAuthorizationAddress)({authorization:t[0]}).catch(()=>{throw new d.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(F?.type==="json-rpc"||null===F){let c;null!==r&&(c=await (0,j.getAction)(a,m.getChainId,"getChainId")({}),(0,f.assertCurrentChain)({currentChainId:c,chain:r}));let d=a.chain?.formatters?.transactionRequest?.format,e=(d||i.formatTransactionRequest)({...(0,h.extract)(E,{format:d}),accessList:s,account:F,authorizationList:t,blobs:u,chainId:c,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,to:b,type:C,value:D},"sendTransaction"),g=p.get(a.uid);try{return await a.request({method:g?"wallet_sendTransaction":"eth_sendTransaction",params:[e]},{retryCount:0})}catch(b){if(!1===g)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[e]},{retryCount:0}).then(b=>(p.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw p.set(a.uid,!1),b;throw c});throw b}}if(F?.type==="local"){let c=await (0,j.getAction)(a,n.prepareTransactionRequest,"prepareTransactionRequest")({account:F,accessList:s,authorizationList:t,blobs:u,chain:r,data:v,gas:w,gasPrice:x,maxFeePerBlobGas:y,maxFeePerGas:z,maxPriorityFeePerGas:A,nonce:B,nonceManager:F.nonceManager,parameters:[...n.defaultParameters,"sidecars"],type:C,value:D,...E,to:b}),d=r?.serializers?.transaction,e=await F.signTransaction(c,{serializer:d});return await (0,j.getAction)(a,o.sendRawTransaction,"sendRawTransaction")({serializedTransaction:e})}if(F?.type==="smart")throw new c.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new c.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:F?.type})}catch(a){if(a instanceof c.AccountTypeNotSupportedError)throw a;throw(0,g.getTransactionError)(a,{...k,account:F,chain:k.chain||void 0})}}a.s(["sendTransaction",()=>q])},88975,a=>{"use strict";var b=a.i(58433),c=a.i(21570),d=a.i(84786);async function e(a,{blockHash:e,blockNumber:f,blockTag:g,hash:h,index:i,sender:j,nonce:k}){let l=g||"latest",m=void 0!==f?(0,c.numberToHex)(f):void 0,n=null;if(h?n=await a.request({method:"eth_getTransactionByHash",params:[h]},{dedupe:!0}):e?n=await a.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,(0,c.numberToHex)(i)]},{dedupe:!0}):(m||l)&&"number"==typeof i?n=await a.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[m||l,(0,c.numberToHex)(i)]},{dedupe:!!m}):j&&"number"==typeof k&&(n=await a.request({method:"eth_getTransactionBySenderAndNonce",params:[j,(0,c.numberToHex)(k)]},{dedupe:!0})),!n)throw new b.TransactionNotFoundError({blockHash:e,blockNumber:f,blockTag:l,hash:h,index:i});return(a.chain?.formatters?.transaction?.format||d.formatTransaction)(n,"getTransaction")}a.s(["getTransaction",()=>e])},75037,a=>{"use strict";let b=new Map,c=new Map,d=0;function e(a,e,f){let g=++d,h=()=>b.get(a)||[],i=()=>{let d,e=h();if(!e.some(a=>a.id===g))return;let f=c.get(a);if(1===e.length&&f){let a=f();a instanceof Promise&&a.catch(()=>{})}d=h(),b.set(a,d.filter(a=>a.id!==g))},j=h();if(b.set(a,[...j,{id:g,fns:e}]),j&&j.length>0)return i;let k={};for(let a in e)k[a]=(...b)=>{let c=h();if(0!==c.length)for(let d of c)d.fns[a]?.(...b)};let l=f(k);return"function"==typeof l&&c.set(a,l),i}a.s(["observe",()=>e])},65016,a=>{"use strict";var b=a.i(58433),c=a.i(11755);async function d(a,{hash:d}){let e=await a.request({method:"eth_getTransactionReceipt",params:[d]},{dedupe:!0});if(!e)throw new b.TransactionReceiptNotFoundError({hash:d});return(a.chain?.formatters?.transactionReceipt?.format||c.formatTransactionReceipt)(e,"getTransactionReceipt")}a.s(["getTransactionReceipt",()=>d])},95620,a=>{"use strict";var b=a.i(41885);function c(a,{emitOnBegin:c,initialWaitTime:d,interval:e}){let f=!0,g=()=>f=!1;return(async()=>{let h;c&&(h=await a({unpoll:g}));let i=await d?.(h)??e;await (0,b.wait)(i);let j=async()=>{f&&(await a({unpoll:g}),await (0,b.wait)(e),j())};j()})(),g}a.s(["poll",()=>c])},35906,a=>{"use strict";let b=new Map,c=new Map;async function d(a,{cacheKey:d,cacheTime:e=1/0}){let f,g,h,i=(g=(f=(a,b)=>({clear:()=>b.delete(a),get:()=>b.get(a),set:c=>b.set(a,c)}))(d,b),{clear:()=>{g.clear(),h.clear()},promise:g,response:h=f(d,c)}),j=i.response.get();if(j&&e>0&&Date.now()-j.created.getTime()<e)return j.data;let k=i.promise.get();k||(k=a(),i.promise.set(k));try{let a=await k;return i.response.set({created:new Date,data:a}),a}finally{i.promise.clear()}}async function e(a,{cacheTime:b=a.cacheTime}={}){let c;return BigInt(await d(()=>a.request({method:"eth_blockNumber"}),{cacheKey:(c=a.uid,`blockNumber.${c}`),cacheTime:b}))}a.s(["getBlockNumber",()=>e],35906)},13890,36559,a=>{"use strict";var b=a.i(93293),c=a.i(58433),d=a.i(9987),e=a.i(75037),f=a.i(46564),g=a.i(48855),h=a.i(30557),i=a.i(17425),j=a.i(88975),k=a.i(65016),l=a.i(74116),m=a.i(95620),n=a.i(35906);function o(a,{emitOnBegin:b=!1,emitMissed:c=!1,onBlockNumber:f,onError:g,poll:i,pollingInterval:j=a.pollingInterval}){let k,o,p;return(void 0!==i?i:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(o=(0,h.stringify)(["watchBlockNumber",a.uid,b,c,j]),(0,e.observe)(o,{onBlockNumber:f,onError:g},e=>(0,m.poll)(async()=>{try{let b=await (0,d.getAction)(a,n.getBlockNumber,"getBlockNumber")({cacheTime:0});if(void 0!==k){if(b===k)return;if(b-k>1&&c)for(let a=k+1n;a<b;a++)e.onBlockNumber(a,k),k=a}(void 0===k||b>k)&&(e.onBlockNumber(b,k),k=b)}catch(a){e.onError?.(a)}},{emitOnBegin:b,interval:j}))):(p=(0,h.stringify)(["watchBlockNumber",a.uid,b,c]),(0,e.observe)(p,{onBlockNumber:f,onError:g},b=>{let c=!0,d=()=>c=!1;return(async()=>{try{let e=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:f}=await e.subscribe({params:["newHeads"],onData(a){if(!c)return;let d=(0,l.hexToBigInt)(a.result?.number);b.onBlockNumber(d,k),k=d},onError(a){b.onError?.(a)}});d=f,c||d()}catch(a){g?.(a)}})(),()=>d()}))}async function p(a,l){let m,n,p,q,r,{checkReplacement:s=!0,confirmations:t=1,hash:u,onReplaced:v,retryCount:w=6,retryDelay:x=({count:a})=>200*~~(1<<a),timeout:y=18e4}=l,z=(0,h.stringify)(["waitForTransactionReceipt",a.uid,u]),A=l.pollingInterval?l.pollingInterval:a.chain?.experimental_preconfirmationTime?a.chain.experimental_preconfirmationTime:a.pollingInterval,B=!1,{promise:C,resolve:D,reject:E}=(0,f.withResolvers)(),F=y?setTimeout(()=>{r?.(),q?.(),E(new c.WaitForTransactionReceiptTimeoutError({hash:u}))},y):void 0;return q=(0,e.observe)(z,{onReplaced:v,resolve:D,reject:E},async e=>{if((p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:u}).catch(()=>void 0))&&t<=1){clearTimeout(F),e.resolve(p),q?.();return}r=(0,d.getAction)(a,o,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:A,async onBlockNumber(f){let h=a=>{clearTimeout(F),r?.(),a(),q?.()},l=f;if(!B)try{if(p){if(t>1&&(!p.blockNumber||l-p.blockNumber+1n<t))return;h(()=>e.resolve(p));return}if(s&&!m&&(B=!0,await (0,g.withRetry)(async()=>{(m=await (0,d.getAction)(a,j.getTransaction,"getTransaction")({hash:u})).blockNumber&&(l=m.blockNumber)},{delay:x,retryCount:w}),B=!1),p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:u}),t>1&&(!p.blockNumber||l-p.blockNumber+1n<t))return;h(()=>e.resolve(p))}catch(f){if(f instanceof c.TransactionNotFoundError||f instanceof c.TransactionReceiptNotFoundError){if(!m){B=!1;return}try{n=m,B=!0;let c=await (0,g.withRetry)(()=>(0,d.getAction)(a,i.getBlock,"getBlock")({blockNumber:l,includeTransactions:!0}),{delay:x,retryCount:w,shouldRetry:({error:a})=>a instanceof b.BlockNotFoundError});B=!1;let f=c.transactions.find(({from:a,nonce:b})=>a===n.from&&b===n.nonce);if(!f||(p=await (0,d.getAction)(a,k.getTransactionReceipt,"getTransactionReceipt")({hash:f.hash}),t>1&&(!p.blockNumber||l-p.blockNumber+1n<t)))return;let j="replaced";f.to===n.to&&f.value===n.value&&f.input===n.input?j="repriced":f.from===f.to&&0n===f.value&&(j="cancelled"),h(()=>{e.onReplaced?.({reason:j,replacedTransaction:n,transaction:f,transactionReceipt:p}),e.resolve(p)})}catch(a){h(()=>e.reject(a))}}else h(()=>e.reject(f))}}})}),C}a.s(["watchBlockNumber",()=>o],36559),a.s(["waitForTransactionReceipt",()=>p],13890)},45419,a=>{"use strict";var b=a.i(52868),c=a.i(29664),d=a.i(66323),e=a.i(21570);function f(a,f){let g,h;return(0,b.keccak256)((g="string"==typeof a?(0,e.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,e.bytesToHex)(a.raw),h=(0,e.stringToHex)(`\x19Ethereum Signed Message:
${(0,d.size)(g)}`),(0,c.concat)([h,g])),f)}a.s(["hashMessage",()=>f],45419)}];

//# sourceMappingURL=node_modules_viem__esm_01ba552a._.js.map