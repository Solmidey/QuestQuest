(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return o(function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})},[e,r,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var n=e.r(71645),i=e.r(2239),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var p=a(e,(d=c(function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,o=r)}var a,o,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return u(function(){h.hasValue=!0,h.value=p},[p]),l(p),p}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},50889,(e,t,r)=>{"use strict";var n=e.r(42524).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==t[a])throw TypeError(s+" is ambiguous");t[a]=i}var o=e.length,u=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===u;)i++,r++;for(var a=(e.length-r)*c+1>>>0,l=new Uint8Array(a);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var p=0,f=a-1;(0!==h||p<s)&&-1!==f;f--,p++)h+=o*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=p,r++}for(var m=a-s;m!==a&&0===l[m];)m++;var y=n.allocUnsafe(i+(a-m));y.fill(0,0,i);for(var g=i;m!==a;)y[g++]=l[m++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,a=t.length;s!==a&&0===t[s];)s++,r++;for(var c=(a-s)*l+1>>>0,d=new Uint8Array(c);s!==a;){for(var h=t[s],p=0,f=c-1;(0!==h||p<i)&&-1!==f;f--,p++)h+=256*d[f]>>>0,d[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw Error("Non-zero carry");i=p,s++}for(var m=c-i;m!==c&&0===d[m];)m++;for(var y=u.repeat(r);m<c;++m)y+=e.charAt(d[m]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},54611,(e,t,r)=>{t.exports=e.r(50889)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},72766,(e,t,r)=>{"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var o="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():o)!==o)throw Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,r=0,i=0,s=0,o=128,u=191;this.handler=function(e,c){if(-1===c&&0!==s)return s=0,a(t);if(-1===c)return -1;if(0===s){if(n(c,0,127))return c;if(n(c,194,223))s=1,r=c-192;else if(n(c,224,239))224===c&&(o=160),237===c&&(u=159),s=2,r=c-224;else{if(!n(c,240,244))return a(t);240===c&&(o=144),244===c&&(u=143),s=3,r=c-240}return r<<=6*s,null}if(!n(c,o,u))return r=s=i=0,o=128,u=191,e.prepend(c),a(t);if(o=128,u=191,i+=1,r+=c-128<<6*(s-i),i!==s)return null;var l=r;return r=s=i=0,l}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(n(t,0,127))return t;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var r,i,s=[(t>>6*r)+i];r>0;){var a=t>>6*(r-1);s.push(128|63&a),r-=1}return s}}u.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,n,a=new s(r),o=[];!a.endOfStream()&&-1!==(n=this._decoder.handler(a,a.read()));)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(a,a.read())))break;if(null===n)continue;Array.isArray(n)?o.push.apply(o,n):o.push(n)}while(!a.endOfStream())this._decoder=null}!o.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0);for(var u="",c=0;c<o.length;++c){var d=o[c];d<=65535?u+=String.fromCharCode(d):(d-=65536,u+=String.fromCharCode((d>>10)+55296,(1023&d)+56320))}return u}},c.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=!!t.stream;for(var r,n=[],a=new s(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var o=1023&s,u=1023&a;i.push(65536+(o<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}},r.TextEncoder=c,r.TextDecoder=u},54119,(e,t,r)=>{"use strict";var n=e.i(67034),i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUnchecked=r.deserialize=r.serialize=r.BinaryReader=r.BinaryWriter=r.BorshError=r.baseDecode=r.baseEncode=void 0;let c=u(e.r(59341)),l=u(e.r(54611)),d=o(e.r(72766)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});r.baseEncode=function(e){return"string"==typeof e&&(e=n.Buffer.from(e,"utf8")),l.default.encode(n.Buffer.from(e))},r.baseDecode=function(e){return n.Buffer.from(l.default.decode(e))};class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}r.BorshError=p;class f{constructor(){this.buf=n.Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.Buffer.concat([this.buf,n.Buffer.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.Buffer.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.Buffer.concat([n.Buffer.from(this.buf.subarray(0,this.length)),e,n.Buffer.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.Buffer.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new p("Reached the end of buffer when deserializing");throw e}}}r.BinaryWriter=f;class y{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new c.default(e,"le")}readU128(){let e=this.readBuffer(16);return new c.default(e,"le")}readU256(){let e=this.readBuffer(32);return new c.default(e,"le")}readU512(){let e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new p(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,i){try{if("string"==typeof n)i[`write${g(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{b(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,s)=>{b(e,t,s,n.key,i),b(e,t,r,n.value,i)});break;default:throw new p(`FieldType ${n} unrecognized`)}else v(e,r,i)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function v(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{b(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let s=0;s<n.values.length;++s){let[a,o]=n.values[s];if(a===i){r.writeU8(s),b(e,a,t[a],o,r);break}}}else throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function w(e,t,r,n){try{if("string"==typeof r)return n[`read${g(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return n.readFixedArray(r[0]);else{if("number"!=typeof r[1])return n.readArray(()=>w(e,t,r[0],n));let i=[];for(let t=0;t<r[1];t++)i.push(w(e,null,r[0],n));return i}if("option"===r.kind){if(n.readU8())return w(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let s=w(e,t,r.key,n),a=w(e,t,r.value,n);i.set(s,a)}return i}return x(e,r,n)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function x(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,s]of e.get(t).fields)n[i]=w(e,i,s,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],o=w(e,s,a,r);return new t({[s]:o})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([m],y.prototype,"readU8",null),a([m],y.prototype,"readU16",null),a([m],y.prototype,"readU32",null),a([m],y.prototype,"readU64",null),a([m],y.prototype,"readU128",null),a([m],y.prototype,"readU256",null),a([m],y.prototype,"readU512",null),a([m],y.prototype,"readString",null),a([m],y.prototype,"readFixedArray",null),a([m],y.prototype,"readArray",null),r.BinaryReader=y,r.serialize=function(e,t,r=f){let n=new r;return v(e,t,n),n.toArray()},r.deserialize=function(e,t,r,n=y){let i=new n(r),s=x(e,t,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},r.deserializeUnchecked=function(e,t,r,n=y){return x(e,t,new n(r))}},44610,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.s16=r.s8=r.nu64be=r.u48be=r.u40be=r.u32be=r.u24be=r.u16be=r.nu64=r.u48=r.u40=r.u32=r.u24=r.u16=r.u8=r.offset=r.greedy=r.Constant=r.UTF8=r.CString=r.Blob=r.Boolean=r.BitField=r.BitStructure=r.VariantLayout=r.Union=r.UnionLayoutDiscriminator=r.UnionDiscriminator=r.Structure=r.Sequence=r.DoubleBE=r.Double=r.FloatBE=r.Float=r.NearInt64BE=r.NearInt64=r.NearUInt64BE=r.NearUInt64=r.IntBE=r.Int=r.UIntBE=r.UInt=r.OffsetLayout=r.GreedyCount=r.ExternalLayout=r.bindConstructorLayout=r.nameWithProperty=r.Layout=r.uint8ArrayToBuffer=r.checkUint8Array=void 0,r.constant=r.utf8=r.cstr=r.blob=r.unionLayoutDiscriminator=r.union=r.seq=r.bits=r.struct=r.f64be=r.f64=r.f32be=r.f32=r.ns64be=r.s48be=r.s40be=r.s32be=r.s24be=r.s16be=r.ns64=r.s48=r.s40=r.s32=r.s24=void 0;let n=e.r(43943);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}r.checkUint8Array=i,r.uint8ArrayToBuffer=s;class a{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=a,r.nameWithProperty=o,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class u extends a{isCount(){throw Error("ExternalLayout is abstract")}}r.ExternalLayout=u;class c extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){return i(e),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}r.GreedyCount=c;class l extends u{constructor(e,t=0,r){if(!(e instanceof a))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}r.OffsetLayout=l;class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}r.UInt=d;class h extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}r.UIntBE=h;class p extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeIntLE(e,r,this.span),this.span}}r.Int=p;class f extends a{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeIntBE(e,r,this.span),this.span}}function m(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function y(e,t){return 0x100000000*e+t}r.IntBE=f;class g extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return y(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}r.NearUInt64=g;class b extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return y(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearUInt64BE=b;class v extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),n=r.readUInt32LE(t);return y(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}r.NearInt64=v;class w extends a{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return y(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let n=m(e),i=s(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}r.NearInt64BE=w;class x extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatLE(t)}encode(e,t,r=0){return s(t).writeFloatLE(e,r),4}}r.Float=x;class k extends a{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatBE(t)}encode(e,t,r=0){return s(t).writeFloatBE(e,r),4}}r.FloatBE=k;class _ extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleLE(t)}encode(e,t,r=0){return s(t).writeDoubleLE(e,r),8}}r.Double=_;class S extends a{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleBE(t)}encode(e,t,r=0){return s(t).writeDoubleBE(e,r),8}}r.DoubleBE=S;class I extends a{constructor(e,t,r){if(!(e instanceof a))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof u||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}r.Sequence=I;class E extends a{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof a,!0)))throw TypeError("fields must be array of Layout instances");for(const n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,s=0;for(let n of this.fields){let a=n.span;if(s=0<a?a:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>a&&(a=n.getSpan(t,r)))}i=r,r+=a}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}r.Structure=E;class A{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}r.UnionDiscriminator=A;class T extends A{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}r.UnionLayoutDiscriminator=T;class O extends a{constructor(e,t,r){let n;if(e instanceof d||e instanceof h)n=new T(new l(e));else if(e instanceof u&&e.isCount())n=new T(e);else if(e instanceof A)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof a))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof d||e instanceof h)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let s=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=s.decode(e,t+a)}else r=s.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new j(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}r.Union=O;class j extends a{constructor(e,t,r,n){if(!(e instanceof O))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof a))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function P(e){return 0>e&&(e+=0x100000000),e}r.VariantLayout=j;class N extends a{constructor(e,t,r){if(!(e instanceof d||e instanceof h))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=P(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new C(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new R(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}r.BitStructure=N;class C{constructor(e,t,r){if(!(e instanceof N))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=P(this.valueMask<<this.start),this.property=r}decode(e,t){return P(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==P(e&this.valueMask))throw TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=P(e<<this.start);this.container._packedSetValue(P(t&~this.wordMask)|r)}}r.BitField=C;class R extends C{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}r.Boolean=R;class B extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(o("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=s(e);return s(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}r.Blob=B;class L extends a{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return s(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),a=i.length;if(r+a>t.length)throw RangeError("encoding overruns Buffer");let o=s(t);return i.copy(o,r),o[r+a]=0,a+1}}r.CString=L;class M extends a{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return s(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let i=n.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw RangeError("text length exceeds maxSpan");if(r+a>t.length)throw RangeError("encoding overruns Buffer");return i.copy(s(t),r),a}}r.UTF8=M;class U extends a{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}r.Constant=U,r.greedy=(e,t)=>new c(e,t),r.offset=(e,t,r)=>new l(e,t,r),r.u8=e=>new d(1,e),r.u16=e=>new d(2,e),r.u24=e=>new d(3,e),r.u32=e=>new d(4,e),r.u40=e=>new d(5,e),r.u48=e=>new d(6,e),r.nu64=e=>new g(e),r.u16be=e=>new h(2,e),r.u24be=e=>new h(3,e),r.u32be=e=>new h(4,e),r.u40be=e=>new h(5,e),r.u48be=e=>new h(6,e),r.nu64be=e=>new b(e),r.s8=e=>new p(1,e),r.s16=e=>new p(2,e),r.s24=e=>new p(3,e),r.s32=e=>new p(4,e),r.s40=e=>new p(5,e),r.s48=e=>new p(6,e),r.ns64=e=>new v(e),r.s16be=e=>new f(2,e),r.s24be=e=>new f(3,e),r.s32be=e=>new f(4,e),r.s40be=e=>new f(5,e),r.s48be=e=>new f(6,e),r.ns64be=e=>new w(e),r.f32=e=>new x(e),r.f32be=e=>new k(e),r.f64=e=>new _(e),r.f64be=e=>new S(e),r.struct=(e,t,r)=>new E(e,t,r),r.bits=(e,t,r)=>new N(e,t,r),r.seq=(e,t,r)=>new I(e,t,r),r.union=(e,t,r)=>new O(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new T(e,t),r.blob=(e,t)=>new B(e,t),r.cstr=e=>new L(e),r.utf8=(e,t)=>new M(e,t),r.constant=(e,t)=>new U(e,t)},37342,e=>{"use strict";e.s([],48636),e.i(48636);var t,r,n,i=new Uint8Array(16);function s(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}let a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&a.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));let l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};var d=0,h=0;let p=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function f(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=p(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(var o=0;o<16;++o)i[s+o]=a[o];return i}return l(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return(e+64>>>9<<4)+14+1}function y(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function g(e,t,r,n,i,s){var a;return y((a=y(y(t,e),y(n,s)))<<i|a>>>32-i,r)}function b(e,t,r,n,i,s,a){return g(t&r|~t&n,e,t,i,s,a)}function v(e,t,r,n,i,s,a){return g(t&n|r&~n,e,t,i,s,a)}function w(e,t,r,n,i,s,a){return g(t^r^n,e,t,i,s,a)}function x(e,t,r,n,i,s,a){return g(r^(t|~n),e,t,i,s,a)}var k=f("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=0x67452301,n=-0x10325477,i=-0x67452302,s=0x10325476,a=0;a<e.length;a+=16){var o=r,u=n,c=i,l=s;r=b(r,n,i,s,e[a],7,-0x28955b88),s=b(s,r,n,i,e[a+1],12,-0x173848aa),i=b(i,s,r,n,e[a+2],17,0x242070db),n=b(n,i,s,r,e[a+3],22,-0x3e423112),r=b(r,n,i,s,e[a+4],7,-0xa83f051),s=b(s,r,n,i,e[a+5],12,0x4787c62a),i=b(i,s,r,n,e[a+6],17,-0x57cfb9ed),n=b(n,i,s,r,e[a+7],22,-0x2b96aff),r=b(r,n,i,s,e[a+8],7,0x698098d8),s=b(s,r,n,i,e[a+9],12,-0x74bb0851),i=b(i,s,r,n,e[a+10],17,-42063),n=b(n,i,s,r,e[a+11],22,-0x76a32842),r=b(r,n,i,s,e[a+12],7,0x6b901122),s=b(s,r,n,i,e[a+13],12,-0x2678e6d),i=b(i,s,r,n,e[a+14],17,-0x5986bc72),n=b(n,i,s,r,e[a+15],22,0x49b40821),r=v(r,n,i,s,e[a+1],5,-0x9e1da9e),s=v(s,r,n,i,e[a+6],9,-0x3fbf4cc0),i=v(i,s,r,n,e[a+11],14,0x265e5a51),n=v(n,i,s,r,e[a],20,-0x16493856),r=v(r,n,i,s,e[a+5],5,-0x29d0efa3),s=v(s,r,n,i,e[a+10],9,0x2441453),i=v(i,s,r,n,e[a+15],14,-0x275e197f),n=v(n,i,s,r,e[a+4],20,-0x182c0438),r=v(r,n,i,s,e[a+9],5,0x21e1cde6),s=v(s,r,n,i,e[a+14],9,-0x3cc8f82a),i=v(i,s,r,n,e[a+3],14,-0xb2af279),n=v(n,i,s,r,e[a+8],20,0x455a14ed),r=v(r,n,i,s,e[a+13],5,-0x561c16fb),s=v(s,r,n,i,e[a+2],9,-0x3105c08),i=v(i,s,r,n,e[a+7],14,0x676f02d9),n=v(n,i,s,r,e[a+12],20,-0x72d5b376),r=w(r,n,i,s,e[a+5],4,-378558),s=w(s,r,n,i,e[a+8],11,-0x788e097f),i=w(i,s,r,n,e[a+11],16,0x6d9d6122),n=w(n,i,s,r,e[a+14],23,-0x21ac7f4),r=w(r,n,i,s,e[a+1],4,-0x5b4115bc),s=w(s,r,n,i,e[a+4],11,0x4bdecfa9),i=w(i,s,r,n,e[a+7],16,-0x944b4a0),n=w(n,i,s,r,e[a+10],23,-0x41404390),r=w(r,n,i,s,e[a+13],4,0x289b7ec6),s=w(s,r,n,i,e[a],11,-0x155ed806),i=w(i,s,r,n,e[a+3],16,-0x2b10cf7b),n=w(n,i,s,r,e[a+6],23,0x4881d05),r=w(r,n,i,s,e[a+9],4,-0x262b2fc7),s=w(s,r,n,i,e[a+12],11,-0x1924661b),i=w(i,s,r,n,e[a+15],16,0x1fa27cf8),n=w(n,i,s,r,e[a+2],23,-0x3b53a99b),r=x(r,n,i,s,e[a],6,-0xbd6ddbc),s=x(s,r,n,i,e[a+7],10,0x432aff97),i=x(i,s,r,n,e[a+14],15,-0x546bdc59),n=x(n,i,s,r,e[a+5],21,-0x36c5fc7),r=x(r,n,i,s,e[a+12],6,0x655b59c3),s=x(s,r,n,i,e[a+3],10,-0x70f3336e),i=x(i,s,r,n,e[a+10],15,-1051523),n=x(n,i,s,r,e[a+1],21,-0x7a7ba22f),r=x(r,n,i,s,e[a+8],6,0x6fa87e4f),s=x(s,r,n,i,e[a+15],10,-0x1d31920),i=x(i,s,r,n,e[a+6],15,-0x5cfebcec),n=x(n,i,s,r,e[a+13],21,0x4e0811a1),r=x(r,n,i,s,e[a+4],6,-0x8ac817e),s=x(s,r,n,i,e[a+11],10,-0x42c50dcb),i=x(i,s,r,n,e[a+2],15,0x2ad7d2bb),n=x(n,i,s,r,e[a+9],21,-0x14792c6f),r=y(r,o),n=y(n,u),i=y(i,c),s=y(s,l)}return[r,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))});function _(e,t){return e<<t|e>>>32-t}var S=f("v5",80,function(e){var t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],r=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=Math.ceil((e.length/4+2)/16),a=Array(s),o=0;o<s;++o){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*o+4*c]<<24|e[64*o+4*c+1]<<16|e[64*o+4*c+2]<<8|e[64*o+4*c+3];a[o]=u}a[s-1][14]=(e.length-1)*8/0x100000000,a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8|0;for(var l=0;l<s;++l){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=a[l][h];for(var p=16;p<80;++p)d[p]=_(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var f=r[0],m=r[1],y=r[2],g=r[3],b=r[4],v=0;v<80;++v){var w=Math.floor(v/20),x=_(f,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(w,m,y,g)+b+t[w]+d[v]>>>0;b=g,g=y,y=_(m,30)>>>0,m=f,f=x}r[0]=r[0]+f>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,p,"stringify",0,l,"v1",0,function(e,t,i){var a=t&&i||0,o=t||Array(16),u=(e=e||{}).node||r,c=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==c){var p=e.random||(e.rng||s)();null==u&&(u=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==c&&(c=n=(p[6]<<8|p[7])&16383)}var f=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:h+1,y=f-d+(m-h)/1e4;if(y<0&&void 0===e.clockseq&&(c=c+1&16383),(y<0||f>d)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,h=m,n=c;var g=((0xfffffff&(f+=122192928e5))*1e4+m)%0x100000000;o[a++]=g>>>24&255,o[a++]=g>>>16&255,o[a++]=g>>>8&255,o[a++]=255&g;var b=f/0x100000000*1e4&0xfffffff;o[a++]=b>>>8&255,o[a++]=255&b,o[a++]=b>>>24&15|16,o[a++]=b>>>16&255,o[a++]=c>>>8|128,o[a++]=255&c;for(var v=0;v<6;++v)o[a+v]=u[v];return t||l(o)},"v3",0,k,"v4",0,function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)},"v5",0,S,"validate",0,o,"version",0,function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],37342)},43173,(e,t,r)=>{"use strict";let n=e.r(37342).v4;t.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let a={method:e};if(2===s&&(a.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");a.params=t}return void 0===r?a.id=("function"==typeof i.generator?i.generator:function(){return n()})(a,i):2===s&&null===r?i.notificationIdNull&&(a.id=null):a.id=r,a}},78217,(e,t,r)=>{"use strict";let n=e.r(37342).v4,i=e.r(43173),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};t.exports=s,s.prototype.request=function(e,t,r,n){let s,a=this,o=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let c=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||c)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);let s="function"==typeof n;try{o=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return n(e);throw e}if(!s)return o}try{s=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(s,function(e,t){a._parseResponse(e,t,n)}),o},s.prototype._parseResponse=function(e,t,r){let n;if(e)return void r(e);if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(n))return r(null,n.error,n.result);else{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}r(null,n)}},31713,e=>{"use strict";let t,r,n,i,s,a,o,u,c,l,d,h,p,f;var m,y,g,b,v,w,x,k,_,S,I=e.i(43476),E=e.i(71645);function A(e){let t=e.state.current,r=e.state.connections.get(t),n=r?.accounts,i=n?.[0],s=e.chains.find(e=>e.id===r?.chainId),a=e.state.status;switch(a){case"connected":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}function T(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){let r,n;if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!T(e[n],t[n]))return!1;return!0}if("function"==typeof e.valueOf&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if("function"==typeof e.toString&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();let i=Object.keys(e);if((r=i.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.hasOwn(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(r&&!T(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}var O=e.i(74983),j=e.i(91346);class P extends j.BaseError{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return"wagmi@2.19.5"}}class N extends P{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function C(e={}){let t=e.config??(0,E.useContext)(O.WagmiContext);if(!t)throw new N;return t}var R=e.i(30224);let B=e=>"object"==typeof e&&!Array.isArray(e);function L(e={}){let t=C(e);return function(e,t,r=t,n=T){let i=(0,E.useRef)([]),s=(0,R.useSyncExternalStoreWithSelector)(e,t,r,e=>e,(e,t)=>{if(B(e)&&B(t)&&i.current.length){for(let r of i.current)if(!n(e[r],t[r]))return!1;return!0}return n(e,t)});return(0,E.useMemo)(()=>{if(B(s)){let e={...s},t={};for(let[r,n]of Object.entries(e))t={...t,[r]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(r)||i.current.push(r),n)}};return Object.defineProperties(e,t),e}return s},[s])}(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(()=>A(e),r,{equalityFn(e,t){let{connector:r,...n}=e,{connector:i,...s}=t;return T(n,s)&&r?.id===i?.id&&r?.uid===i?.uid}})})(t,{onChange:e}),()=>A(t))}var M=e.i(14272),U=e.i(40143),z=e.i(15823),D=e.i(19273),Z=class extends z.Subscribable{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,D.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,D.hashKey)(t.mutationKey)!==(0,D.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,M.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#s(e){U.notifyManager.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,r,n),this.#n.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,r,n),this.#n.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#t)})})}},F=e.i(12598);function W(e,t){let r=(0,F.useQueryClient)(t),[n]=E.useState(()=>new Z(r,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);let i=E.useSyncExternalStore(E.useCallback(e=>n.subscribe(U.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=E.useCallback((e,t)=>{n.mutate(e,t).catch(D.noop)},[n]);if(i.error&&(0,D.shouldThrowError)(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var $=e.i(6148);async function q(e,t){let r;if((r="function"==typeof t.connector?e._internal.connectors.setup(t.connector):t.connector).uid===e.state.current)throw new $.ConnectorAlreadyConnectedError;try{e.setState(e=>({...e,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});let{connector:n,...i}=t,s=await r.connect(i);return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",r.id),e.setState(e=>({...e,connections:new Map(e.connections).set(r.uid,{accounts:i.withCapabilities?s.accounts.map(e=>"object"==typeof e?e.address:e):s.accounts,chainId:s.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:i.withCapabilities?s.accounts.map(e=>"object"==typeof e?e:{address:e,capabilities:{}}):s.accounts,chainId:s.chainId}}catch(t){throw e.setState(e=>({...e,status:e.current?"connected":"disconnected"})),t}}let K=[];function V(e){let t=e.connectors;return K.length===t.length&&K.every((e,r)=>e===t[r])?K:(K=t,t)}async function Q(e,t={}){let r;if(t.connector)r=t.connector;else{let{connections:t,current:n}=e.state,i=t.get(n);r=i?.connector}let n=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),n.delete(r.uid)),e.setState(e=>{if(0===n.size)return{...e,connections:new Map,current:null,status:"disconnected"};let t=n.values().next().value;return{...e,connections:new Map(n),current:t.connector.uid}});{let t=e.state.current;if(!t)return;let r=e.state.connections.get(t)?.connector;if(!r)return;await e.storage?.setItem("recentConnectorId",r.id)}}let H=[];function G(e){let t=[...e.state.connections.values()];return"reconnecting"===e.state.status||T(H,t)?H:(H=t,t)}let J=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},Y=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var X={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let ee=(0,E.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},u)=>(0,E.createElement)("svg",{ref:u,...X,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:Y("lucide",i),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,E.createElement)(e,t)),...Array.isArray(s)?s:[s]])),et=(e,t)=>{let r=(0,E.forwardRef)(({className:r,...n},i)=>(0,E.createElement)(ee,{ref:i,iconNode:t,className:Y(`lucide-${J(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=J(e),r},er=et("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),en=({walletAddress:e,isConnecting:t,onConnect:r,onDisconnect:n})=>(0,I.jsx)("nav",{className:"border-b border-slate-800 bg-slate-950/80 backdrop-blur-sm sticky top-0 z-50",children:(0,I.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-4 flex justify-between items-center",children:[(0,I.jsxs)("h1",{className:"text-xl font-bold flex items-center gap-2",children:[(0,I.jsx)("span",{className:"text-2xl",children:""}),"QuestQuest"]}),e?(0,I.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium",children:[(0,I.jsx)(er,{className:"w-4 h-4"}),e.slice(0,6),"...",e.slice(-4)]}):(0,I.jsxs)("button",{onClick:r,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors text-sm font-medium disabled:opacity-50",children:[(0,I.jsx)(er,{className:"w-4 h-4"}),t?"Connecting...":"Connect Wallet"]})]})});var ei=((m={}).ONCHAIN="ONCHAIN",m.SOCIAL="SOCIAL",m.BALANCE="BALANCE",m.SIGNATURE="SIGNATURE",m),es=((y={}).PENDING="PENDING",y.VERIFYING="VERIFYING",y.COMPLETED="COMPLETED",y.FAILED="FAILED",y);let ea=et("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eo=et("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),eu=et("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ec=et("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),el=et("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ed=et("file-pen-line",[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),eh=et("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var ep=e.i(44616),ef=e.i(50323),em=e.i(74911),ey=e.i(53077);function eg(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}var eb=e.i(55723);function ev(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(eb.weiUnits[e])}var ew=e.i(69752),ex=e.i(4558);async function ek(e,t){let{allowFailure:r=!0,chainId:n,contracts:i,...s}=t;return eg(e.getClient({chainId:n}),ex.multicall,"multicall")({allowFailure:r,contracts:i,...s})}var e_=e.i(88750);function eS(e,t){let{chainId:r,...n}=t;return eg(e.getClient({chainId:r}),e_.readContract,"readContract")(n)}async function eI(e,t){let{allowFailure:r=!0,blockNumber:n,blockTag:i,...s}=t,a=t.contracts;try{let t={};for(let[r,n]of a.entries()){let i=n.chainId??e.state.chainId;t[i]||(t[i]=[]),t[i]?.push({contract:n,index:r})}let o=(await Promise.all(Object.entries(t).map(([t,a])=>ek(e,{...s,allowFailure:r,blockNumber:n,blockTag:i,chainId:Number.parseInt(t,10),contracts:a.map(({contract:e})=>e)})))).flat(),u=Object.values(t).flatMap(e=>e.map(({index:e})=>e));return o.reduce((e,t,r)=>(e&&(e[u[r]]=t),e),[])}catch(s){if(s instanceof ew.ContractFunctionExecutionError)throw s;let t=()=>a.map(t=>eS(e,{...t,blockNumber:n,blockTag:i}));if(r)return(await Promise.allSettled(t())).map(e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"});return await Promise.all(t())}}async function eE(e,t){let{address:r,blockNumber:n,blockTag:i,chainId:s,token:a,unit:o="ether"}=t;if(a)try{return await eA(e,{balanceAddress:r,chainId:s,symbolType:"string",tokenAddress:a})}catch(t){if("ContractFunctionExecutionError"===t.name){let t=await eA(e,{balanceAddress:r,chainId:s,symbolType:"bytes32",tokenAddress:a}),n=(0,ef.hexToString)((0,em.trim)(t.symbol,{dir:"right"}));return{...t,symbol:n}}throw t}let u=e.getClient({chainId:s}),c=eg(u,ey.getBalance,"getBalance"),l=await c(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),d=e.chains.find(e=>e.id===s)??u.chain;return{decimals:d.nativeCurrency.decimals,formatted:(0,ep.formatUnits)(l,ev(o)),symbol:d.nativeCurrency.symbol,value:l}}async function eA(e,t){let{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:s,unit:a}=t,o={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[u,c,l]=await eI(e,{allowFailure:!1,contracts:[{...o,functionName:"balanceOf",args:[r],chainId:n},{...o,functionName:"decimals",chainId:n},{...o,functionName:"symbol",chainId:n}]}),d=(0,ep.formatUnits)(u??"0",ev(a??c));return{decimals:c,formatted:d,symbol:l,value:u}}function eT(e,t){return(0,D.replaceEqualDeep)(e,t)}function eO(e){return JSON.stringify(e,(e,t)=>!function(e){if(!ej(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!ej(r)&&!!r.hasOwnProperty("isPrototypeOf")}(t)?"bigint"==typeof t?t.toString():t:Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}))}function ej(e){return"[object Object]"===Object.prototype.toString.call(e)}function eP(e){let{_defaulted:t,behavior:r,gcTime:n,initialData:i,initialDataUpdatedAt:s,maxPages:a,meta:o,networkMode:u,queryFn:c,queryHash:l,queryKey:d,queryKeyHashFn:h,retry:p,retryDelay:f,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:b,_optimisticResults:v,enabled:w,notifyOnChangeProps:x,placeholderData:k,refetchInterval:_,refetchIntervalInBackground:S,refetchOnMount:I,refetchOnReconnect:E,refetchOnWindowFocus:A,retryOnMount:T,select:O,staleTime:j,suspense:P,throwOnError:N,config:C,connector:R,query:B,...L}=e;return L}var eN=e.i(75555),eC=e.i(86491),eR=z,eB=e.i(93803),eL=e.i(80166),eM=class extends eR.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=(0,eB.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#u=void 0;#c=void 0;#t=void 0;#l;#d;#o;#a;#h;#p;#f;#m;#y;#g;#b=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#u.addObserver(this),eU(this.#u,this.options)?this.#v():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ez(this.#u,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ez(this.#u,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#k(),this.#u.removeObserver(this)}setOptions(e){let t=this.options,r=this.#u;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,D.resolveEnabled)(this.options.enabled,this.#u))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#u.setOptions(this.options),t._defaulted&&!(0,D.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#u,observer:this});let n=this.hasListeners();n&&eD(this.#u,r,this.options,t)&&this.#v(),this.updateResult(),n&&(this.#u!==r||(0,D.resolveEnabled)(this.options.enabled,this.#u)!==(0,D.resolveEnabled)(t.enabled,this.#u)||(0,D.resolveStaleTime)(this.options.staleTime,this.#u)!==(0,D.resolveStaleTime)(t.staleTime,this.#u))&&this.#S();let i=this.#I();n&&(this.#u!==r||(0,D.resolveEnabled)(this.options.enabled,this.#u)!==(0,D.resolveEnabled)(t.enabled,this.#u)||i!==this.#g)&&this.#E(i)}getOptimisticResult(e){var t,r;let n=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(n,e);return t=this,r=i,(0,D.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#t=i,this.#d=this.options,this.#l=this.#u.state),i}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#o.status||this.#o.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#b.add(e)}getCurrentQuery(){return this.#u}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#v({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#v(e){this.#_();let t=this.#u.fetch(this.options,e);return e?.throwOnError||(t=t.catch(D.noop)),t}#S(){this.#x();let e=(0,D.resolveStaleTime)(this.options.staleTime,this.#u);if(D.isServer||this.#t.isStale||!(0,D.isValidTimeout)(e))return;let t=(0,D.timeUntilStale)(this.#t.dataUpdatedAt,e);this.#m=eL.timeoutManager.setTimeout(()=>{this.#t.isStale||this.updateResult()},t+1)}#I(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#u):this.options.refetchInterval)??!1}#E(e){this.#k(),this.#g=e,!D.isServer&&!1!==(0,D.resolveEnabled)(this.options.enabled,this.#u)&&(0,D.isValidTimeout)(this.#g)&&0!==this.#g&&(this.#y=eL.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||eN.focusManager.isFocused())&&this.#v()},this.#g))}#w(){this.#S(),this.#E(this.#I())}#x(){this.#m&&(eL.timeoutManager.clearTimeout(this.#m),this.#m=void 0)}#k(){this.#y&&(eL.timeoutManager.clearInterval(this.#y),this.#y=void 0)}createResult(e,t){let r,n=this.#u,i=this.options,s=this.#t,a=this.#l,o=this.#d,u=e!==n?e.state:this.#c,{state:c}=e,l={...c},d=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&eU(e,t),a=r&&eD(e,n,t,i);(s||a)&&(l={...l,...(0,eC.fetchState)(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(l.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:f}=l;r=l.data;let m=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===f){let e;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=s.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,void 0!==e&&(f="success",r=(0,D.replaceData)(s?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!m)if(s&&r===a?.data&&t.select===this.#h)r=this.#p;else try{this.#h=t.select,r=t.select(r),r=(0,D.replaceData)(s?.data,r,t),this.#p=r,this.#a=null}catch(e){this.#a=e}this.#a&&(h=this.#a,r=this.#p,p=Date.now(),f="error");let y="fetching"===l.fetchStatus,g="pending"===f,b="error"===f,v=g&&y,w=void 0!==r,x={status:f,fetchStatus:l.fetchStatus,isPending:g,isSuccess:"success"===f,isError:b,isInitialLoading:v,isLoading:v,data:r,dataUpdatedAt:l.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!g,isLoadingError:b&&!w,isPaused:"paused"===l.fetchStatus,isPlaceholderData:d,isRefetchError:b&&w,isStale:eZ(e,t),refetch:this.refetch,promise:this.#o,isEnabled:!1!==(0,D.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===x.status?e.reject(x.error):void 0!==x.data&&e.resolve(x.data)},r=()=>{t(this.#o=x.promise=(0,eB.pendingThenable)())},i=this.#o;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":("error"===x.status||x.data!==i.value)&&r();break;case"rejected":("error"!==x.status||x.error!==i.reason)&&r()}}return x}updateResult(){let e=this.#t,t=this.createResult(this.#u,this.options);if(this.#l=this.#u.state,this.#d=this.options,void 0!==this.#l.data&&(this.#f=this.#u),(0,D.shallowEqualObjects)(t,e))return;this.#t=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#b.size)return!0;let n=new Set(r??this.#b);return this.options.throwOnError&&n.add("error"),Object.keys(this.#t).some(t=>this.#t[t]!==e[t]&&n.has(t))};this.#s({listeners:r()})}#_(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#u)return;let t=this.#u;this.#u=e,this.#c=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#s(e){U.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#e.getQueryCache().notify({query:this.#u,type:"observerResultsUpdated"})})}};function eU(e,t){return!1!==(0,D.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&ez(e,t,t.refetchOnMount)}function ez(e,t,r){if(!1!==(0,D.resolveEnabled)(t.enabled,e)&&"static"!==(0,D.resolveStaleTime)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&eZ(e,t)}return!1}function eD(e,t,r,n){return(e!==t||!1===(0,D.resolveEnabled)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&eZ(e,r)}function eZ(e,t){return!1!==(0,D.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,D.resolveStaleTime)(t.staleTime,e))}e.i(92571),e.i(47167);var eF=E.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),eW=E.createContext(!1);eW.Provider;var e$=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function eq(e){let t=function(e,t,r){let n=E.useContext(eW),i=E.useContext(eF),s=(0,F.useQueryClient)(r),a=s.defaultQueryOptions(e);if(s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",a.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=a.staleTime;a.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof a.gcTime&&(a.gcTime=Math.max(a.gcTime,1e3))}(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&!i.isReset()&&(a.retryOnMount=!1),E.useEffect(()=>{i.clearReset()},[i]);let o=!s.getQueryCache().get(a.queryHash),[u]=E.useState(()=>new t(s,a)),c=u.getOptimisticResult(a),l=!n&&!1!==e.subscribed;if(E.useSyncExternalStore(E.useCallback(e=>{let t=l?u.subscribe(U.notifyManager.batchCalls(e)):D.noop;return u.updateResult(),t},[u,l]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(a)},[a,u]),a?.suspense&&c.isPending)throw e$(a,u,i);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&void 0===e.data||(0,D.shouldThrowError)(r,[e.error,n])))({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if(s.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!D.isServer&&c.isLoading&&c.isFetching&&!n){let e=o?e$(a,u,i):s.getQueryCache().get(a.queryHash)?.promise;e?.catch(D.noop).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}({...e,queryKeyHashFn:eO},eM,void 0);return t.queryKey=e.queryKey,t}function eK(e){return e.state.chainId}function eV(e={}){let t=C(e);return(0,E.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(e=>e.chainId,r)})(t,{onChange:e}),()=>eK(t),()=>eK(t))}var eQ=e.i(89991),eH=e.i(51334),eG=e.i(56679),eJ=e.i(7749),eY=e.i(67125),eX=e.i(13972);async function e0(e,t){return e0.internal(e,eX.sendTransaction,"sendTransaction",t)}(e0||(e0={})).internal=async function(e,t,r,n){let{abi:i,account:s=e.account,address:a,args:o,dataSuffix:u,functionName:c,...l}=n;if(void 0===s)throw new eH.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let d=s?(0,eQ.parseAccount)(s):null,h=(0,eG.encodeFunctionData)({abi:i,args:o,functionName:c});try{return await (0,eY.getAction)(e,t,r)({data:`${h}${u?u.replace("0x",""):""}`,to:a,account:d,...l})}catch(e){throw(0,eJ.getContractError)(e,{abi:i,address:a,args:o,docsPath:"/docs/contract/writeContract",functionName:c,sender:d?.address})}};var e1=e.i(63625),e2=e.i(95331),e5=e.i(23838);async function e4(e,t={}){let r,{assertChainId:n=!0}=t;if(t.connector){let{connector:n}=t;if("reconnecting"===e.state.status&&!n.getAccounts&&!n.getChainId)throw new $.ConnectorUnavailableReconnectingError({connector:n});let[i,s]=await Promise.all([n.getAccounts().catch(e=>{if(null===t.account)return[];throw e}),n.getChainId()]);r={accounts:i,chainId:s,connector:n}}else r=e.state.connections.get(e.state.current);if(!r)throw new $.ConnectorNotConnectedError;let i=t.chainId??r.chainId,s=await r.connector.getChainId();if(n&&s!==i)throw new $.ConnectorChainMismatchError({connectionChainId:i,connectorChainId:s});let a=r.connector;if(a.getClient)return a.getClient({chainId:i});let o=(0,eQ.parseAccount)(t.account??r.accounts[0]);if(o&&(o.address=(0,e5.getAddress)(o.address)),t.account&&!r.accounts.some(e=>e.toLowerCase()===o.address.toLowerCase()))throw new $.ConnectorAccountNotFoundError({address:o.address,connector:a});let u=e.chains.find(e=>e.id===i),c=await r.connector.getProvider({chainId:i});return(0,e1.createClient)({account:o,chain:u,name:"Connector Client",transport:e=>(function(e,t={}){let{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>(0,e2.createTransport)({key:r,methods:n,name:i,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})})(c)({...e,retryCount:0})})}async function e6(e,t){let{account:r,chainId:n,connector:i,...s}=t,a=eg("object"==typeof r&&r?.type==="local"?e.getClient({chainId:n}):await e4(e,{account:r??void 0,assertChainId:!1,chainId:n,connector:i}),e0,"writeContract");return await a({...s,...r?{account:r}:{},chain:n?{id:n}:null})}function e3(e={}){var t;let{mutation:r}=e,n=(t=C(e),{mutationFn:e=>e6(t,e),mutationKey:["writeContract"]}),{mutate:i,mutateAsync:s,...a}=W({...r,...n});return{...a,writeContract:i,writeContractAsync:s}}var e8=e.i(75107);async function e9(e,{account:t=e.account,message:r}){if(!t)throw new eH.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,eQ.parseAccount)(t);if(n.signMessage)return n.signMessage({message:r});let i="string"==typeof r?(0,e8.stringToHex)(r):r.raw instanceof Uint8Array?(0,e8.toHex)(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function e7(e,t){let{account:r,connector:n,...i}=t;return eg("object"==typeof r&&"local"===r.type?e.getClient():await e4(e,{account:r,connector:n}),e9,"signMessage")({...i,...r?{account:r}:{}})}var te=e.i(89509),tt=e.i(79917),tr=e.i(48789);async function tn(e,t){let{chainId:r,timeout:n=0,...i}=t,s=e.getClient({chainId:r}),a=eg(s,tr.waitForTransactionReceipt,"waitForTransactionReceipt"),o=await a({...i,timeout:n});if("reverted"===o.status){let e=eg(s,tt.getTransaction,"getTransaction"),{from:t,...r}=await e({hash:o.transactionHash}),n=eg(s,te.call,"call"),i=await n({...r,account:t,data:r.input,gasPrice:"eip1559"!==r.type?r.gasPrice:void 0,maxFeePerGas:"eip1559"===r.type?r.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===r.type?r.maxPriorityFeePerGas:void 0});throw Error(i?.data?(0,ef.hexToString)(`0x${i.data.substring(138)}`):"unknown reason")}return{...o,chainId:s.chain.id}}var ti=e.i(69934);class ts extends ti.BaseError{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}var ta=e.i(58765),to=e.i(57879);async function tu({message:e,signature:t}){return(0,to.recoverAddress)({hash:(0,ta.hashMessage)(e),signature:t})}var tc=e.i(97197);let tl="0xDD4A70A54C2E759F3eF4D2DD3dcba7f8FA326b55",td=[{inputs:[{internalType:"uint256",name:"questId",type:"uint256"}],name:"completeQuest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"limit",type:"uint256"}],name:"getTopPlayers",outputs:[{components:[{internalType:"address",name:"playerAddress",type:"address"},{internalType:"uint256",name:"totalXP",type:"uint256"},{internalType:"uint256",name:"questsCompleted",type:"uint256"},{internalType:"uint256",name:"lastCompletionTime",type:"uint256"}],internalType:"struct QuestQuest.Player[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"questId",type:"uint256"}],name:"getUserQuestStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getPlayerStats",outputs:[{components:[{internalType:"address",name:"playerAddress",type:"address"},{internalType:"uint256",name:"totalXP",type:"uint256"},{internalType:"uint256",name:"questsCompleted",type:"uint256"},{internalType:"uint256",name:"lastCompletionTime",type:"uint256"}],internalType:"struct QuestQuest.Player",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActiveQuests",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint8",name:"questType",type:"uint8"},{internalType:"uint256",name:"xpReward",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"}],internalType:"struct QuestQuest.Quest[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"questId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"xpEarned",type:"uint256"}],name:"QuestCompleted",type:"event"}],th=[{inputs:[],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"tokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BadgeMinted",type:"event"}],tp=tc.base,tf=({quest:e,onVerify:t,disabled:r})=>{let{verifyQuest:n,verifyingQuestId:i}=function(){let{address:e,chain:t}=L(),[r,n]=(0,E.useState)(null),{data:i}=function(e={}){let{address:t,query:r={}}=e,n=C(e),i=eV({config:n}),s=function(e,t={}){return{async queryFn({queryKey:t}){let{address:r,scopeKey:n,...i}=t[1];if(!r)throw Error("address is required");return await eE(e,{...i,address:r})??null},queryKey:function(e={}){return["balance",eP(e)]}(t)}}(n,{...e,chainId:e.chainId??i}),a=!!(t&&(r.enabled??!0));return eq({...r,...s,enabled:a})}({address:e}),{writeContractAsync:s}=e3(),{writeContractAsync:a}=e3(),{signMessageAsync:o}=function(e={}){var t;let{mutation:r}=e,n=(t=C(e),{mutationFn:e=>e7(t,e),mutationKey:["signMessage"]}),{mutate:i,mutateAsync:s,...a}=W({...r,...n});return{...a,signMessage:i,signMessageAsync:s}}(),u=async e=>{if(!i||!e.balanceThreshold)return!1;let t=function(e,t="wei"){return function(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new ts({value:e});let[r,n="0"]=e.split("."),i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){let[e,i,s]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],a=Math.round(Number(`${i}.${s}`));(n=a>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${a}`).length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${i?"-":""}${r}${n}`)}(e,eb.etherUnits[t])}(e.balanceThreshold);if(!(i.value>=t))throw Error(`Insufficient balance. Need at least ${e.balanceThreshold} ETH`);return!0},c=async t=>{if(!e||!t.signatureMessage)return!1;try{let r=await o({account:e,message:t.signatureMessage});return(await tu({message:t.signatureMessage,signature:r})).toLowerCase()===e.toLowerCase()}catch(e){return console.error("Signature verification failed:",e),!1}},l=async t=>{if(!e)throw Error("Wallet not connected");return await s({address:tl,abi:td,functionName:"completeQuest",args:[BigInt(t)],account:e,chain:tp})},d=async()=>{if(!e)throw Error("Wallet not connected");return await a({address:"0x02DE94645831dFa668657860F7C8BAFc72a80E56",abi:th,functionName:"mint",account:e,chain:tp})};return{verifyQuest:async t=>{if(!e)return{success:!1,error:"Wallet not connected"};n(t.id);try{let e,r=!1;switch(t.type){case ei.BALANCE:(r=await u(t))&&(e=await l(t.id));break;case ei.SIGNATURE:(r=await c(t))&&(e=await l(t.id));break;case ei.ONCHAIN:t.title.toLowerCase().includes("mint")?(e=await d(),await l(t.id)):e=await l(t.id),r=!0;break;case ei.SOCIAL:r=!0;break;default:throw Error("Unknown quest type")}return n(null),{success:r,txHash:e}}catch(e){return console.error("Quest verification failed:",e),n(null),{success:!1,error:e.message||"Verification failed"}}},verifyingQuestId:r,isVerifying:null!==r}}(),[s,a]=(0,E.useState)(),[o,u]=(0,E.useState)(e.status),[c,l]=(0,E.useState)(null),{isPending:d,isConfirmed:h,isFailed:p}=function(e){let{isLoading:t,isSuccess:r,isError:n}=function(e={}){let{hash:t,query:r={}}=e,n=C(e),i=eV({config:n}),s=function(e,t={}){return{async queryFn({queryKey:r}){let{hash:n,...i}=r[1];if(!n)throw Error("hash is required");return tn(e,{...i,onReplaced:t.onReplaced,hash:n})},queryKey:function(e={}){let{onReplaced:t,...r}=e;return["waitForTransactionReceipt",eP(r)]}(t)}}(n,{...e,chainId:e.chainId??i}),a=!!(t&&(r.enabled??!0));return eq({...r,...s,enabled:a})}({hash:e});return{isPending:t,isConfirmed:r,isFailed:n}}(s),f=i===e.id||d;(0,E.useEffect)(()=>{h&&s&&(u(es.COMPLETED),t(e.id),a(void 0)),p&&(u(es.FAILED),l("Transaction failed"),a(void 0))},[h,p,s,e.id,t]);let m=async()=>{if(!r&&o!==es.COMPLETED){if(l(null),e.redirectUrl)return void window.open(e.redirectUrl,"_blank");await y()}},y=async()=>{if(r||o===es.COMPLETED)return;l(null),u(es.VERIFYING);let i=await n(e);i.success?i.txHash?a(i.txHash):(u(es.COMPLETED),t(e.id)):(u(es.FAILED),l(i.error||"Verification failed"),setTimeout(()=>{u(es.PENDING),l(null)},3e3))},g=()=>o===es.COMPLETED?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ea,{className:"w-4 h-4"}),"Completed"]}):f?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(eo,{className:"w-4 h-4 animate-spin"}),d?"Confirming...":"Verifying..."]}):o===es.FAILED?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(eh,{className:"w-4 h-4"}),"Failed"]}):e.redirectUrl&&o===es.PENDING?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(eu,{className:"w-4 h-4"}),"Start Quest"]}):"Verify",b=()=>{let e="px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2";return o===es.COMPLETED?`${e} bg-green-600/20 text-green-400 cursor-not-allowed`:o===es.FAILED?`${e} bg-red-600/20 text-red-400`:r||f?`${e} bg-slate-700 text-slate-400 cursor-not-allowed`:`${e} bg-blue-600 hover:bg-blue-500 text-white`};return(0,I.jsx)("div",{className:"bg-slate-900 rounded-xl p-6 border border-slate-800 hover:border-slate-700 transition-all",children:(0,I.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,I.jsxs)("div",{className:"flex-1",children:[(0,I.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,I.jsx)("div",{className:"p-2 bg-slate-800 rounded-lg text-blue-400",children:(()=>{switch(e.type){case ei.ONCHAIN:return(0,I.jsx)(er,{className:"w-5 h-5"});case ei.SOCIAL:return(0,I.jsx)(ec,{className:"w-5 h-5"});case ei.BALANCE:return(0,I.jsx)(el,{className:"w-5 h-5"});case ei.SIGNATURE:return(0,I.jsx)(ed,{className:"w-5 h-5"});default:return(0,I.jsx)(er,{className:"w-5 h-5"})}})()}),(0,I.jsxs)("div",{children:[(0,I.jsx)("h3",{className:"font-bold text-lg text-white",children:e.title}),(0,I.jsx)("p",{className:"text-sm text-slate-400",children:e.type})]})]}),(0,I.jsx)("p",{className:"text-slate-300 mb-4",children:e.description}),(0,I.jsxs)("div",{className:"flex items-center gap-4",children:[(0,I.jsxs)("span",{className:"text-sm text-blue-400 font-medium",children:["+",e.xpReward," XP"]}),c&&(0,I.jsxs)("span",{className:"text-sm text-red-400 flex items-center gap-1",children:[(0,I.jsx)(eh,{className:"w-3 h-3"}),c]})]})]}),(0,I.jsx)("div",{className:"flex flex-col gap-2",children:e.redirectUrl&&o!==es.COMPLETED?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("button",{onClick:m,disabled:r||f,className:b(),children:g()}),o===es.PENDING&&(0,I.jsx)("button",{onClick:y,disabled:r||f,className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-white text-sm",children:"I completed this"})]}):(0,I.jsx)("button",{onClick:e.redirectUrl?y:m,disabled:r||f||o===es.COMPLETED,className:b(),children:g()})})]})})},tm=et("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ty=et("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),tg=[{id:1,title:"Bridge to Base",description:"Bridge ETH to Base network",type:ei.ONCHAIN,status:es.PENDING,xpReward:100,redirectUrl:"https://bridge.base.org/",requiresTx:!0},{id:2,title:"Swap on Uniswap",description:"Make a swap on Uniswap (Base)",type:ei.ONCHAIN,status:es.PENDING,xpReward:75,redirectUrl:"https://app.uniswap.org/swap?chain=base",requiresTx:!0},{id:3,title:"Swap on Aerodrome",description:"Trade on Aerodrome DEX",type:ei.ONCHAIN,status:es.PENDING,xpReward:75,redirectUrl:"https://aerodrome.finance/swap",requiresTx:!0},{id:4,title:"Mint Achievement NFT",description:"Mint your first Achievement NFT",type:ei.ONCHAIN,status:es.PENDING,xpReward:150,requiresTx:!0},{id:5,title:"Hold 0.001 ETH",description:"Maintain a balance of at least 0.001 ETH",type:ei.BALANCE,status:es.PENDING,xpReward:50,balanceThreshold:"0.001",tokenAddress:null},{id:6,title:"Hold 0.01 ETH",description:"Maintain a balance of at least 0.01 ETH",type:ei.BALANCE,status:es.PENDING,xpReward:100,balanceThreshold:"0.01",tokenAddress:null},{id:7,title:"Follow on X (Twitter)",description:"Follow QuestQuest on X",type:ei.SOCIAL,status:es.PENDING,xpReward:25,redirectUrl:"https://twitter.com/intent/follow?screen_name=base"},{id:8,title:"Join Discord",description:"Join the QuestQuest Discord community",type:ei.SOCIAL,status:es.PENDING,xpReward:25,redirectUrl:"https://discord.gg/buildonbase"},{id:9,title:"Share on Farcaster",description:"Share your quest progress on Farcaster",type:ei.SOCIAL,status:es.PENDING,xpReward:50,redirectUrl:"https://warpcast.com/~/compose"},{id:10,title:"Sign the Pledge",description:"Sign the QuestQuest adventurer pledge",type:ei.SIGNATURE,status:es.PENDING,xpReward:50,signatureMessage:"I pledge to be an honorable QuestQuest adventurer!"}],tb=(s=new Date((i=new Date).getFullYear(),0,0),a=Math.floor((i.getTime()-s.getTime())/864e5),o=[],u=tg.filter(e=>e.type===ei.ONCHAIN),c=tg.filter(e=>e.type===ei.SOCIAL),l=tg.filter(e=>e.type===ei.BALANCE),d=tg.filter(e=>e.type===ei.SIGNATURE),o.push(u[a%u.length]),o.push(c[a%c.length]),o.push(l[a%l.length]),o.push(d[a%d.length]),h=tg.filter(e=>!o.includes(e)),o.push(h[7*a%h.length]),o),tv=({metadata:e,dayLabel:t})=>{let[r,n]=E.default.useState(!1);return(0,I.jsxs)("div",{className:"flex flex-col items-center animate-[fadeIn_0.5s_ease-out]",children:[(0,I.jsxs)("div",{className:"relative group perspective-1000",children:[(0,I.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse-fast"}),(0,I.jsxs)("div",{className:"relative w-72 h-96 bg-slate-900 rounded-xl border border-slate-700 p-6 flex flex-col items-center justify-between shadow-2xl transform transition-transform duration-500 hover:rotate-y-12 hover:rotate-x-12 preserve-3d animate-float",children:[(0,I.jsxs)("div",{className:"text-center",children:[(0,I.jsx)("h3",{className:"text-base-blue font-bold tracking-wider text-sm mb-2",children:"DAILY BADGE"}),(0,I.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:e.name})]}),(0,I.jsxs)("div",{className:"w-40 h-40 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-inner mb-4 relative overflow-hidden",children:[(0,I.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-30"}),(0,I.jsx)("span",{className:"text-4xl",children:""}),(0,I.jsx)("div",{className:"absolute bottom-0 right-0 w-full h-1/2 bg-white/10 backdrop-blur-sm transform rotate-45 translate-y-4"})]}),(0,I.jsxs)("div",{className:"w-full space-y-2",children:[(0,I.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 border-b border-slate-800 pb-2",children:[(0,I.jsx)("span",{children:"Day ID"}),(0,I.jsx)("span",{className:"font-mono text-white",children:e.attributes.find(e=>"Day"===e.trait_type)?.value})]}),(0,I.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,I.jsx)("span",{children:"Quests"}),(0,I.jsx)("span",{className:"font-mono text-green-400",children:"COMPLETE"})]})]})]})]}),(0,I.jsxs)("div",{className:"mt-8 space-y-3 w-full max-w-xs",children:[(0,I.jsxs)("button",{onClick:()=>{let e=`I just completed the daily quests on QuestQuest and earned the ${t} Badge! 

Build your on-chain streak on Base.`,r=`https://warpcast.com/~/compose?text=${encodeURIComponent(e)}&embeds[]=${encodeURIComponent("https://questquest-demo.vercel.app")}`;window.open(r,"_blank")},className:"w-full flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-500 text-white py-3 px-6 rounded-xl font-bold transition-all shadow-lg shadow-purple-900/50 active:scale-95",children:[(0,I.jsx)(tm,{className:"w-5 h-5"}),"Share on Farcaster"]}),(0,I.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText("https://questquest-demo.vercel.app"),n(!0),setTimeout(()=>n(!1),2e3)},className:"w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-300 py-3 px-6 rounded-xl font-medium transition-colors",children:[r?(0,I.jsx)(ea,{className:"w-5 h-5 text-green-500"}):(0,I.jsx)(ty,{className:"w-5 h-5"}),r?"Link Copied":"Copy App Link"]})]})]})},tw=et("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),tx=et("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),tk=()=>{let{players:e,isLoading:t}=function(e=10,t=1e4){let{data:r,isLoading:n,refetch:i}=function(e={}){let{abi:t,address:r,functionName:n,query:i={}}=e,s=e.code,a=C(e),o=eV({config:a}),u=function(e,t={}){return{async queryFn({queryKey:r}){let n=t.abi;if(!n)throw Error("abi is required");let{functionName:i,scopeKey:s,...a}=r[1],o=(()=>{let e=r[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!i)throw Error("functionName is required");return eS(e,{abi:n,functionName:i,args:a.args,...o,...a})},queryKey:function(e={}){let{abi:t,...r}=e;return["readContract",eP(r)]}(t)}}(a,{...e,chainId:e.chainId??o}),c=!!((r||s)&&t&&n&&(i.enabled??!0));return eq({...i,...u,enabled:c,structuralSharing:i.structuralSharing??eT})}({address:tl,abi:td,functionName:"getTopPlayers",args:[BigInt(e)]});return(0,E.useEffect)(()=>{let e=setInterval(()=>{i()},t);return()=>clearInterval(e)},[i,t]),{players:r?r.map((e,t)=>({player:e.playerAddress,xp:e.totalXP,questsCompleted:e.questsCompleted,rank:t+1})):[],isLoading:n,refetch:i}}(10,1e4),{address:r}=L();return t?(0,I.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 shadow-xl",children:[(0,I.jsxs)("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[(0,I.jsx)(tw,{className:"w-6 h-6 text-yellow-500"}),"Leaderboard"]}),(0,I.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,I.jsx)(eo,{className:"w-8 h-8 animate-spin text-blue-400"})})]}):0===e.length?(0,I.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 shadow-xl",children:[(0,I.jsxs)("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[(0,I.jsx)(tw,{className:"w-6 h-6 text-yellow-500"}),"Leaderboard"]}),(0,I.jsxs)("div",{className:"text-center py-12",children:[(0,I.jsx)(tx,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,I.jsx)("p",{className:"text-slate-400 text-lg",children:"No adventurers yet. Be the first to complete a quest!"})]})]}):(0,I.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 shadow-xl",children:[(0,I.jsxs)("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[(0,I.jsx)(tw,{className:"w-6 h-6 text-yellow-500"}),"Top Questers"]}),(0,I.jsx)("div",{className:"space-y-3",children:e.map(e=>{let t=r&&e.player.toLowerCase()===r.toLowerCase();return(0,I.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-lg transition-all ${t?"bg-blue-500/20 border border-blue-500/50 shadow-lg shadow-blue-500/20":"bg-slate-800 hover:bg-slate-750"}`,children:[(0,I.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,I.jsx)("div",{className:"text-2xl font-bold text-slate-400 w-12 text-center",children:(e=>{switch(e){case 1:return"";case 2:return"";case 3:return"";default:return`#${e}`}})(e.rank)}),(0,I.jsxs)("div",{className:"flex-1",children:[(0,I.jsxs)("div",{className:"font-mono text-sm text-white flex items-center gap-2",children:[e.player.slice(0,6),"...",e.player.slice(-4),t&&(0,I.jsx)("span",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-full",children:"You"})]}),(0,I.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:[e.questsCompleted.toString()," quests completed"]})]})]}),(0,I.jsx)("div",{className:"text-right",children:(0,I.jsxs)("div",{className:"text-lg font-bold text-yellow-500",children:[e.xp.toString()," XP"]})})]},e.player)})}),(0,I.jsx)("div",{className:"mt-4 text-center text-xs text-slate-500",children:"Updates every 10 seconds"})]})};class t_ extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class tS extends t_{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class tI extends t_{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}}e.s(["InvalidDomainManifest",()=>tS,"RejectedByUser",()=>tI],37789),e.s([],18744),e.s([],67924),e.s([],57615),e.s(["DEFAULT_READY_OPTIONS",0,{disableNativeGestures:!1}],42283),e.s([],6452),e.s([],31687);class tE extends t_{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}e.s(["RejectedByUser",()=>tE],43778);class tA extends t_{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}}class tT extends t_{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}}class tO extends t_{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}}e.s(["GenericError",()=>tO,"InvalidDomain",()=>tT,"RejectedByUser",()=>tA],2578),e.s([],52474),e.s([],55235),e.s([],69620),e.s([],31130),e.s([],50482),e.s([],38570),e.i(38570),(g=x||(x={})).assertEqual=e=>{},g.assertIs=function(e){},g.assertNever=function(e){throw Error()},g.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},g.getValidEnumValues=e=>{let t=g.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return g.objectValues(r)},g.objectValues=e=>g.objectKeys(e).map(function(t){return e[t]}),g.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},g.find=(e,t)=>{for(let r of e)if(t(r))return r},g.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,g.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},g.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(k||(k={})).mergeShapes=(e,t)=>({...e,...t});let tj=x.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tP=e=>{switch(typeof e){case"undefined":return tj.undefined;case"string":return tj.string;case"number":return Number.isNaN(e)?tj.nan:tj.number;case"boolean":return tj.boolean;case"function":return tj.function;case"bigint":return tj.bigint;case"symbol":return tj.symbol;case"object":if(Array.isArray(e))return tj.array;if(null===e)return tj.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return tj.promise;if("undefined"!=typeof Map&&e instanceof Map)return tj.map;if("undefined"!=typeof Set&&e instanceof Set)return tj.set;if("undefined"!=typeof Date&&e instanceof Date)return tj.date;return tj.object;default:return tj.unknown}};e.s(["ZodParsedType",0,tj,"getParsedType",0,tP,"objectUtil",()=>k,"util",()=>x],4783);let tN=x.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tC=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class tR extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof tR))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,x.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}tR.create=e=>new tR(e),e.s(["ZodError",()=>tR,"ZodIssueCode",0,tN,"quotelessJson",0,tC],69790);let tB=(e,t)=>{let r;switch(e.code){case tN.invalid_type:r=e.received===tj.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case tN.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,x.jsonStringifyReplacer)}`;break;case tN.unrecognized_keys:r=`Unrecognized key(s) in object: ${x.joinValues(e.keys,", ")}`;break;case tN.invalid_union:r="Invalid input";break;case tN.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${x.joinValues(e.options)}`;break;case tN.invalid_enum_value:r=`Invalid enum value. Expected ${x.joinValues(e.options)}, received '${e.received}'`;break;case tN.invalid_arguments:r="Invalid function arguments";break;case tN.invalid_return_type:r="Invalid function return type";break;case tN.invalid_date:r="Invalid date";break;case tN.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:x.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case tN.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case tN.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case tN.custom:r="Invalid input";break;case tN.invalid_intersection_types:r="Intersection results could not be merged";break;case tN.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case tN.not_finite:r="Number must be finite";break;default:r=t.defaultError,x.assertNever(e)}return{message:r}},tL=tB;function tM(e){tL=e}function tU(){return tL}e.s(["getErrorMap",()=>tU,"setErrorMap",()=>tM],81184),e.i(81184),e.s(["defaultErrorMap",0,tB,"getErrorMap",()=>tU,"setErrorMap",()=>tM],77290),e.i(77290);let tz=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},tD=[];function tZ(e,t){let r=tL,n=tz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===tB?void 0:tB].filter(e=>!!e)});e.common.issues.push(n)}class tF{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return tW;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return tF.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return tW;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let tW=Object.freeze({status:"aborted"}),t$=e=>({status:"dirty",value:e}),tq=e=>({status:"valid",value:e}),tK=e=>"aborted"===e.status,tV=e=>"dirty"===e.status,tQ=e=>"valid"===e.status,tH=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,t$,"EMPTY_PATH",0,tD,"INVALID",0,tW,"OK",0,tq,"ParseStatus",()=>tF,"addIssueToContext",()=>tZ,"isAborted",0,tK,"isAsync",0,tH,"isDirty",0,tV,"isValid",0,tQ,"makeIssue",0,tz],65354),e.i(65354),e.s([],27404),e.i(27404),e.i(4783),(b=_||(_={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},b.toString=e=>"string"==typeof e?e:e?.message;class tG{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let tJ=(e,t)=>{if(tQ(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new tR(e.common.issues);return this._error=t,this._error}}};function tY(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class tX{get description(){return this._def.description}_getType(e){return tP(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tP(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tF,ctx:{common:e.parent.common,data:e.data,parsedType:tP(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(tH(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tP(e)},n=this._parseSync({data:e,path:r.path,parent:r});return tJ(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tP(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return tQ(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>tQ(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tP(e)},n=this._parse({data:e,path:r.path,parent:r});return tJ(r,await (tH(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:tN.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new rM({schema:this,typeName:S.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return rU.create(this,this._def)}nullable(){return rz.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rw.create(this)}promise(){return rL.create(this,this._def)}or(e){return rk.create([this,e],this._def)}and(e){return rI.create(this,e,this._def)}transform(e){return new rM({...tY(this._def),schema:this,typeName:S.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new rD({...tY(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:S.ZodDefault})}brand(){return new r$({typeName:S.ZodBranded,type:this,...tY(this._def)})}catch(e){return new rZ({...tY(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:S.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return rq.create(this,e)}readonly(){return rK.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let t0=/^c[^\s-]{8,}$/i,t1=/^[0-9a-z]+$/,t2=/^[0-9A-HJKMNP-TV-Z]{26}$/i,t5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t4=/^[a-z0-9_-]{21}$/i,t6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,t3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,t8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,re=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ri="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rs=RegExp(`^${ri}$`);function ra(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function ro(e){let t=`${ri}T${ra(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class ru extends tX{_parse(e){var r,n,i,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tj.string){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.string,received:t.parsedType}),tW}let o=new tF;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(tZ(a=this._getOrReturnCtx(e,a),{code:tN.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(tZ(a=this._getOrReturnCtx(e,a),{code:tN.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?tZ(a,{code:tN.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&tZ(a,{code:tN.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)t8.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"email",code:tN.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:tN.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)t5.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:tN.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)t4.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:tN.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)t0.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:tN.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)t1.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:tN.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)t2.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:tN.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{tZ(a=this._getOrReturnCtx(e,a),{validation:"url",code:tN.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"regex",code:tN.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?ro(u).test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?rs.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${ra(u)}$`).test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{code:tN.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?t3.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"duration",code:tN.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(r=e.data,!(("v4"===(n=u.version)||!n)&&t9.test(r)||("v6"===n||!n)&&re.test(r))&&1&&(tZ(a=this._getOrReturnCtx(e,a),{validation:"ip",code:tN.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!t6.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(tZ(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:tN.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(i=e.data,!(("v4"===(s=u.version)||!s)&&t7.test(i)||("v6"===s||!s)&&rt.test(i))&&1&&(tZ(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:tN.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?rr.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"base64",code:tN.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?rn.test(e.data)||(tZ(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:tN.invalid_string,message:u.message}),o.dirty()):x.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:tN.invalid_string,..._.errToObj(r)})}_addCheck(e){return new ru({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,..._.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,..._.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,..._.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,..._.errToObj(t)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new ru({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ru({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ru({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ru.create=e=>new ru({checks:[],typeName:S.ZodString,coerce:e?.coerce??!1,...tY(e)});class rc extends tX{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tj.number){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.number,received:t.parsedType}),tW}let r=new tF;for(let n of this._def.checks)"int"===n.kind?x.isInteger(e.data)||(tZ(t=this._getOrReturnCtx(e,t),{code:tN.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(tZ(t=this._getOrReturnCtx(e,t),{code:tN.not_finite,message:n.message}),r.dirty()):x.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,n){return new rc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(n)}]})}_addCheck(e){return new rc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&x.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}rc.create=e=>new rc({checks:[],typeName:S.ZodNumber,coerce:e?.coerce||!1,...tY(e)});class rl extends tX{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tj.bigint)return this._getInvalidInput(e);let r=new tF;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):x.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.bigint,received:t.parsedType}),tW}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,n){return new rl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(n)}]})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}rl.create=e=>new rl({checks:[],typeName:S.ZodBigInt,coerce:e?.coerce??!1,...tY(e)});class rd extends tX{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tj.boolean){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.boolean,received:t.parsedType}),tW}return tq(e.data)}}rd.create=e=>new rd({typeName:S.ZodBoolean,coerce:e?.coerce||!1,...tY(e)});class rh extends tX{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tj.date){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.date,received:t.parsedType}),tW}if(Number.isNaN(e.data.getTime()))return tZ(this._getOrReturnCtx(e),{code:tN.invalid_date}),tW;let r=new tF;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(tZ(t=this._getOrReturnCtx(e,t),{code:tN.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):x.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rh({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}rh.create=e=>new rh({checks:[],coerce:e?.coerce||!1,typeName:S.ZodDate,...tY(e)});class rp extends tX{_parse(e){if(this._getType(e)!==tj.symbol){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.symbol,received:t.parsedType}),tW}return tq(e.data)}}rp.create=e=>new rp({typeName:S.ZodSymbol,...tY(e)});class rf extends tX{_parse(e){if(this._getType(e)!==tj.undefined){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.undefined,received:t.parsedType}),tW}return tq(e.data)}}rf.create=e=>new rf({typeName:S.ZodUndefined,...tY(e)});class rm extends tX{_parse(e){if(this._getType(e)!==tj.null){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.null,received:t.parsedType}),tW}return tq(e.data)}}rm.create=e=>new rm({typeName:S.ZodNull,...tY(e)});class ry extends tX{constructor(){super(...arguments),this._any=!0}_parse(e){return tq(e.data)}}ry.create=e=>new ry({typeName:S.ZodAny,...tY(e)});class rg extends tX{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tq(e.data)}}rg.create=e=>new rg({typeName:S.ZodUnknown,...tY(e)});class rb extends tX{_parse(e){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.never,received:t.parsedType}),tW}}rb.create=e=>new rb({typeName:S.ZodNever,...tY(e)});class rv extends tX{_parse(e){if(this._getType(e)!==tj.undefined){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.void,received:t.parsedType}),tW}return tq(e.data)}}rv.create=e=>new rv({typeName:S.ZodVoid,...tY(e)});class rw extends tX{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==tj.array)return tZ(t,{code:tN.invalid_type,expected:tj.array,received:t.parsedType}),tW;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(tZ(t,{code:e?tN.too_big:tN.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(tZ(t,{code:tN.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(tZ(t,{code:tN.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new tG(t,e,t.path,r)))).then(e=>tF.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new tG(t,e,t.path,r)));return tF.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new rw({...this._def,minLength:{value:e,message:_.toString(t)}})}max(e,t){return new rw({...this._def,maxLength:{value:e,message:_.toString(t)}})}length(e,t){return new rw({...this._def,exactLength:{value:e,message:_.toString(t)}})}nonempty(e){return this.min(1,e)}}rw.create=(e,t)=>new rw({type:e,minLength:null,maxLength:null,exactLength:null,typeName:S.ZodArray,...tY(t)});class rx extends tX{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=x.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==tj.object){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.object,received:t.parsedType}),tW}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof rb&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new tG(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof rb){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(tZ(r,{code:tN.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new tG(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>tF.mergeObjectSync(t,e)):tF.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new rx({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:_.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new rx({...this._def,unknownKeys:"strip"})}passthrough(){return new rx({...this._def,unknownKeys:"passthrough"})}extend(e){return new rx({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rx({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:S.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rx({...this._def,catchall:e})}pick(e){let t={};for(let r of x.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new rx({...this._def,shape:()=>t})}omit(e){let t={};for(let r of x.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new rx({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof rx){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=rU.create(e(i))}return new rx({...t._def,shape:()=>r})}if(t instanceof rw)return new rw({...t._def,type:e(t.element)});if(t instanceof rU)return rU.create(e(t.unwrap()));if(t instanceof rz)return rz.create(e(t.unwrap()));if(t instanceof rE)return rE.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of x.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new rx({...this._def,shape:()=>t})}required(e){let t={};for(let r of x.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof rU;)e=e._def.innerType;t[r]=e}return new rx({...this._def,shape:()=>t})}keyof(){return rC(x.objectKeys(this.shape))}}rx.create=(e,t)=>new rx({shape:()=>e,unknownKeys:"strip",catchall:rb.create(),typeName:S.ZodObject,...tY(t)}),rx.strictCreate=(e,t)=>new rx({shape:()=>e,unknownKeys:"strict",catchall:rb.create(),typeName:S.ZodObject,...tY(t)}),rx.lazycreate=(e,t)=>new rx({shape:e,unknownKeys:"strip",catchall:rb.create(),typeName:S.ZodObject,...tY(t)});class rk extends tX{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new tR(e.ctx.common.issues));return tZ(t,{code:tN.invalid_union,unionErrors:r}),tW});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new tR(e));return tZ(t,{code:tN.invalid_union,unionErrors:i}),tW}}get options(){return this._def.options}}rk.create=(e,t)=>new rk({options:e,typeName:S.ZodUnion,...tY(t)});let r_=e=>{if(e instanceof rP)return r_(e.schema);if(e instanceof rM)return r_(e.innerType());if(e instanceof rN)return[e.value];if(e instanceof rR)return e.options;if(e instanceof rB)return x.objectValues(e.enum);else if(e instanceof rD)return r_(e._def.innerType);else if(e instanceof rf)return[void 0];else if(e instanceof rm)return[null];else if(e instanceof rU)return[void 0,...r_(e.unwrap())];else if(e instanceof rz)return[null,...r_(e.unwrap())];else if(e instanceof r$)return r_(e.unwrap());else if(e instanceof rK)return r_(e.unwrap());else if(e instanceof rZ)return r_(e._def.innerType);else return[]};class rS extends tX{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tj.object)return tZ(t,{code:tN.invalid_type,expected:tj.object,received:t.parsedType}),tW;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(tZ(t,{code:tN.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tW)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=r_(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new rS({typeName:S.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...tY(r)})}}class rI extends tX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(tK(e)||tK(n))return tW;let i=function e(t,r){let n=tP(t),i=tP(r);if(t===r)return{valid:!0,data:t};if(n===tj.object&&i===tj.object){let n=x.objectKeys(r),i=x.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===tj.array&&i===tj.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===tj.date&&i===tj.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((tV(e)||tV(n))&&t.dirty(),{status:t.value,value:i.data}):(tZ(r,{code:tN.invalid_intersection_types}),tW)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rI.create=(e,t,r)=>new rI({left:e,right:t,typeName:S.ZodIntersection,...tY(r)});class rE extends tX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tj.array)return tZ(r,{code:tN.invalid_type,expected:tj.array,received:r.parsedType}),tW;if(r.data.length<this._def.items.length)return tZ(r,{code:tN.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tW;!this._def.rest&&r.data.length>this._def.items.length&&(tZ(r,{code:tN.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new tG(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>tF.mergeArray(t,e)):tF.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new rE({...this._def,rest:e})}}rE.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rE({items:e,typeName:S.ZodTuple,rest:null,...tY(t)})};class rA extends tX{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tj.object)return tZ(r,{code:tN.invalid_type,expected:tj.object,received:r.parsedType}),tW;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new tG(r,e,r.path,e)),value:s._parse(new tG(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?tF.mergeObjectAsync(t,n):tF.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new rA(t instanceof tX?{keyType:e,valueType:t,typeName:S.ZodRecord,...tY(r)}:{keyType:ru.create(),valueType:e,typeName:S.ZodRecord,...tY(t)})}}class rT extends tX{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tj.map)return tZ(r,{code:tN.invalid_type,expected:tj.map,received:r.parsedType}),tW;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new tG(r,e,r.path,[s,"key"])),value:i._parse(new tG(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return tW;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return tW;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}rT.create=(e,t,r)=>new rT({valueType:t,keyType:e,typeName:S.ZodMap,...tY(r)});class rO extends tX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tj.set)return tZ(r,{code:tN.invalid_type,expected:tj.set,received:r.parsedType}),tW;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(tZ(r,{code:tN.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(tZ(r,{code:tN.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return tW;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new tG(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new rO({...this._def,minSize:{value:e,message:_.toString(t)}})}max(e,t){return new rO({...this._def,maxSize:{value:e,message:_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}rO.create=(e,t)=>new rO({valueType:e,minSize:null,maxSize:null,typeName:S.ZodSet,...tY(t)});class rj extends tX{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tj.function)return tZ(t,{code:tN.invalid_type,expected:tj.function,received:t.parsedType}),tW;function r(e,r){return tz({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tL,tB].filter(e=>!!e),issueData:{code:tN.invalid_arguments,argumentsError:r}})}function n(e,r){return tz({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tL,tB].filter(e=>!!e),issueData:{code:tN.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof rL){let e=this;return tq(async function(...t){let a=new tR([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw a.addIssue(n(u,e)),a})})}{let e=this;return tq(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new tR([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new tR([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new rj({...this._def,args:rE.create(e).rest(rg.create())})}returns(e){return new rj({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new rj({args:e||rE.create([]).rest(rg.create()),returns:t||rg.create(),typeName:S.ZodFunction,...tY(r)})}}class rP extends tX{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}rP.create=(e,t)=>new rP({getter:e,typeName:S.ZodLazy,...tY(t)});class rN extends tX{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return tZ(t,{received:t.data,code:tN.invalid_literal,expected:this._def.value}),tW}return{status:"valid",value:e.data}}get value(){return this._def.value}}function rC(e,t){return new rR({values:e,typeName:S.ZodEnum,...tY(t)})}rN.create=(e,t)=>new rN({value:e,typeName:S.ZodLiteral,...tY(t)});class rR extends tX{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return tZ(t,{expected:x.joinValues(r),received:t.parsedType,code:tN.invalid_type}),tW}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return tZ(t,{received:t.data,code:tN.invalid_enum_value,options:r}),tW}return tq(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return rR.create(e,{...this._def,...t})}exclude(e,t=this._def){return rR.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}rR.create=rC;class rB extends tX{_parse(e){let t=x.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==tj.string&&r.parsedType!==tj.number){let e=x.objectValues(t);return tZ(r,{expected:x.joinValues(e),received:r.parsedType,code:tN.invalid_type}),tW}if(this._cache||(this._cache=new Set(x.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=x.objectValues(t);return tZ(r,{received:r.data,code:tN.invalid_enum_value,options:e}),tW}return tq(e.data)}get enum(){return this._def.values}}rB.create=(e,t)=>new rB({values:e,typeName:S.ZodNativeEnum,...tY(t)});class rL extends tX{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==tj.promise&&!1===t.common.async?(tZ(t,{code:tN.invalid_type,expected:tj.promise,received:t.parsedType}),tW):tq((t.parsedType===tj.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}rL.create=(e,t)=>new rL({type:e,typeName:S.ZodPromise,...tY(t)});class rM extends tX{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===S.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{tZ(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return tW;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?tW:"dirty"===n.status||"dirty"===t.value?t$(n.value):n});{if("aborted"===t.value)return tW;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?tW:"dirty"===n.status||"dirty"===t.value?t$(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?tW:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?tW:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>tQ(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):tW);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tQ(e))return tW;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}x.assertNever(n)}}rM.create=(e,t,r)=>new rM({schema:e,typeName:S.ZodEffects,effect:t,...tY(r)}),rM.createWithPreprocess=(e,t,r)=>new rM({schema:t,effect:{type:"preprocess",transform:e},typeName:S.ZodEffects,...tY(r)});class rU extends tX{_parse(e){return this._getType(e)===tj.undefined?tq(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rU.create=(e,t)=>new rU({innerType:e,typeName:S.ZodOptional,...tY(t)});class rz extends tX{_parse(e){return this._getType(e)===tj.null?tq(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rz.create=(e,t)=>new rz({innerType:e,typeName:S.ZodNullable,...tY(t)});class rD extends tX{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===tj.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}rD.create=(e,t)=>new rD({innerType:e,typeName:S.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tY(t)});class rZ extends tX{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return tH(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new tR(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new tR(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rZ.create=(e,t)=>new rZ({innerType:e,typeName:S.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tY(t)});class rF extends tX{_parse(e){if(this._getType(e)!==tj.nan){let t=this._getOrReturnCtx(e);return tZ(t,{code:tN.invalid_type,expected:tj.nan,received:t.parsedType}),tW}return{status:"valid",value:e.data}}}rF.create=e=>new rF({typeName:S.ZodNaN,...tY(e)});let rW=Symbol("zod_brand");class r$ extends tX{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class rq extends tX{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tW:"dirty"===e.status?(t.dirty(),t$(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tW:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new rq({in:e,out:t,typeName:S.ZodPipeline})}}class rK extends tX{_parse(e){let t=this._def.innerType._parse(e),r=e=>(tQ(e)&&(e.value=Object.freeze(e.value)),e);return tH(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function rV(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function rQ(e,t={},r){return e?ry.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(e=>{if(!e){let e=rV(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=rV(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}}):ry.create()}rK.create=(e,t)=>new rK({innerType:e,typeName:S.ZodReadonly,...tY(t)});let rH={object:rx.lazycreate};(v=S||(S={})).ZodString="ZodString",v.ZodNumber="ZodNumber",v.ZodNaN="ZodNaN",v.ZodBigInt="ZodBigInt",v.ZodBoolean="ZodBoolean",v.ZodDate="ZodDate",v.ZodSymbol="ZodSymbol",v.ZodUndefined="ZodUndefined",v.ZodNull="ZodNull",v.ZodAny="ZodAny",v.ZodUnknown="ZodUnknown",v.ZodNever="ZodNever",v.ZodVoid="ZodVoid",v.ZodArray="ZodArray",v.ZodObject="ZodObject",v.ZodUnion="ZodUnion",v.ZodDiscriminatedUnion="ZodDiscriminatedUnion",v.ZodIntersection="ZodIntersection",v.ZodTuple="ZodTuple",v.ZodRecord="ZodRecord",v.ZodMap="ZodMap",v.ZodSet="ZodSet",v.ZodFunction="ZodFunction",v.ZodLazy="ZodLazy",v.ZodLiteral="ZodLiteral",v.ZodEnum="ZodEnum",v.ZodEffects="ZodEffects",v.ZodNativeEnum="ZodNativeEnum",v.ZodOptional="ZodOptional",v.ZodNullable="ZodNullable",v.ZodDefault="ZodDefault",v.ZodCatch="ZodCatch",v.ZodPromise="ZodPromise",v.ZodBranded="ZodBranded",v.ZodPipeline="ZodPipeline",v.ZodReadonly="ZodReadonly";let rG=(e,t={message:`Input not instance of ${e.name}`})=>rQ(t=>t instanceof e,t),rJ=ru.create,rY=rc.create,rX=rF.create,r0=rl.create,r1=rd.create,r2=rh.create,r5=rp.create,r4=rf.create,r6=rm.create,r3=ry.create,r8=rg.create,r9=rb.create,r7=rv.create,ne=rw.create,nt=rx.create,nr=rx.strictCreate,nn=rk.create,ni=rS.create,ns=rI.create,na=rE.create,no=rA.create,nu=rT.create,nc=rO.create,nl=rj.create,nd=rP.create,nh=rN.create,np=rR.create,nf=rB.create,nm=rL.create,ny=rM.create,ng=rU.create,nb=rz.create,nv=rM.createWithPreprocess,nw=rq.create,nx=()=>rJ().optional(),nk=()=>rY().optional(),n_=()=>r1().optional(),nS={string:e=>ru.create({...e,coerce:!0}),number:e=>rc.create({...e,coerce:!0}),boolean:e=>rd.create({...e,coerce:!0}),bigint:e=>rl.create({...e,coerce:!0}),date:e=>rh.create({...e,coerce:!0})};e.s(["BRAND",0,rW,"NEVER",0,tW,"Schema",()=>tX,"ZodAny",()=>ry,"ZodArray",()=>rw,"ZodBigInt",()=>rl,"ZodBoolean",()=>rd,"ZodBranded",()=>r$,"ZodCatch",()=>rZ,"ZodDate",()=>rh,"ZodDefault",()=>rD,"ZodDiscriminatedUnion",()=>rS,"ZodEffects",()=>rM,"ZodEnum",()=>rR,"ZodFirstPartyTypeKind",()=>S,"ZodFunction",()=>rj,"ZodIntersection",()=>rI,"ZodLazy",()=>rP,"ZodLiteral",()=>rN,"ZodMap",()=>rT,"ZodNaN",()=>rF,"ZodNativeEnum",()=>rB,"ZodNever",()=>rb,"ZodNull",()=>rm,"ZodNullable",()=>rz,"ZodNumber",()=>rc,"ZodObject",()=>rx,"ZodOptional",()=>rU,"ZodPipeline",()=>rq,"ZodPromise",()=>rL,"ZodReadonly",()=>rK,"ZodRecord",()=>rA,"ZodSchema",()=>tX,"ZodSet",()=>rO,"ZodString",()=>ru,"ZodSymbol",()=>rp,"ZodTransformer",()=>rM,"ZodTuple",()=>rE,"ZodType",()=>tX,"ZodUndefined",()=>rf,"ZodUnion",()=>rk,"ZodUnknown",()=>rg,"ZodVoid",()=>rv,"any",()=>r3,"array",()=>ne,"bigint",()=>r0,"boolean",()=>r1,"coerce",0,nS,"custom",()=>rQ,"date",()=>r2,"datetimeRegex",()=>ro,"discriminatedUnion",()=>ni,"effect",()=>ny,"enum",()=>np,"function",()=>nl,"instanceof",()=>rG,"intersection",()=>ns,"late",0,rH,"lazy",()=>nd,"literal",()=>nh,"map",()=>nu,"nan",()=>rX,"nativeEnum",()=>nf,"never",()=>r9,"null",()=>r6,"nullable",()=>nb,"number",()=>rY,"object",()=>nt,"oboolean",()=>n_,"onumber",()=>nk,"optional",()=>ng,"ostring",()=>nx,"pipeline",()=>nw,"preprocess",()=>nv,"promise",()=>nm,"record",()=>no,"set",()=>nc,"strictObject",()=>nr,"string",()=>rJ,"symbol",()=>r5,"transformer",()=>ny,"tuple",()=>na,"undefined",()=>r4,"union",()=>nn,"unknown",()=>r8,"void",()=>r7],65638),e.i(65638),e.i(69790),e.s(["BRAND",0,rW,"DIRTY",0,t$,"EMPTY_PATH",0,tD,"INVALID",0,tW,"NEVER",0,tW,"OK",0,tq,"ParseStatus",()=>tF,"Schema",()=>tX,"ZodAny",()=>ry,"ZodArray",()=>rw,"ZodBigInt",()=>rl,"ZodBoolean",()=>rd,"ZodBranded",()=>r$,"ZodCatch",()=>rZ,"ZodDate",()=>rh,"ZodDefault",()=>rD,"ZodDiscriminatedUnion",()=>rS,"ZodEffects",()=>rM,"ZodEnum",()=>rR,"ZodError",()=>tR,"ZodFirstPartyTypeKind",()=>S,"ZodFunction",()=>rj,"ZodIntersection",()=>rI,"ZodIssueCode",0,tN,"ZodLazy",()=>rP,"ZodLiteral",()=>rN,"ZodMap",()=>rT,"ZodNaN",()=>rF,"ZodNativeEnum",()=>rB,"ZodNever",()=>rb,"ZodNull",()=>rm,"ZodNullable",()=>rz,"ZodNumber",()=>rc,"ZodObject",()=>rx,"ZodOptional",()=>rU,"ZodParsedType",0,tj,"ZodPipeline",()=>rq,"ZodPromise",()=>rL,"ZodReadonly",()=>rK,"ZodRecord",()=>rA,"ZodSchema",()=>tX,"ZodSet",()=>rO,"ZodString",()=>ru,"ZodSymbol",()=>rp,"ZodTransformer",()=>rM,"ZodTuple",()=>rE,"ZodType",()=>tX,"ZodUndefined",()=>rf,"ZodUnion",()=>rk,"ZodUnknown",()=>rg,"ZodVoid",()=>rv,"addIssueToContext",()=>tZ,"any",()=>r3,"array",()=>ne,"bigint",()=>r0,"boolean",()=>r1,"coerce",0,nS,"custom",()=>rQ,"date",()=>r2,"datetimeRegex",()=>ro,"defaultErrorMap",0,tB,"discriminatedUnion",()=>ni,"effect",()=>ny,"enum",()=>np,"function",()=>nl,"getErrorMap",()=>tU,"getParsedType",0,tP,"instanceof",()=>rG,"intersection",()=>ns,"isAborted",0,tK,"isAsync",0,tH,"isDirty",0,tV,"isValid",0,tQ,"late",0,rH,"lazy",()=>nd,"literal",()=>nh,"makeIssue",0,tz,"map",()=>nu,"nan",()=>rX,"nativeEnum",()=>nf,"never",()=>r9,"null",()=>r6,"nullable",()=>nb,"number",()=>rY,"object",()=>nt,"objectUtil",()=>k,"oboolean",()=>n_,"onumber",()=>nk,"optional",()=>ng,"ostring",()=>nx,"pipeline",()=>nw,"preprocess",()=>nv,"promise",()=>nm,"quotelessJson",0,tC,"record",()=>no,"set",()=>nc,"setErrorMap",()=>tM,"strictObject",()=>nr,"string",()=>rJ,"symbol",()=>r5,"transformer",()=>ny,"tuple",()=>na,"undefined",()=>r4,"union",()=>nn,"unknown",()=>r8,"util",()=>x,"void",()=>r7],88685);var nI=e.i(88685),nI=nI,nI=nI;let nE=/[@#$%^&*+=/\\|~]/,nA=/(!{2,}|\?{2,}|-{2,})/,nT=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,nO=({max:e,noSpaces:t}={})=>(t?nI.string().max(e??1/0).regex(/^\S*$/,"Spaces are not allowed"):nI.string().max(e??1/0)).refine(e=>!nT.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!nE.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(e=>!nA.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),nj=nI.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(e=>!e.includes(" "),{message:"URL must not contain spaces"}).refine(e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(t)||t.startsWith("[")&&t.endsWith("]"))return!1;return!0}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),nP=nI.string().max(32),nN=nI.string().max(32),nC=nI.string().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),nR=nI.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),nB=nI.string().max(1024).regex(/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(e=>!e.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(e=>!e.includes("/"),{message:"Domain must not include path separators"}).refine(e=>!e.includes("@"),{message:"Domain must not include @ symbol"}).refine(e=>!e.includes(":"),{message:"Domain must not include port numbers"}),nL=nI.union([nI.literal("1:1"),nI.literal("3:2")]),nM=nI.object({header:nI.string(),payload:nI.string(),signature:nI.string()});nI.object({fid:nI.number(),type:nI.literal("app_key"),key:nI.string().startsWith("0x")});let nU=nI.object({type:nI.literal("launch_frame"),name:nP,url:nj.optional(),splashImageUrl:nj.optional(),splashBackgroundColor:nR.optional()}),nz=nI.object({type:nI.literal("launch_miniapp"),name:nP,url:nj.optional(),splashImageUrl:nj.optional(),splashBackgroundColor:nR.optional()}),nD=nI.object({type:nI.literal("view_token"),token:nC}),nZ=nI.discriminatedUnion("type",[nz,nD,nU]),nF=nI.object({title:nN,action:nZ});nI.object({version:nI.union([nI.string(),nI.number()]).transform(e=>String(e)).pipe(nI.union([nI.literal("next"),nI.literal("1")])),imageUrl:nj,aspectRatio:nL.optional(),button:nF});var nI=nI,nI=nI;let nW=nI.object({url:nI.string(),token:nI.string()});nI.object({notificationId:nI.string().max(128),title:nI.string().max(32),body:nI.string().max(128),targetUrl:nj,tokens:nI.string().array().max(100)}),nI.object({result:nI.object({successfulTokens:nI.array(nI.string()),invalidTokens:nI.array(nI.string()),rateLimitedTokens:nI.array(nI.string())})});let n$=nI.object({event:nI.literal("miniapp_added"),notificationDetails:nW.optional()}),nq=nI.object({event:nI.literal("miniapp_removed")}),nK=nI.object({event:nI.literal("notifications_enabled"),notificationDetails:nW.required()}),nV=nI.object({event:nI.literal("notifications_disabled")});nI.discriminatedUnion("event",[n$,nq,nK,nV]);var nI=nI;let nQ=nI.enum(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),nH=nI.union([nI.literal("0.0.0"),nI.literal("0.0.1"),nI.literal("1"),nI.literal("next")]),nG=nO({max:30}),nJ=nO({max:170}),nY=nI.array(nj).max(3),nX=nI.array(nO({max:20,noSpaces:!0})).max(5),n0=nO({max:30}),n1=nO({max:30}),n2=nO({max:100}),n5=nI.boolean();function n4(e){return Array.from(new Set(e))}let n6=nI.array(nI.enum(["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"])).transform(n4),n3=nI.array(nI.enum(["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"])).transform(n4),n8=nI.object({version:nH,name:nP,iconUrl:nj,homeUrl:nj,imageUrl:nj.optional(),buttonTitle:nN.optional(),splashImageUrl:nj.optional(),splashBackgroundColor:nR.optional(),webhookUrl:nj.optional(),subtitle:nG.optional(),description:nJ.optional(),screenshotUrls:nY.optional(),primaryCategory:nQ.optional(),tags:nX.optional(),heroImageUrl:nj.optional(),tagline:n0.optional(),ogTitle:n1.optional(),ogDescription:n2.optional(),ogImageUrl:nj.optional(),noindex:n5.optional(),requiredChains:n6.optional(),requiredCapabilities:n3.optional(),castShareUrl:nj.optional(),canonicalDomain:nB.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});nI.object({accountAssociation:nM,miniapp:n8.optional(),frame:n8.optional()}).refine(e=>!e.frame||!e.miniapp||JSON.stringify(e.frame)===JSON.stringify(e.miniapp),{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(e=>({...e,frame:e.frame??e.miniapp}));var n9=e.i(43943),n7=e.i(44314),ie=e.i(70525),it=e.i(10588),ir=e.i(70948),ii=e.i(3836);let is=BigInt(0),ia=BigInt(1),io=BigInt(2),iu=BigInt(8),ic={zip215:!0};var il=e.i(33795);BigInt(0),BigInt(1),BigInt(2);let id=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ih=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ip=BigInt(0),im=BigInt(1),iy=BigInt(2),ig=BigInt(3),ib=BigInt(5),iv=BigInt(8);function iw(e,t){var r;let n,i,s,a,o,u,c,l,d,h,p,f,m,y,g=(0,ir.mod)(t*t*t,id),b=(r=e*(0,ir.mod)(g*g*t,id),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),o=r*r%id*r%id,u=(0,ir.pow2)(o,iy,id)*o%id,c=(0,ir.pow2)(u,im,id)*r%id,l=(0,ir.pow2)(c,ib,id)*c%id,d=(0,ir.pow2)(l,n,id)*l%id,h=(0,ir.pow2)(d,i,id)*d%id,p=(0,ir.pow2)(h,s,id)*h%id,f=(0,ir.pow2)(p,a,id)*p%id,m=(0,ir.pow2)(f,a,id)*p%id,y=(0,ir.pow2)(m,n,id)*l%id,{pow_p_5_8:(0,ir.pow2)(y,iy,id)*r%id,b2:o}).pow_p_5_8,v=(0,ir.mod)(e*g*b,id),w=(0,ir.mod)(t*v*v,id),x=v,k=(0,ir.mod)(v*ih,id),_=w===e,S=w===(0,ir.mod)(-e,id),I=w===(0,ir.mod)(-e*ih,id);return _&&(v=x),(S||I)&&(v=k),(0,ir.isNegativeLE)(v,id)&&(v=(0,ir.mod)(-v,id)),{isValid:_||S,value:v}}let ix=(0,ir.Field)(id,void 0,!0),ik=function(e){var t,r;let n,i,s,a,o,u=(n=(0,it.validateBasic)(e),(0,ii.validateObject)(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...n})),{Fp:c,n:l,prehash:d,hash:h,randomBytes:p,nByteLength:f,h:m}=u,y=io<<BigInt(8*f)-ia,g=c.create,b=(0,ir.Field)(u.n,u.nBitLength);if(t=u.Gx,r=u.Gy,i=c.sqr(t),s=c.sqr(r),a=c.add(c.mul(u.a,i),s),o=c.add(c.ONE,c.mul(u.d,c.mul(i,s))),!c.eql(a,o))throw Error("bad curve params: generator point");let v=u.uvRatio||((e,t)=>{try{return{isValid:!0,value:c.sqrt(e*c.inv(t))}}catch(e){return{isValid:!1,value:is}}}),w=u.adjustScalarBytes||(e=>e),x=u.domain||((e,t,r)=>{if((0,ii.abool)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function k(e,t,r=!1){let n=r?ia:is;(0,ii.aInRange)("coordinate "+e,t,n,y)}function _(e){if(!(e instanceof E))throw Error("ExtendedPoint expected")}let S=(0,ii.memoized)((e,t)=>{let{ex:r,ey:n,ez:i}=e,s=e.is0();null==t&&(t=s?iu:c.inv(i));let a=g(r*t),o=g(n*t),u=g(i*t);if(s)return{x:is,y:ia};if(u!==ia)throw Error("invZ was invalid");return{x:a,y:o}}),I=(0,ii.memoized)(e=>{let{a:t,d:r}=u;if(e.is0())throw Error("bad point: ZERO");let{ex:n,ey:i,ez:s,et:a}=e,o=g(n*n),c=g(i*i),l=g(s*s),d=g(l*l),h=g(o*t);if(g(l*g(h+c))!==g(d+g(r*g(o*c))))throw Error("bad point: equation left != right (1)");if(g(n*i)!==g(s*a))throw Error("bad point: equation left != right (2)");return!0});class E{constructor(e,t,r,n){k("x",e),k("y",t),k("z",r,!0),k("t",n),this.ex=e,this.ey=t,this.ez=r,this.et=n,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return k("x",t),k("y",r),new E(t,r,ia,g(t*r))}static normalizeZ(e){let t=(0,ir.FpInvertBatch)(c,e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static msm(e,t){return(0,it.pippenger)(E,b,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){I(this)}equals(e){_(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:a}=e,o=g(t*a),u=g(i*n),c=g(r*a),l=g(s*n);return o===u&&c===l}is0(){return this.equals(E.ZERO)}negate(){return new E(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){let{a:e}=u,{ex:t,ey:r,ez:n}=this,i=g(t*t),s=g(r*r),a=g(io*g(n*n)),o=g(e*i),c=t+r,l=g(g(c*c)-i-s),d=o+s,h=d-a,p=o-s,f=g(l*h),m=g(d*p),y=g(l*p);return new E(f,m,g(h*d),y)}add(e){_(e);let{a:t,d:r}=u,{ex:n,ey:i,ez:s,et:a}=this,{ex:o,ey:c,ez:l,et:d}=e,h=g(n*o),p=g(i*c),f=g(a*r*d),m=g(s*l),y=g((n+i)*(o+c)-h-p),b=m-f,v=m+f,w=g(p-t*h),x=g(y*b),k=g(v*w),S=g(y*w);return new E(x,k,g(b*v),S)}subtract(e){return this.add(e.negate())}wNAF(e){return O.wNAFCached(this,e,E.normalizeZ)}multiply(e){(0,ii.aInRange)("scalar",e,ia,l);let{p:t,f:r}=this.wNAF(e);return E.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=E.ZERO){return((0,ii.aInRange)("scalar",e,is,l),e===is)?T:this.is0()||e===ia?this:O.wNAFCachedUnsafe(this,e,E.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return O.unsafeLadder(this,l).is0()}toAffine(e){return S(this,e)}clearCofactor(){let{h:e}=u;return e===ia?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:r,a:n}=u,i=c.BYTES;e=(0,ii.ensureBytes)("pointHex",e,i),(0,ii.abool)("zip215",t);let s=e.slice(),a=e[i-1];s[i-1]=-129&a;let o=(0,ii.bytesToNumberLE)(s),l=t?y:c.ORDER;(0,ii.aInRange)("pointHex.y",o,is,l);let d=g(o*o),{isValid:h,value:p}=v(g(d-ia),g(r*d-n));if(!h)throw Error("Point.fromHex: invalid y coordinate");let f=(p&ia)===ia,m=(128&a)!=0;if(!t&&p===is&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==f&&(p=g(-p)),E.fromAffine({x:p,y:o})}static fromPrivateKey(e){let{scalar:t}=N(e);return A.multiply(t)}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=(0,ii.numberToBytesLE)(t,c.BYTES);return r[r.length-1]|=e&ia?128:0,r}toHex(){return(0,ii.bytesToHex)(this.toRawBytes())}}E.BASE=new E(u.Gx,u.Gy,ia,g(u.Gx*u.Gy)),E.ZERO=new E(is,ia,ia,is);let{BASE:A,ZERO:T}=E,O=(0,it.wNAF)(E,8*f);function j(e){return(0,ir.mod)(e,l)}function P(e){return j((0,ii.bytesToNumberLE)(e))}function N(e){let t=c.BYTES;e=(0,ii.ensureBytes)("private key",e,t);let r=(0,ii.ensureBytes)("hashed private key",h(e),2*t),n=w(r.slice(0,t)),i=r.slice(t,2*t),s=P(n);return{head:n,prefix:i,scalar:s}}function C(e){let{head:t,prefix:r,scalar:n}=N(e),i=A.multiply(n),s=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}function R(e=Uint8Array.of(),...t){return P(h(x((0,ii.concatBytes)(...t),(0,ii.ensureBytes)("context",e),!!d)))}return A._setWindowSize(8),{CURVE:u,getPublicKey:function(e){return C(e).pointBytes},sign:function(e,t,r={}){e=(0,ii.ensureBytes)("message",e),d&&(e=d(e));let{prefix:n,scalar:i,pointBytes:s}=C(t),a=R(r.context,n,e),o=A.multiply(a).toRawBytes(),u=j(a+R(r.context,o,s,e)*i);(0,ii.aInRange)("signature.s",u,is,l);let h=(0,ii.concatBytes)(o,(0,ii.numberToBytesLE)(u,c.BYTES));return(0,ii.ensureBytes)("result",h,2*c.BYTES)},verify:function(e,t,r,n=ic){let i,s,a,{context:o,zip215:u}=n,l=c.BYTES;e=(0,ii.ensureBytes)("signature",e,2*l),t=(0,ii.ensureBytes)("message",t),r=(0,ii.ensureBytes)("publicKey",r,l),void 0!==u&&(0,ii.abool)("zip215",u),d&&(t=d(t));let h=(0,ii.bytesToNumberLE)(e.slice(l,2*l));try{i=E.fromHex(r,u),s=E.fromHex(e.slice(0,l),u),a=A.multiplyUnsafe(h)}catch(e){return!1}if(!u&&i.isSmallOrder())return!1;let p=R(o,s.toRawBytes(),i.toRawBytes(),t);return s.add(i.multiplyUnsafe(p)).subtract(a).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>p(c.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:ix.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ix,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:iv,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:n7.sha512,randomBytes:ie.randomBytes,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:iw}),i_=(ix.ORDER+ig)/iv,iS=ix.pow(iy,i_),iI=ix.sqrt(ix.neg(ix.ONE)),iE=(0,ir.FpSqrtEven)(ix,ix.neg(BigInt(486664)));(0,il.createHasher)(ik.ExtendedPoint,e=>(function(e){let t,r,n,i,s,a,o,u,c,l,d,h,p,f,m,y,g,b,v,w,x,k,_,{xMn:S,xMd:I,yMn:E,yMd:A}=(t=(ix.ORDER-ib)/iv,r=BigInt(486662),n=ix.sqr(e),n=ix.mul(n,iy),i=ix.add(n,ix.ONE),s=ix.neg(r),a=ix.sqr(i),o=ix.mul(a,i),u=ix.mul(n,r),u=ix.mul(u,s),u=ix.add(u,a),u=ix.mul(u,s),c=ix.sqr(o),a=ix.sqr(c),c=ix.mul(c,o),c=ix.mul(c,u),a=ix.mul(a,c),l=ix.pow(a,t),l=ix.mul(l,c),d=ix.mul(l,iI),a=ix.sqr(l),a=ix.mul(a,o),h=ix.eql(a,u),p=ix.cmov(d,l,h),f=ix.mul(s,n),m=ix.mul(l,e),m=ix.mul(m,iS),y=ix.mul(m,iI),g=ix.mul(u,n),a=ix.sqr(m),a=ix.mul(a,o),b=ix.eql(a,g),v=ix.cmov(y,m,b),a=ix.sqr(p),a=ix.mul(a,o),w=ix.eql(a,u),x=ix.cmov(f,s,w),k=ix.cmov(v,p,w),_=ix.isOdd(k),{xMn:x,xMd:i,yMn:k=ix.cmov(k,ix.neg(k),w!==_),yMd:im}),T=ix.mul(S,A);T=ix.mul(T,iE);let O=ix.mul(I,E),j=ix.sub(S,I),P=ix.add(S,I),N=ix.mul(O,P),C=ix.eql(N,ix.ZERO);T=ix.cmov(T,ix.ZERO,C),O=ix.cmov(O,ix.ONE,C),j=ix.cmov(j,ix.ONE,C),P=ix.cmov(P,ix.ONE,C);let[R,B]=(0,ir.FpInvertBatch)(ix,[O,P],!0);return{x:ix.mul(T,R),y:ix.mul(j,B)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ix.ORDER,m:1,k:128,expand:"xmd",hash:n7.sha512});var iA=e.i(59341),iT=e.i(54611),iO=e.i(80355),ij=e.i(54119),iP=e.i(44610);function iN([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var iC=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(iN).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function iR(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var iB=((w=iB||{})[w.Little=0]="Little",w[w.Big=1]="Big",w);function iL(e){return e?.endian!==1}class iM extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...s}=e,{path:a}=e,o=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function iU(e){return"object"==typeof e&&null!=e}function iz(e){return iU(e)&&!Array.isArray(e)}function iD(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*iZ(e,t,r,n){var i;for(let s of(iU(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:a}=r,{refinement:o,message:u=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${iD(n)}\``}=e;return{value:n,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...e,message:u}}(s,t,r,n);e&&(yield e)}}function*iF(e,t,r={}){let{path:n=[],branch:i=[e],coerce:s=!1,mask:a=!1}=r,o={path:n,branch:i,mask:a};s&&(e=t.coercer(e,o));let u="valid";for(let n of t.validator(e,o))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[c,l,d]of t.entries(e,o))for(let t of iF(l,d,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,l],coerce:s,mask:a,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(l=t[1],void 0===c?e=l:e instanceof Map?e.set(c,l):e instanceof Set?e.add(l):iU(e)&&(void 0!==l||c in e)&&(e[c]=l));if("not_valid"!==u)for(let n of t.refiner(e,o))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class iW{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,n?this.validator=(e,t)=>iZ(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>iZ(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,n=this,i=t;let s=iq(r,n,{message:i});if(s[0])throw s[0]}create(e,t){return i$(e,this,t)}is(e){var t,r;return t=e,r=this,!iq(t,r)[0]}mask(e,t){var r=e,n=this,i=t;let s=iq(r,n,{coerce:!0,mask:!0,message:i});if(!s[0])return s[1];throw s[0]}validate(e,t={}){return iq(e,this,t)}}function i$(e,t,r){let n=iq(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function iq(e,t,r={}){let n=iF(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new iM(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function iK(e,t){return new iW({type:e,schema:null,validator:t})}function iV(e){return new iW({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${iD(e)}`})}function iQ(){return iK("boolean",e=>"boolean"==typeof e)}function iH(e){return iK("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${iD(t)}`)}function iG(e){let t=iD(e),r=typeof e;return new iW({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${iD(r)}`})}function iJ(e){return new iW({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function iY(){return iK("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${iD(e)}`)}function iX(e){return new iW({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function i0(e,t){return new iW({type:"record",schema:null,*entries(r){if(iU(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>iz(e)||`Expected an object, but received: ${iD(e)}`,coercer:e=>iz(e)?{...e}:e})}function i1(){return iK("string",e=>"string"==typeof e||`Expected a string, but received: ${iD(e)}`)}function i2(e){let t=iK("never",()=>!1);return new iW({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${iD(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function i5(e){let t=Object.keys(e);return new iW({type:"type",schema:e,*entries(r){if(iU(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>iz(e)||`Expected an object, but received: ${iD(e)}`,coercer:e=>iz(e)?{...e}:e})}function i4(e){let t=e.map(e=>e.type).join(" | ");return new iW({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=iF(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${iD(r)}`,...i]}})}function i6(){return iK("unknown",()=>!0)}function i3(e,t,r){return new iW({...e,coercer:(n,i)=>iq(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}e.i(78217);var i8=e.i(95932),i9=e.i(87246);i9.EventEmitter;i9.EventEmitter;var i7=e.i(45535),se=e.i(76267);ik.utils.randomPrivateKey;let st=()=>{let e=ik.utils.randomPrivateKey(),t=sr(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},sr=ik.getPublicKey;function sn(e){try{return ik.ExtendedPoint.fromHex(e),!0}catch{return!1}}let si=(e,t)=>ik.sign(e,t.slice(0,32)),ss=ik.verify,sa=e=>n9.Buffer.isBuffer(e)?e:e instanceof Uint8Array?n9.Buffer.from(e.buffer,e.byteOffset,e.byteLength):n9.Buffer.from(e);class so{constructor(e){Object.assign(this,e)}encode(){return n9.Buffer.from((0,ij.serialize)(su,this))}static decode(e){return(0,ij.deserialize)(su,this,e)}static decodeUnchecked(e){return(0,ij.deserializeUnchecked)(su,this,e)}}let su=new Map,sc=1;class sl extends so{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){const t=iT.default.decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new iA.default(t)}else this._bn=new iA.default(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new sl(sc);return sc+=1,new sl(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return iT.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(n9.Buffer);if(32===e.length)return e;let t=n9.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let n=n9.Buffer.concat([e.toBuffer(),n9.Buffer.from(t),r.toBuffer()]);return new sl((0,iO.sha256)(n))}static createProgramAddressSync(e,t){let r=n9.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=n9.Buffer.concat([r,sa(e)])}),r=n9.Buffer.concat([r,t.toBuffer(),n9.Buffer.from("ProgramDerivedAddress")]);let n=(0,iO.sha256)(r);if(sn(n))throw Error("Invalid seeds, address must fall off the curve");return new sl(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{let i=e.concat(n9.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return sn(new sl(e).toBytes())}}sl.default=new sl("11111111111111111111111111111111"),su.set(sl,{kind:"struct",fields:[["_bn","u256"]]}),new sl("BPFLoader1111111111111111111111111111111111"),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredBlockheightExceededError"}),Object.defineProperty((class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredTimeoutError"}),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class sd{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments())if(e<t.length)return t[e];else e-=t.length}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let sh=(e="publicKey")=>iP.blob(32,e),sp=(e="string")=>{let t=iP.struct([iP.u32("length"),iP.u32("lengthPadding"),iP.blob(iP.offset(iP.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString(),t.encode=(e,t,r)=>n({chars:n9.Buffer.from(e,"utf8")},t,r),t.alloc=e=>iP.u32().span+iP.u32().span+n9.Buffer.from(e,"utf8").length,t};function sf(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,(128&n)==0)break}return t}function sm(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function sy(e,t){if(!e)throw Error(t||"Assertion failed")}class sg{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,n=e=>{let t=e.toBase58(),n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);for(let t of(i.isSigner=!0,i.isWritable=!0,e))for(let e of(n(t.programId).isInvoked=!0,t.keys)){let t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new sg(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];sy(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{sy(t.length>0,"Expected at least one writable signer key");let[e]=t[0];sy(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new sl(e)),...r.map(([e])=>new sl(e)),...n.map(([e])=>new sl(e)),...i.map(([e])=>new sl(e))]]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=[],n=[];for(let[i,s]of this.keyMetaMap.entries())if(t(s)){let t=new sl(i),s=e.findIndex(e=>e.equals(t));s>=0&&(sy(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}let sb="Reached end of buffer unexpectedly";function sv(e){if(0===e.length)throw Error(sb);return e.shift()}function sw(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(sb);return e.splice(...t)}class sx{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new sl(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:iT.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new sd(this.staticAccountKeys)}static compile(e){let[t,r]=sg.compile(e.instructions,e.payerKey).getMessageComponents(),n=new sd(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:iT.default.encode(e.data)}));return new sx({header:t,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:n})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];sm(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,n=Array.from(iT.default.decode(e.data)),i=[];sm(i,t.length);let s=[];return sm(s,n.length),{programIdIndex:r,keyIndicesCount:n9.Buffer.from(i),keyIndices:t,dataLength:n9.Buffer.from(s),data:n}}),n=[];sm(n,r.length);let i=n9.Buffer.alloc(1232);n9.Buffer.from(n).copy(i);let s=n.length;r.forEach(e=>{let t=iP.struct([iP.u8("programIdIndex"),iP.blob(e.keyIndicesCount.length,"keyIndicesCount"),iP.seq(iP.u8("keyIndex"),e.keyIndices.length,"keyIndices"),iP.blob(e.dataLength.length,"dataLength"),iP.seq(iP.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t}),i=i.slice(0,s);let a=iP.struct([iP.blob(1,"numRequiredSignatures"),iP.blob(1,"numReadonlySignedAccounts"),iP.blob(1,"numReadonlyUnsignedAccounts"),iP.blob(t.length,"keyCount"),iP.seq(sh("key"),e,"keys"),sh("recentBlockhash")]),o={numRequiredSignatures:n9.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:n9.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:n9.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:n9.Buffer.from(t),keys:this.accountKeys.map(e=>sa(e.toBytes())),recentBlockhash:iT.default.decode(this.recentBlockhash)},u=n9.Buffer.alloc(2048),c=a.encode(o,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(e){let t=[...e],r=sv(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let n=sv(t),i=sv(t),s=sf(t),a=[];for(let e=0;e<s;e++){let e=sw(t,0,32);a.push(new sl(n9.Buffer.from(e)))}let o=sw(t,0,32),u=sf(t),c=[];for(let e=0;e<u;e++){let e=sv(t),r=sf(t),n=sw(t,0,r),i=sf(t),s=sw(t,0,i),a=iT.default.encode(n9.Buffer.from(s));c.push({programIdIndex:e,accounts:n,data:a})}return new sx({header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:iT.default.encode(n9.Buffer.from(o)),accountKeys:a,instructions:c})}}class sk{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw Error("Failed to get account keys because address table lookups were not resolved");return new sd(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r)return e-r<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let n=r-t-this.header.numReadonlyUnsignedAccounts;return e-t<n}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let e of r.writableIndexes)if(e<n.state.addresses.length)t.writable.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);for(let e of r.readonlyIndexes)if(e<n.state.addresses.length)t.readonly.push(n.state.addresses[e]);else throw Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=sg.compile(e.instructions,e.payerKey),r=[],n={writable:[],readonly:[]};for(let i of e.addressLookupTableAccounts||[]){let e=t.extractTableLookup(i);if(void 0!==e){let[t,{writable:i,readonly:s}]=e;r.push(t),n.writable.push(...i),n.readonly.push(...s)}}let[i,s]=t.getMessageComponents(),a=new sd(s,n).compileInstructions(e.instructions);return new sk({header:i,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){let e=[];sm(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=[];sm(r,this.compiledInstructions.length);let n=this.serializeAddressTableLookups(),i=[];sm(i,this.addressTableLookups.length);let s=iP.struct([iP.u8("prefix"),iP.struct([iP.u8("numRequiredSignatures"),iP.u8("numReadonlySignedAccounts"),iP.u8("numReadonlyUnsignedAccounts")],"header"),iP.blob(e.length,"staticAccountKeysLength"),iP.seq(sh(),this.staticAccountKeys.length,"staticAccountKeys"),sh("recentBlockhash"),iP.blob(r.length,"instructionsLength"),iP.blob(t.length,"serializedInstructions"),iP.blob(i.length,"addressTableLookupsLength"),iP.blob(n.length,"serializedAddressTableLookups")]),a=new Uint8Array(1232),o=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:iT.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},a);return a.slice(0,o)}serializeInstructions(){let e=0,t=new Uint8Array(1232);for(let r of this.compiledInstructions){let n=[];sm(n,r.accountKeyIndexes.length);let i=[];sm(i,r.data.length);let s=iP.struct([iP.u8("programIdIndex"),iP.blob(n.length,"encodedAccountKeyIndexesLength"),iP.seq(iP.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),iP.blob(i.length,"encodedDataLength"),iP.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(1232);for(let r of this.addressTableLookups){let n=[];sm(n,r.writableIndexes.length);let i=[];sm(i,r.readonlyIndexes.length);let s=iP.struct([sh("accountKey"),iP.blob(n.length,"encodedWritableIndexesLength"),iP.seq(iP.u8(),r.writableIndexes.length,"writableIndexes"),iP.blob(i.length,"encodedReadonlyIndexesLength"),iP.seq(iP.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=sv(t),n=127&r;sy(r!==n,"Expected versioned message but received legacy message"),sy(0===n,`Expected versioned message with version 0 but found version ${n}`);let i={numRequiredSignatures:sv(t),numReadonlySignedAccounts:sv(t),numReadonlyUnsignedAccounts:sv(t)},s=[],a=sf(t);for(let e=0;e<a;e++)s.push(new sl(sw(t,0,32)));let o=iT.default.encode(sw(t,0,32)),u=sf(t),c=[];for(let e=0;e<u;e++){let e=sv(t),r=sf(t),n=sw(t,0,r),i=sf(t),s=new Uint8Array(sw(t,0,i));c.push({programIdIndex:e,accountKeyIndexes:n,data:s})}let l=sf(t),d=[];for(let e=0;e<l;e++){let e=new sl(sw(t,0,32)),r=sf(t),n=sw(t,0,r),i=sf(t),s=sw(t,0,i);d.push({accountKey:e,writableIndexes:n,readonlyIndexes:s})}return new sk({header:i,staticAccountKeys:s,recentBlockhash:o,compiledInstructions:c,addressTableLookups:d})}}let s_={deserializeMessageVersion(e){let t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{let t=s_.deserializeMessageVersion(e);if("legacy"===t)return sx.from(e);if(0===t)return sk.deserialize(e);throw Error(`Transaction message version ${t} deserialization is not supported`)}},sS=n9.Buffer.alloc(64).fill(0);class sI{constructor(e){this.keys=void 0,this.programId=void 0,this.data=n9.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class sE{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new sI(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});let t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new sl(e),isSigner:!1,isWritable:!1})});let s=[];i.forEach(e=>{let t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let a=s.findIndex(e=>e.pubkey.equals(r));if(a>-1){let[e]=s.splice(a,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let o=0,u=0,c=0,l=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),o+=1,r||(u+=1)):(d.push(e.toString()),r||(c+=1))});let h=l.concat(d),p=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:iT.default.encode(t)}});return p.forEach(e=>{sy(e.programIdIndex>=0),e.accounts.forEach(e=>sy(e>=0))}),new sx({header:{numRequiredSignatures:o,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:p})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))?e:(this.signatures=t.map(e=>({signature:null,publicKey:e})),e)}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let n of e){let e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}let n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=si(r,e.secretKey);this._addSignature(e.publicKey,sa(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){sy(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=n9.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):ss(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(n)}_serialize(e){let{signatures:t}=this,r=[];sm(r,t.length);let n=r.length+64*t.length+e.length,i=n9.Buffer.alloc(n);return sy(t.length<256),n9.Buffer.from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(sy(64===e.length,"signature has invalid length"),n9.Buffer.from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),sy(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return sy(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return sy(1===this.instructions.length),this.instructions[0].programId}get data(){return sy(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=sf(t),n=[];for(let e=0;e<r;e++){let e=sw(t,0,64);n.push(iT.default.encode(n9.Buffer.from(e)))}return sE.populate(sx.from(t),n)}static populate(e,t=[]){let r=new sE;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{let i={signature:t==iT.default.encode(sS)?null:iT.default.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{let n=t.accounts.map(t=>{let n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new sI({keys:n,programId:e.accountKeys[t.programIdIndex],data:iT.default.decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class sA{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)sy(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){let e=this.message.serialize(),t=[];sm(t,this.signatures.length);let r=iP.struct([iP.blob(t.length,"encodedSignaturesLength"),iP.seq(((e="signature")=>iP.blob(64,e))(),this.signatures.length,"signatures"),iP.blob(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e],r=[],n=sf(t);for(let e=0;e<n;e++)r.push(new Uint8Array(sw(t,0,64)));return new sA(s_.deserialize(new Uint8Array(t)),r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let n of e){let e=r.findIndex(e=>e.equals(n.publicKey));sy(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=si(t,n.secretKey)}}addSignature(e,t){sy(64===t.byteLength,"Signature must be 64 bytes long");let r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));sy(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}let sT=new sl("SysvarC1ock11111111111111111111111111111111");new sl("SysvarEpochSchedu1e111111111111111111111111"),new sl("Sysvar1nstructions1111111111111111111111111");let sO=new sl("SysvarRecentB1ockHashes11111111111111111111"),sj=new sl("SysvarRent111111111111111111111111111111111");new sl("SysvarRewards111111111111111111111111111111"),new sl("SysvarS1otHashes111111111111111111111111111"),new sl("SysvarS1otHistory11111111111111111111111111");let sP=new sl("SysvarStakeHistory1111111111111111111111111");class sN extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){let i;const s=n?`Logs: 
${JSON.stringify(n.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":i=`Transaction ${t} resulted in an error. 
${r}. `+s+a;break;case"simulate":i=`Simulation failed. 
Message: ${r}. 
`+s+a;break;default:i=`Unknown action '${e}'`}super(i),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}async function sC(e,t,r,n){let i,s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await e.sendTransaction(t,r,s);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)i=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:a,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(a,n&&n.commitment)).value;if(i.err){if(null!=a)throw new sN({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(i)})`});throw Error(`Transaction ${a} failed (${JSON.stringify(i)})`)}return a}function sR(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*n(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},i=0;return t.layout.fields.forEach(e=>{i+=n(e)}),i}(e,t),n=n9.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}let sB=iP.nu64("lamportsPerSignature"),sL=iP.struct([iP.u32("version"),iP.u32("state"),sh("authorizedPubkey"),sh("nonce"),iP.struct([sB],"feeCalculator")]).span;function sM(e){let t=(0,iP.blob)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=((e={})=>(function(e,t){if(iR(e)!==iR(t))throw new iC(8078004);if(iR(e)&&iR(t)&&e.fixedSize!==t.fixedSize)throw new iC(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!iR(e)&&!iR(t)&&e.maxSize!==t.maxSize)throw new iC(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new iC(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,iL(t.config)),r.set(new Uint8Array(i),n),n+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})})(e),((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){var n,i,s;let a,o;!function(e,t,r=0){if(t.length-r<=0)throw new iC(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,n=0){let i=r.length-n;if(i<t)throw new iC(8078001,{bytesLength:i,codecDescription:e,expected:t})}(t.name,t.size,e,r);let u=new DataView((n=e,i=r,s=t.size,a=n.byteOffset+(i??0),o=s??n.byteLength,n.buffer.slice(a,a+o)));return[t.get(u,iL(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})})(e)))();return t.decode=(e,t)=>{let n=r(e,t);return i.decode(n)},t.encode=(e,t,r)=>n(i.encode(e),t,r),t}let sU=Object.freeze({Create:{index:0,layout:iP.struct([iP.u32("instruction"),iP.ns64("lamports"),iP.ns64("space"),sh("programId")])},Assign:{index:1,layout:iP.struct([iP.u32("instruction"),sh("programId")])},Transfer:{index:2,layout:iP.struct([iP.u32("instruction"),sM("lamports")])},CreateWithSeed:{index:3,layout:iP.struct([iP.u32("instruction"),sh("base"),sp("seed"),iP.ns64("lamports"),iP.ns64("space"),sh("programId")])},AdvanceNonceAccount:{index:4,layout:iP.struct([iP.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:iP.struct([iP.u32("instruction"),iP.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:iP.struct([iP.u32("instruction"),sh("authorized")])},AuthorizeNonceAccount:{index:7,layout:iP.struct([iP.u32("instruction"),sh("authorized")])},Allocate:{index:8,layout:iP.struct([iP.u32("instruction"),iP.ns64("space")])},AllocateWithSeed:{index:9,layout:iP.struct([iP.u32("instruction"),sh("base"),sp("seed"),iP.ns64("space"),sh("programId")])},AssignWithSeed:{index:10,layout:iP.struct([iP.u32("instruction"),sh("base"),sp("seed"),sh("programId")])},TransferWithSeed:{index:11,layout:iP.struct([iP.u32("instruction"),sM("lamports"),sp("seed"),sh("programId")])},UpgradeNonceAccount:{index:12,layout:iP.struct([iP.u32("instruction")])}});class sz{constructor(){}static createAccount(e){let t=sR(sU.Create,{lamports:e.lamports,space:e.space,programId:sa(e.programId.toBuffer())});return new sI({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=sR(sU.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:sa(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=sR(sU.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new sI({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=sR(sU.AssignWithSeed,{base:sa(e.basePubkey.toBuffer()),seed:e.seed,programId:sa(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=sR(sU.Assign,{programId:sa(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new sI({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=sR(sU.CreateWithSeed,{base:sa(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:sa(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sI({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){let t=new sE;"basePubkey"in e&&"seed"in e?t.add(sz.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:sL,programId:this.programId})):t.add(sz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:sL,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=sR(sU.InitializeNonceAccount,{authorized:sa(e.authorizedPubkey.toBuffer())});return new sI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:sO,isSigner:!1,isWritable:!1},{pubkey:sj,isSigner:!1,isWritable:!1}],programId:this.programId,data:t})}static nonceAdvance(e){let t=sR(sU.AdvanceNonceAccount);return new sI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:sO,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceWithdraw(e){let t=sR(sU.WithdrawNonceAccount,{lamports:e.lamports});return new sI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:sO,isSigner:!1,isWritable:!1},{pubkey:sj,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){let t=sR(sU.AuthorizeNonceAccount,{authorized:sa(e.newAuthorizedPubkey.toBuffer())});return new sI({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=sR(sU.AllocateWithSeed,{base:sa(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:sa(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=sR(sU.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new sI({keys:r,programId:this.programId,data:t})}}sz.programId=new sl("11111111111111111111111111111111");class sD{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/sD.chunkSize)+1+1)}static async load(e,t,r,n,i){{let s=await e.getMinimumBalanceForRentExemption(i.length),a=await e.getAccountInfo(r.publicKey,"confirmed"),o=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==i.length&&(o=o||new sE).add(sz.allocate({accountPubkey:r.publicKey,space:i.length})),a.owner.equals(n)||(o=o||new sE).add(sz.assign({accountPubkey:r.publicKey,programId:n})),a.lamports<s&&(o=o||new sE).add(sz.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-a.lamports}))}else o=new sE().add(sz.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==o&&await sC(e,o,[t,r],{commitment:"confirmed"})}let s=iP.struct([iP.u32("instruction"),iP.u32("offset"),iP.u32("bytesLength"),iP.u32("bytesLengthPadding"),iP.seq(iP.u8("byte"),iP.offset(iP.u32(),-8),"bytes")]),a=sD.chunkSize,o=0,u=i,c=[];for(;u.length>0;){let i=u.slice(0,a),l=n9.Buffer.alloc(a+16);s.encode({instruction:0,offset:o,bytes:i,bytesLength:0,bytesLengthPadding:0},l);let d=new sE().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});c.push(sC(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await new Promise(e=>setTimeout(e,250)),o+=a,u=u.slice(a)}await Promise.all(c);{let i=iP.struct([iP.u32("instruction")]),s=n9.Buffer.alloc(i.span);i.encode({instruction:1},s);let a=new sE().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:sj,isSigner:!1,isWritable:!1}],programId:n,data:s}),o="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:o}),{context:c,value:l}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},o);if(l.err)throw Error(`Transaction ${u} failed (${JSON.stringify(l)})`);for(;;){try{if(await e.getSlot({commitment:o})>c.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}sD.chunkSize=932,new sl("BPFLoader2111111111111111111111111111111111"),iP.struct([iP.u32("typeIndex"),sM("deactivationSlot"),iP.nu64("lastExtendedSlot"),iP.u8("lastExtendedStartIndex"),iP.u8(),iP.seq(sh(),iP.offset(iP.u8(),-1),"authority")]);let sZ=i3(iH(sl),i1(),e=>new sl(e)),sF=i2([i1(),iG("base64")]),sW=i3(iH(n9.Buffer),sF,e=>n9.Buffer.from(e[0],"base64"));function s$(e){return i4([i5({jsonrpc:iG("2.0"),id:i1(),result:e}),i5({jsonrpc:iG("2.0"),id:i1(),error:i5({code:i6(),message:i1(),data:iX(iK("any",()=>!0))})})])}let sq=s$(i6());function sK(e){return i3(s$(e),sq,t=>"error"in t?t:{...t,result:i$(t.result,e)})}function sV(e){return sK(i5({context:i5({slot:iY()}),value:e}))}function sQ(e){return i5({context:i5({slot:iY()}),value:e})}let sH=i5({foundation:iY(),foundationTerm:iY(),initial:iY(),taper:iY(),terminal:iY()});sK(iV(iJ(i5({epoch:iY(),effectiveSlot:iY(),amount:iY(),postBalance:iY(),commission:iX(iJ(iY()))}))));let sG=iV(i5({slot:iY(),prioritizationFee:iY()})),sJ=i5({total:iY(),validator:iY(),foundation:iY(),epoch:iY()}),sY=i5({epoch:iY(),slotIndex:iY(),slotsInEpoch:iY(),absoluteSlot:iY(),blockHeight:iX(iY()),transactionCount:iX(iY())}),sX=i5({slotsPerEpoch:iY(),leaderScheduleSlotOffset:iY(),warmup:iQ(),firstNormalEpoch:iY(),firstNormalSlot:iY()}),s0=i0(i1(),iV(iY())),s1=iJ(i4([i5({}),i1()])),s2=i5({err:s1}),s5=iG("receivedSignature");i5({"solana-core":i1(),"feature-set":iX(iY())});let s4=i5({program:i1(),programId:sZ,parsed:i6()}),s6=i5({programId:sZ,accounts:iV(sZ),data:i1()});sV(i5({err:iJ(i4([i5({}),i1()])),logs:iJ(iV(i1())),accounts:iX(iJ(iV(iJ(i5({executable:iQ(),owner:i1(),lamports:iY(),data:iV(i1()),rentEpoch:iX(iY())}))))),unitsConsumed:iX(iY()),returnData:iX(iJ(i5({programId:i1(),data:i2([i1(),iG("base64")])}))),innerInstructions:iX(iJ(iV(i5({index:iY(),instructions:iV(i4([s4,s6]))}))))})),sV(i5({byIdentity:i0(i1(),iV(iY())),range:i5({firstSlot:iY(),lastSlot:iY()})})),sK(sH),sK(sJ),sK(sG),sK(sY),sK(sX),sK(s0),sK(iY()),sV(i5({total:iY(),circulating:iY(),nonCirculating:iY(),nonCirculatingAccounts:iV(sZ)}));let s3=i5({amount:i1(),uiAmount:iJ(iY()),decimals:iY(),uiAmountString:iX(i1())});sV(iV(i5({address:sZ,amount:i1(),uiAmount:iJ(iY()),decimals:iY(),uiAmountString:iX(i1())}))),sV(iV(i5({pubkey:sZ,account:i5({executable:iQ(),owner:sZ,lamports:iY(),data:sW,rentEpoch:iY()})})));let s8=i5({program:i1(),parsed:i6(),space:iY()});sV(iV(i5({pubkey:sZ,account:i5({executable:iQ(),owner:sZ,lamports:iY(),data:s8,rentEpoch:iY()})}))),sV(iV(i5({lamports:iY(),address:sZ})));let s9=i5({executable:iQ(),owner:sZ,lamports:iY(),data:sW,rentEpoch:iY()});i5({pubkey:sZ,account:s9});let s7=i3(i4([iH(n9.Buffer),s8]),i4([sF,s8]),e=>Array.isArray(e)?i$(e,sW):e),ae=i5({executable:iQ(),owner:sZ,lamports:iY(),data:s7,rentEpoch:iY()});i5({pubkey:sZ,account:ae}),i5({state:i4([iG("active"),iG("inactive"),iG("activating"),iG("deactivating")]),active:iY(),inactive:iY()}),sK(iV(i5({signature:i1(),slot:iY(),err:s1,memo:iJ(i1()),blockTime:iX(iJ(iY()))}))),sK(iV(i5({signature:i1(),slot:iY(),err:s1,memo:iJ(i1()),blockTime:iX(iJ(iY()))}))),i5({subscription:iY(),result:sQ(s9)});let at=i5({pubkey:sZ,account:s9});i5({subscription:iY(),result:sQ(at)});let ar=i5({parent:iY(),slot:iY(),root:iY()});i5({subscription:iY(),result:ar});let an=i4([i5({type:i4([iG("firstShredReceived"),iG("completed"),iG("optimisticConfirmation"),iG("root")]),slot:iY(),timestamp:iY()}),i5({type:iG("createdBank"),parent:iY(),slot:iY(),timestamp:iY()}),i5({type:iG("frozen"),slot:iY(),timestamp:iY(),stats:i5({numTransactionEntries:iY(),numSuccessfulTransactions:iY(),numFailedTransactions:iY(),maxTransactionsPerEntry:iY()})}),i5({type:iG("dead"),slot:iY(),timestamp:iY(),err:i1()})]);i5({subscription:iY(),result:an}),i5({subscription:iY(),result:sQ(i4([s2,s5]))}),i5({subscription:iY(),result:iY()}),i5({pubkey:i1(),gossip:iJ(i1()),tpu:iJ(i1()),rpc:iJ(i1()),version:iJ(i1())});let ai=i5({votePubkey:i1(),nodePubkey:i1(),activatedStake:iY(),epochVoteAccount:iQ(),epochCredits:iV(i2([iY(),iY(),iY()])),commission:iY(),lastVote:iY(),rootSlot:iJ(iY())});sK(i5({current:iV(ai),delinquent:iV(ai)}));let as=i4([iG("processed"),iG("confirmed"),iG("finalized")]),aa=i5({slot:iY(),confirmations:iJ(iY()),err:s1,confirmationStatus:iX(as)});sV(iV(iJ(aa))),sK(iY());let ao=i5({accountKey:sZ,writableIndexes:iV(iY()),readonlyIndexes:iV(iY())}),au=i5({signatures:iV(i1()),message:i5({accountKeys:iV(i1()),header:i5({numRequiredSignatures:iY(),numReadonlySignedAccounts:iY(),numReadonlyUnsignedAccounts:iY()}),instructions:iV(i5({accounts:iV(iY()),data:i1(),programIdIndex:iY()})),recentBlockhash:i1(),addressTableLookups:iX(iV(ao))})}),ac=i5({pubkey:sZ,signer:iQ(),writable:iQ(),source:iX(i4([iG("transaction"),iG("lookupTable")]))}),al=i5({accountKeys:iV(ac),signatures:iV(i1())}),ad=i5({parsed:i6(),program:i1(),programId:sZ}),ah=i5({accounts:iV(sZ),data:i1(),programId:sZ}),ap=i3(i4([ah,ad]),i4([i5({parsed:i6(),program:i1(),programId:i1()}),i5({accounts:iV(i1()),data:i1(),programId:i1()})]),e=>"accounts"in e?i$(e,ah):i$(e,ad)),af=i5({signatures:iV(i1()),message:i5({accountKeys:iV(ac),instructions:iV(ap),recentBlockhash:i1(),addressTableLookups:iX(iJ(iV(ao)))})}),am=i5({accountIndex:iY(),mint:i1(),owner:iX(i1()),programId:iX(i1()),uiTokenAmount:s3}),ay=i5({writable:iV(sZ),readonly:iV(sZ)}),ag=i5({err:s1,fee:iY(),innerInstructions:iX(iJ(iV(i5({index:iY(),instructions:iV(i5({accounts:iV(iY()),data:i1(),programIdIndex:iY()}))})))),preBalances:iV(iY()),postBalances:iV(iY()),logMessages:iX(iJ(iV(i1()))),preTokenBalances:iX(iJ(iV(am))),postTokenBalances:iX(iJ(iV(am))),loadedAddresses:iX(ay),computeUnitsConsumed:iX(iY()),costUnits:iX(iY())}),ab=i5({err:s1,fee:iY(),innerInstructions:iX(iJ(iV(i5({index:iY(),instructions:iV(ap)})))),preBalances:iV(iY()),postBalances:iV(iY()),logMessages:iX(iJ(iV(i1()))),preTokenBalances:iX(iJ(iV(am))),postTokenBalances:iX(iJ(iV(am))),loadedAddresses:iX(ay),computeUnitsConsumed:iX(iY()),costUnits:iX(iY())}),av=i4([iG(0),iG("legacy")]),aw=i5({pubkey:i1(),lamports:iY(),postBalance:iJ(iY()),rewardType:iJ(i1()),commission:iX(iJ(iY()))});sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),transactions:iV(i5({transaction:au,meta:iJ(ag),version:iX(av)})),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),transactions:iV(i5({transaction:al,meta:iJ(ag),version:iX(av)})),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),transactions:iV(i5({transaction:af,meta:iJ(ab),version:iX(av)})),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),transactions:iV(i5({transaction:al,meta:iJ(ab),version:iX(av)})),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),rewards:iX(iV(aw)),blockTime:iJ(iY()),blockHeight:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),transactions:iV(i5({transaction:au,meta:iJ(ag)})),rewards:iX(iV(aw)),blockTime:iJ(iY())}))),sK(iJ(i5({blockhash:i1(),previousBlockhash:i1(),parentSlot:iY(),signatures:iV(i1()),blockTime:iJ(iY())}))),sK(iJ(i5({slot:iY(),meta:iJ(ag),blockTime:iX(iJ(iY())),transaction:au,version:iX(av)}))),sK(iJ(i5({slot:iY(),transaction:af,meta:iJ(ab),blockTime:iX(iJ(iY())),version:iX(av)}))),sV(i5({blockhash:i1(),lastValidBlockHeight:iY()})),sV(iQ()),sK(iV(i5({slot:iY(),numTransactions:iY(),numSlots:iY(),samplePeriodSecs:iY()}))),sV(iJ(i5({feeCalculator:i5({lamportsPerSignature:iY()})}))),sK(i1()),sK(i1());let ax=i5({err:s1,logs:iV(i1()),signature:i1()});i5({result:sQ(ax),subscription:iY()});class ak{constructor(e){this._keypair=void 0,this._keypair=e??st()}static generate(){return new ak(st())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=sr(e.slice(0,32));for(let e=0;e<32;e++)if(r[e]!==t[e])throw Error("provided secretKey is invalid")}return new ak({publicKey:r,secretKey:e})}static fromSeed(e){let t=sr(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new ak({publicKey:t,secretKey:r})}get publicKey(){return new sl(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:iP.struct([iP.u32("instruction"),sM("recentSlot"),iP.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:iP.struct([iP.u32("instruction")])},ExtendLookupTable:{index:2,layout:iP.struct([iP.u32("instruction"),sM(),iP.seq(sh(),iP.offset(iP.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:iP.struct([iP.u32("instruction")])},CloseLookupTable:{index:4,layout:iP.struct([iP.u32("instruction")])}}),new sl("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:iP.struct([iP.u8("instruction"),iP.u32("units"),iP.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:iP.struct([iP.u8("instruction"),iP.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:iP.struct([iP.u8("instruction"),iP.u32("units")])},SetComputeUnitPrice:{index:3,layout:iP.struct([iP.u8("instruction"),sM("microLamports")])}}),new sl("ComputeBudget111111111111111111111111111111");let a_=iP.struct([iP.u8("numSignatures"),iP.u8("padding"),iP.u16("signatureOffset"),iP.u16("signatureInstructionIndex"),iP.u16("publicKeyOffset"),iP.u16("publicKeyInstructionIndex"),iP.u16("messageDataOffset"),iP.u16("messageDataSize"),iP.u16("messageInstructionIndex")]);class aS{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,instructionIndex:i}=e;sy(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),sy(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);let s=a_.span,a=s+t.length,o=a+n.length,u=n9.Buffer.alloc(o+r.length),c=null==i?65535:i;return a_.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:c,publicKeyOffset:s,publicKeyInstructionIndex:c,messageDataOffset:o,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(t,s),u.fill(n,a),u.fill(r,o),new sI({keys:[],programId:aS.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;sy(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=ak.fromSecretKey(t),i=e.publicKey.toBytes(),s=si(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}aS.programId=new sl("Ed25519SigVerify111111111111111111111111111"),se.secp256k1.utils.isValidPrivateKey;let aI=se.secp256k1.getPublicKey,aE=iP.struct([iP.u8("numSignatures"),iP.u16("signatureOffset"),iP.u8("signatureInstructionIndex"),iP.u16("ethAddressOffset"),iP.u8("ethAddressInstructionIndex"),iP.u16("messageDataOffset"),iP.u16("messageDataSize"),iP.u8("messageInstructionIndex"),iP.blob(20,"ethAddress"),iP.blob(64,"signature"),iP.u8("recoveryId")]);class aA{constructor(){}static publicKeyToEthAddress(e){sy(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return n9.Buffer.from((0,i7.keccak_256)(sa(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return aA.createInstructionWithEthAddress({ethAddress:aA.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let t,{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e;sy(20===(t="string"==typeof r?r.startsWith("0x")?n9.Buffer.from(r.substr(2),"hex"):n9.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let o=12+t.length,u=o+i.length+1,c=n9.Buffer.alloc(aE.span+n.length);return aE.encode({numSignatures:1,signatureOffset:o,signatureInstructionIndex:a,ethAddressOffset:12,ethAddressInstructionIndex:a,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:a,signature:sa(i),ethAddress:sa(t),recoveryId:s},c),c.fill(sa(n),aE.span),new sI({keys:[],programId:aA.programId,data:c})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:n}=e;sy(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{var i;let e,s=sa(t),a=aI(s,!1).slice(1),[o,u]=(i=n9.Buffer.from((0,i7.keccak_256)(sa(r))),[(e=se.secp256k1.sign(i,s)).toCompactRawBytes(),e.recovery]);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:o,recoveryId:u,instructionIndex:n})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}aA.programId=new sl("KeccakSecp256k11111111111111111111111111111");let aT=new sl("StakeConfig11111111111111111111111111111111");class aO{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}aO.default=new aO(0,0,sl.default);let aj=Object.freeze({Initialize:{index:0,layout:iP.struct([iP.u32("instruction"),((e="authorized")=>iP.struct([sh("staker"),sh("withdrawer")],e))(),((e="lockup")=>iP.struct([iP.ns64("unixTimestamp"),iP.ns64("epoch"),sh("custodian")],e))()])},Authorize:{index:1,layout:iP.struct([iP.u32("instruction"),sh("newAuthorized"),iP.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:iP.struct([iP.u32("instruction")])},Split:{index:3,layout:iP.struct([iP.u32("instruction"),iP.ns64("lamports")])},Withdraw:{index:4,layout:iP.struct([iP.u32("instruction"),iP.ns64("lamports")])},Deactivate:{index:5,layout:iP.struct([iP.u32("instruction")])},Merge:{index:7,layout:iP.struct([iP.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:iP.struct([iP.u32("instruction"),sh("newAuthorized"),iP.u32("stakeAuthorizationType"),sp("authoritySeed"),sh("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class aP{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:n}=e,i=n||aO.default,s=sR(aj.Initialize,{authorized:{staker:sa(r.staker.toBuffer()),withdrawer:sa(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:sa(i.custodian.toBuffer())}});return new sI({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sj,isSigner:!1,isWritable:!1}],programId:this.programId,data:s})}static createAccountWithSeed(e){let t=new sE;t.add(sz.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){let t=new sE;t.add(sz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=sR(aj.Delegate);return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:sP,isSigner:!1,isWritable:!1},{pubkey:aT,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,a=sR(aj.Authorize,{newAuthorized:sa(n.toBuffer()),stakeAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new sE().add({keys:o,programId:this.programId,data:a})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:o}=e,u=sR(aj.AuthorizeWithSeed,{newAuthorized:sa(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:sa(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sT,isSigner:!1,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!0,isWritable:!1}),new sE().add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=sR(aj.Split,{lamports:i});return new sI({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){let r=new sE;return r.add(sz.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:a,lamports:o}=e,u=new sE;return u.add(sz.allocate({accountPubkey:i,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(sz.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=sR(aj.Merge);return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:sP,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,a=sR(aj.Withdraw,{lamports:i}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:sP,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&o.push({pubkey:s,isSigner:!0,isWritable:!1}),new sE().add({keys:o,programId:this.programId,data:a})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,n=sR(aj.Deactivate);return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}aP.programId=new sl("Stake11111111111111111111111111111111111111"),aP.space=200;let aN=Object.freeze({InitializeAccount:{index:0,layout:iP.struct([iP.u32("instruction"),((e="voteInit")=>iP.struct([sh("nodePubkey"),sh("authorizedVoter"),sh("authorizedWithdrawer"),iP.u8("commission")],e))()])},Authorize:{index:1,layout:iP.struct([iP.u32("instruction"),sh("newAuthorized"),iP.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:iP.struct([iP.u32("instruction"),iP.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:iP.struct([iP.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:iP.struct([iP.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>iP.struct([iP.u32("voteAuthorizationType"),sh("currentAuthorityDerivedKeyOwnerPubkey"),sp("currentAuthorityDerivedKeySeed"),sh("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class aC{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=sR(aN.InitializeAccount,{voteInit:{nodePubkey:sa(n.nodePubkey.toBuffer()),authorizedVoter:sa(n.authorizedVoter.toBuffer()),authorizedWithdrawer:sa(n.authorizedWithdrawer.toBuffer()),commission:n.commission}});return new sI({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sj,isSigner:!1,isWritable:!1},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static createAccount(e){let t=new sE;return t.add(sz.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=sR(aN.Authorize,{newAuthorized:sa(n.toBuffer()),voteAuthorizationType:i.index});return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:a}=e,o=sR(aN.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:sa(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:sa(i.toBuffer()),voteAuthorizationType:s.index}});return new sE().add({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:sT,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=sR(aN.Withdraw,{lamports:n});return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return aC.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=sR(aN.UpdateValidatorIdentity);return new sE().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}aC.programId=new sl("Vote111111111111111111111111111111111111111"),aC.space=3762,new sl("Va1idator1nfo111111111111111111111111111111"),i5({name:i1(),website:iX(i1()),details:iX(i1()),iconUrl:iX(i1()),keybaseUsername:iX(i1())}),new sl("Vote111111111111111111111111111111111111111"),iP.struct([sh("nodePubkey"),sh("authorizedWithdrawer"),iP.u8("commission"),iP.nu64(),iP.seq(iP.struct([iP.nu64("slot"),iP.u32("confirmationCount")]),iP.offset(iP.u32(),-8),"votes"),iP.u8("rootSlotValid"),iP.nu64("rootSlot"),iP.nu64(),iP.seq(iP.struct([iP.nu64("epoch"),sh("authorizedVoter")]),iP.offset(iP.u32(),-8),"authorizedVoters"),iP.struct([iP.seq(iP.struct([sh("authorizedPubkey"),iP.nu64("epochOfLastAuthorizedSwitch"),iP.nu64("targetEpoch")]),32,"buf"),iP.nu64("idx"),iP.u8("isEmpty")],"priorVoters"),iP.nu64(),iP.seq(iP.struct([iP.nu64("epoch"),iP.nu64("credits"),iP.nu64("prevCredits")]),iP.offset(iP.u32(),-8),"epochCredits"),iP.struct([iP.nu64("slot"),iP.nu64("timestamp")],"lastTimestamp")]);let aR=e=>({request:e,signMessage:t=>e({method:"signMessage",params:{message:t}}),signTransaction:t=>e({method:"signTransaction",params:{transaction:t}}),signAndSendTransaction:t=>e({method:"signAndSendTransaction",params:t})});e.s(["createSolanaWalletProvider",0,aR],27214);var aB=e.i(67034);function aL(e){return aB.Buffer.from(e.serialize({verifySignatures:!1})).toString("base64")}e.i(50482);var aM=e.i(37789);e.i(18744),e.i(67924),e.i(57615),e.i(42283),e.i(6452),e.i(31687);var aU=e.i(43778),az=e.i(2578);e.i(52474),e.i(55235),e.i(69620),e.i(31130);var aM=aM;class aD extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof aD){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof aD&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function aZ(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error){let{code:t}=e.error;throw new(t===aX.code?aX:t===aW.code?aW:t===aY.code?aY:t===aG.code?aG:t===aQ.code?aQ:t===aJ.code?aJ:t===aV.code?aV:t===a0.code?a0:t===a$.code?a$:t===aq.code?aq:t===aK.code?aK:t===aH.code?aH:aF)(e.error)}return e.result}class aF extends Error{constructor(e){const{code:t,message:r,data:n}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=n}}class aW extends aF{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:aW.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(aW,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class a$ extends aF{constructor(e={}){super({message:"Requested resource not found.",...e,code:a$.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(a$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class aq extends aF{constructor(e={}){super({message:"Requested resource not available.",...e,code:aq.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(aq,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class aK extends aF{constructor(e={}){super({message:"Transaction creation failed.",...e,code:aK.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(aK,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class aV extends aF{constructor(e={}){super({message:"Method is not implemented.",...e,code:aV.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(aV,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class aQ extends aF{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:aQ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(aQ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class aH extends aF{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:aH.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(aH,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class aG extends aF{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:aG.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(aG,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class aJ extends aF{constructor(e={}){super({message:"Method does not exist.",...e,code:aJ.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(aJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class aY extends aF{constructor(e={}){super({message:"Invalid method parameters.",...e,code:aY.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(aY,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class aX extends aF{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:aX.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(aX,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class a0 extends aF{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:a0.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(a0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class a1 extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class a2 extends a1{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(a2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class a5 extends a1{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(a5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class a4 extends a1{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(a4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class a6 extends a1{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(a6,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class a3 extends a1{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(a3,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class a8 extends aD{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}let a9=Symbol("Comlink.proxy"),a7=Symbol("Comlink.endpoint"),oe=Symbol("Comlink.releaseProxy"),ot=Symbol("Comlink.finalizer"),or=Symbol("Comlink.thrown"),on=e=>"object"==typeof e&&null!==e||"function"==typeof e,oi=new Map([["proxy",{canHandle:e=>on(e)&&e[a9],serialize(e){let{port1:t,port2:r}=new MessageChannel;return function e(t,r=globalThis,n=["*"]){r.addEventListener("message",function i(s){let a;if(!s||!s.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);let{id:o,type:u,path:c}=Object.assign({path:[]},s.data),l=(s.data.argumentList||[]).map(of);try{var d,h,p;let r=c.slice(0,-1).reduce((e,t)=>e[t],t),n=c.reduce((e,t)=>e[t],t);switch(u){case"GET":a=n;break;case"SET":r[c.slice(-1)[0]]=of(s.data.value),a=!0;break;case"APPLY":a=n.apply(r,l);break;case"CONSTRUCT":d=new n(...l),a=Object.assign(d,{[a9]:!0});break;case"ENDPOINT":{let{port1:r,port2:n}=new MessageChannel;e(t,n),h=r,p=[r],oh.set(h,p),a=h}break;case"RELEASE":a=void 0;break;default:return}}catch(e){a={value:e,[or]:0}}Promise.resolve(a).catch(e=>({value:e,[or]:0})).then(e=>{let[n,s]=op(e);r.postMessage(Object.assign(Object.assign({},n),{id:o}),s),"RELEASE"===u&&(r.removeEventListener("message",i),os(r),ot in t&&"function"==typeof t[ot]&&t[ot]())}).catch(e=>{let[t,n]=op({value:TypeError("Unserializable return value"),[or]:0});r.postMessage(Object.assign(Object.assign({},t),{id:o}),n)})}),r.start&&r.start()}(e,t),[r,[r]]},deserialize:e=>(e.start(),oa(e))}],["throw",{canHandle:e=>on(e)&&or in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function os(e){"MessagePort"===e.constructor.name&&e.close()}function oa(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}}),function e(t,r,n=[],i=function(){}){let s,a=!1,o=new Proxy(i,{get(i,s){if(oo(a),s===oe)return()=>{ol&&ol.unregister(o),ou(t),r.clear(),a=!0};if("then"===s){if(0===n.length)return{then:()=>o};let e=om(t,r,{type:"GET",path:n.map(e=>e.toString())}).then(of);return e.then.bind(e)}return e(t,r,[...n,s])},set(e,i,s){oo(a);let[o,u]=op(s);return om(t,r,{type:"SET",path:[...n,i].map(e=>e.toString()),value:o},u).then(of)},apply(i,s,o){oo(a);let u=n[n.length-1];if(u===a7)return om(t,r,{type:"ENDPOINT"}).then(of);if("bind"===u)return e(t,r,n.slice(0,-1));let[c,l]=od(o);return om(t,r,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:c},l).then(of)},construct(e,i){oo(a);let[s,o]=od(i);return om(t,r,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:s},o).then(of)}});return s=(oc.get(t)||0)+1,oc.set(t,s),ol&&ol.register(o,t,o),o}(e,r,[],t)}function oo(e){if(e)throw Error("Proxy has been released and is not useable")}function ou(e){return om(e,new Map,{type:"RELEASE"}).then(()=>{os(e)})}let oc=new WeakMap,ol="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(oc.get(e)||0)-1;oc.set(e,t),0===t&&ou(e)});function od(e){var t;let r=e.map(op);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let oh=new WeakMap;function op(e){for(let[t,r]of oi)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},oh.get(e)||[]]}function of(e){switch(e.type){case"HANDLER":return oi.get(e.name).deserialize(e.value);case"RAW":return e.value}}function om(e,t,r,n){return new Promise(i=>{let s=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(s,i),e.start&&e.start(),e.postMessage(Object.assign({id:s},r),n)})}let oy=oa("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?{postMessage:e=>{window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}}:function(e,t=globalThis,r="*"){return{postMessage:(t,n)=>e.postMessage(t,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window)),og={get eventNames(){return p.eventNames.bind(p)},get listenerCount(){return p.listenerCount.bind(p)},get listeners(){return p.listeners.bind(p)},addListener:(p=new i9.EventEmitter).addListener.bind(p),emit:p.emit.bind(p),off:p.off.bind(p),on:p.on.bind(p),once:p.once.bind(p),removeAllListeners:p.removeAllListeners.bind(p),removeListener:p.removeListener.bind(p)},ob=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}(),ov=function(e,t={}){let{includeEvents:r=!0}=t;if(!e)throw new a8;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){let r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?aZ(r):r}}}({...og,async request(e){let t=ob.prepare(e);try{let e=await oy.ethProviderRequestV2(t).then(e=>aZ(e,{request:t,raw:!0}));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new a2;case 4100:return new a5;case 4200:return new a4;case 4900:return new a6;case 4901:return new a3;default:return new a1(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await oy.ethProviderRequest(t);if(e instanceof a1||e instanceof aF)throw e;throw new aX({message:e instanceof Error?e.message:void 0})}}});async function ow(){try{let e=await oy.getCapabilities();if(!e.includes("wallet.getEthereumProvider")&&!e.includes("wallet.getEvmProvider"))return;return ov}catch{return ov}}function ox(e){let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);let r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",()=>{oy.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",e=>{if(e instanceof MessageEvent){let t=e.data;og.emit(t.event,...t.params)}}),document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"eip6963:announceProvider"===t.event&&ox({info:t.info,provider:ov})}})),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",()=>{oy.eip6963RequestProvider()}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){let t=e.data;og.emit(t.event,...t.params)}}),window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"eip6963:announceProvider"===t.event&&ox({info:t.info,provider:ov})}}));var aU=aU;crypto,new TextEncoder;let ok=new TextDecoder;class o_ extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}o_.code="ERR_JOSE_GENERIC";class oS extends o_{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}oS.code="ERR_JWT_INVALID";class oI extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof oI){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})();super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=r,this.shortMessage=e}}class oE extends oI{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class oA extends oI{constructor(e){super(e),this.name="InvalidToken"}}async function oT({origin:e}){let t=await fetch(`${e}/nonce`,{method:"POST"});if(!t.ok)throw new oE({status:t.status});return await t.json()}async function oO({origin:e},t){let r=await fetch(`${e}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)});if(!r.ok)throw new oE({status:r.status});let n=await r.json();if(!1===n.valid)throw new oA(n.message??"unknown");return{token:n.token}}class oj extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}({checksum:new oj(8192)}).checksum,e.i(71647);let oP=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,oN=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/,oC=(()=>{let e,t;async function r(t){let r=function(e={}){let t=function(e={}){return{origin:e.origin??"https://auth.farcaster.xyz"}}(e);return{generateNonce:()=>oT(t),verifySiwf:e=>oO(t,e)}}({origin:t.quickAuthServerOrigin}),{nonce:n}=await r.generateNonce(),i=await oy.signIn({nonce:n,acceptAuthAddress:!0});if(i.result){let t=function(e){let{scheme:t,statement:r,...n}=e.match(oP)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:u,...c}=e.match(oN)?.groups??{},l=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...u?{requestId:u}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i.result.message);if(!t.domain)throw Error("Missing domain on SIWE message");let n=await r.verifySiwf({domain:t.domain,message:i.result.message,signature:i.result.signature});return e={token:n.token,payload:function(e){let t,r;if("string"!=typeof e)throw new oS("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new oS("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new oS("Invalid JWT");if(!n)throw new oS("JWTs must contain a payload");try{t=(e=>{let t=e;t instanceof Uint8Array&&(t=ok.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}})(n)}catch{throw new oS("Failed to base64url decode the payload")}try{r=JSON.parse(ok.decode(t))}catch{throw new oS("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new oS("Invalid JWT Claims Set");return r}(n.token)},n}if("rejected_by_user"===i.error.type)throw new aU.RejectedByUser;throw Error("Unreachable")}return{get token(){if(e&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3))return e.token;return},async getToken(n={}){let i=n.force??!1;return e&&!i&&new Date(1e3*e.payload.exp)>new Date(Date.now()+15e3)?{token:e.token}:(t||(t=r(n)),t.finally(()=>{t=void 0}),t)},async fetch(e,t){let{token:r}=await this.getToken(),n=new Headers(t?.headers);return n.set("Authorization",`Bearer ${r}`),fetch(e,{...t,headers:n})}}})(),oR={get eventNames(){return f.eventNames.bind(f)},get listenerCount(){return f.listenerCount.bind(f)},get listeners(){return f.listeners.bind(f)},addListener:(f=new i8.default).addListener.bind(f),emit:f.emit.bind(f),off:f.off.bind(f),on:f.on.bind(f),once:f.once.bind(f),removeAllListeners:f.removeAllListeners.bind(f),removeListener:f.removeListener.bind(f)};e.i(27214);let{solanaProviderRequest:oB}=oy;async function oL(){let e;try{e=await oy.getCapabilities()}catch{}if(e?.includes("wallet.getSolanaProvider"))return r}oB&&(r=aR(async e=>{if("connect"===e.method||"signMessage"===e.method)return await oB(e);if("signAndSendTransaction"===e.method){let{transaction:t}=e.params,r={transaction:aL(t)};return await oB({method:"signAndSendTransaction",params:r})}if("signTransaction"===e.method){let t,{transaction:r}=e.params,n={transaction:aL(r)},{signedTransaction:i}=await oB({method:"signTransaction",params:n});return{signedTransaction:(t=aB.Buffer.from(i,"base64"),"legacy"===s_.deserializeMessageVersion(t)?sA.deserialize(t):sE.from(t))}}}));let oM=null;async function oU(e=1e3){if(!0===oM)return!0;if("undefined"==typeof window||!window.ReactNativeWebView&&window===window.parent)return!1;let t=await Promise.race([oy.context.then(e=>!!e),new Promise(t=>{setTimeout(()=>t(!1),e)})]).catch(()=>!1);return t&&(oM=!0),t}let oz=async()=>{let e=await oy.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new aM.InvalidDomainManifest;if("rejected_by_user"===e.error.type)throw new aM.RejectedByUser;throw Error("Unreachable")},oD={...oR,getCapabilities:oy.getCapabilities,getChains:oy.getChains,isInMiniApp:oU,context:oy.context,back:(({miniAppHost:e,emitter:t})=>{let r,n=null;return{visible:!1,get onback(){return n},set onback(cb){n&&t.removeListener("backNavigationTriggered",n),n=cb,cb&&t.addListener("backNavigationTriggered",cb)},async show(){await e.updateBackState({visible:!0}),this.visible=!0},async hide(){await e.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){r=function({emitter:e,back:t}){let r=function(){if("undefined"!=typeof window&&void 0!==window.navigation)return window.navigation}();return r?function({emitter:e,back:t,navigation:r}){function n(){r.canGoBack?t.show():t.hide()}function i(){t.visible&&r.canGoBack&&r.back()}return r.addEventListener("navigatesuccess",n),e.addListener("backNavigationTriggered",i),()=>{r.removeEventListener("navigatesuccess",n),e.removeListener("backNavigationTriggered",i)}}({emitter:e,back:t,navigation:r}):"undefined"!=typeof window?function({emitter:e,back:t,window:r}){function n(){t.visible&&r.history.back()}return t.show(),e.addListener("backNavigationTriggered",n),()=>{e.removeListener("backNavigationTriggered",n)}}({emitter:e,back:t,window}):void 0}({back:this,emitter:t})},async disableWebNavigation(){r?.(),r=void 0}}})({miniAppHost:oy,emitter:oR}),quickAuth:oC,actions:{setPrimaryButton:oy.setPrimaryButton.bind(oy),ready:async(e={})=>await oy.ready(e),close:oy.close.bind(oy),viewCast:oy.viewCast.bind(oy),viewProfile:oy.viewProfile.bind(oy),openMiniApp:oy.openMiniApp.bind(oy),signIn:async e=>{let t=await oy.signIn({...e,acceptAuthAddress:e.acceptAuthAddress??!0});if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new aU.RejectedByUser;throw Error("Unreachable")},openUrl:e=>{let t="string"==typeof e?e:e.url;return oy.openUrl(t.trim())},addFrame:oz,addMiniApp:oz,composeCast:(e={})=>oy.composeCast(e),viewToken:oy.viewToken.bind(oy),sendToken:oy.sendToken.bind(oy),swapToken:oy.swapToken.bind(oy),requestCameraAndMicrophoneAccess:oy.requestCameraAndMicrophoneAccess.bind(oy)},experimental:{getSolanaProvider:oL,signManifest:async e=>{let t=await oy.signManifest(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new az.RejectedByUser;if("invalid_domain"===t.error.type)throw new az.InvalidDomain;if("generic_error"===t.error.type)throw new az.GenericError(t.error.message);throw Error("Unreachable")},quickAuth:e=>oC.getToken(e)},wallet:{ethProvider:ov,getEthereumProvider:ow,getSolanaProvider:oL},haptics:{impactOccurred:oy.impactOccurred.bind(oy),notificationOccurred:oy.notificationOccurred.bind(oy),selectionChanged:oy.selectionChanged.bind(oy)}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",e=>{if(e instanceof MessageEvent){let t=e.data;"primary_button_clicked"===t.event?oR.emit("primaryButtonClicked"):"miniapp_added"===t.event?oR.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?oR.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?oR.emit("miniAppRemoved"):"notifications_enabled"===t.event?oR.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?oR.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&oR.emit("backNavigationTriggered")}}),"undefined"!=typeof window&&window.addEventListener("message",e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){let t=e.data.event;"primary_button_clicked"===t.event?oR.emit("primaryButtonClicked"):"miniapp_added"===t.event?oR.emit("miniAppAdded",{notificationDetails:t.notificationDetails}):"miniapp_add_rejected"===t.event?oR.emit("miniAppAddRejected",{reason:t.reason}):"miniapp_removed"===t.event?oR.emit("miniAppRemoved"):"notifications_enabled"===t.event?oR.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event?oR.emit("notificationsDisabled"):"back_navigation_triggered"===t.event&&oR.emit("backNavigationTriggered")}}),"undefined"!=typeof console&&console.warn&&console.warn("@farcaster/frame-sdk is deprecated. Please use @farcaster/miniapp-sdk instead.");let oZ=!1;function oF({onLogin:e}){let[t,r]=(0,E.useState)(!1),[n,i]=(0,E.useState)(null);return((0,E.useEffect)(()=>{(async()=>{let t=await oD.context;i(t),r(!0),t?.user&&e(t.user.fid,t.user.username||"Anon")})()},[e]),t)?n?.user?(0,I.jsx)("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 rounded-lg",children:(0,I.jsxs)("span",{className:"text-white",children:["@",n.user.username||n.user.fid]})}):null:(0,I.jsx)("div",{className:"text-slate-400",children:"Loading Farcaster..."})}new Proxy(oy,{get:(e,t,r)=>(!oZ&&"undefined"!=typeof console&&console.warn&&(oZ=!0,console.warn("frameHost is deprecated. Please use miniAppHost instead.")),Reflect.get(e,t,r))});let oW=et("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),o$=et("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),oq=()=>new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),oK=()=>new Date().toISOString().slice(0,10).replace(/-/g,"");function oV(){let{address:e,isConnected:t}=L(),{connect:r,connectors:n}=function(e={}){let{mutation:t}=e,r=C(e),n={mutationFn:e=>q(r,e),mutationKey:["connect"]},{mutate:i,mutateAsync:s,...a}=W({...t,...n});return(0,E.useEffect)(()=>r.subscribe(({status:e})=>e,(e,t)=>{"connected"===t&&"disconnected"===e&&a.reset()}),[r,a.reset]),{...a,connect:i,connectAsync:s,connectors:function(e={}){let t=C(e);return(0,E.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e._internal.connectors.subscribe((e,t)=>{r(Object.values(e),t)})})(t,{onChange:e}),()=>V(t),()=>V(t))}({config:r})}}(),{disconnect:i}=function(e={}){let{mutation:t}=e,r=C(e),n={mutationFn:e=>Q(r,e),mutationKey:["disconnect"]},{mutate:i,mutateAsync:s,...a}=W({...t,...n});return{...a,connectors:(function(e={}){let t=C(e);return(0,E.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(()=>G(e),r,{equalityFn:T})})(t,{onChange:e}),()=>G(t),()=>G(t))})({config:r}).map(e=>e.connector),disconnect:i,disconnectAsync:s}}(),[s,a]=(0,E.useState)([]),[o,u]=(0,E.useState)(!1),[c,l]=(0,E.useState)(!1),[d,h]=(0,E.useState)(null),[p,f]=(0,E.useState)(!1),m=(0,E.useMemo)(()=>s.filter(e=>e.status===es.COMPLETED).length,[s]),y=(0,E.useMemo)(()=>s.length>0?m/s.length*100:0,[s,m]),g=s.length>0&&m===s.length;(0,E.useEffect)(()=>{(async()=>{try{let e=await oD.context;f(!!e)}catch(e){f(!1)}})(),a(tb.map(e=>({...e,status:es.PENDING})))},[]);let b=async()=>{let e=n[0];e&&r({connector:e})},v=e=>{a(t=>t.map(t=>t.id===e?{...t,status:es.COMPLETED}:t))},w=async()=>{let e=`I just completed ${m}/${s.length} quests on QuestQuest! 

Join me on Base: ${window.location.origin}`;p?oD.actions.openUrl(`https://warpcast.com/~/compose?text=${encodeURIComponent(e)}`):window.open(`https://warpcast.com/~/compose?text=${encodeURIComponent(e)}`,"_blank")};return(0,I.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-blue-500 selection:text-white",children:[p&&d&&(0,I.jsx)("div",{className:"bg-purple-900/30 border-b border-purple-500/30 py-2 px-4 text-center",children:(0,I.jsxs)("span",{className:"text-purple-300 text-sm",children:["Playing as @",d.username,"  FID: ",d.fid]})}),(0,I.jsx)(en,{walletAddress:e||null,isConnecting:!1,onConnect:b,onDisconnect:()=>{i(),a(e=>e.map(e=>({...e,status:es.PENDING}))),u(!1)}}),(0,I.jsxs)("main",{className:"max-w-3xl mx-auto px-4 py-8 pb-20",children:[(0,I.jsxs)("div",{className:"mb-8 flex justify-between items-center flex-wrap gap-4",children:[(0,I.jsxs)("div",{className:"text-center sm:text-left",children:[(0,I.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400 mb-2",children:"Today's Quests"}),(0,I.jsxs)("p",{className:"text-slate-400 text-lg flex items-center justify-center sm:justify-start gap-2",children:[(0,I.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),oq()]})]}),(0,I.jsxs)("div",{className:"flex gap-2",children:[p&&(0,I.jsx)(oF,{onLogin:(e,t)=>{h({fid:e,username:t})}}),m>0&&(0,I.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg transition-colors",children:[(0,I.jsx)(tm,{className:"w-5 h-5"}),"Share"]}),(0,I.jsxs)("button",{onClick:()=>l(!c),className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors",children:[(0,I.jsx)(tx,{className:"w-5 h-5"}),c?"Quests":"Leaderboard"]})]})]}),c?(0,I.jsx)(tk,{}):o?(0,I.jsx)(tv,{dayLabel:oq(),metadata:{tokenId:oK(),name:`QuestQuest Master ${oK()}`,image:"",attributes:[{trait_type:"Day",value:oK()}]}}):(0,I.jsxs)("div",{className:"space-y-8 animate-[slideUp_0.4s_ease-out]",children:[(0,I.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-800 shadow-xl",children:[(0,I.jsxs)("div",{className:"flex justify-between items-end mb-4",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"text-sm font-medium text-slate-400 uppercase tracking-wider mb-1",children:"Daily Progress"}),(0,I.jsxs)("div",{className:"text-2xl font-bold text-white",children:[m," / ",s.length," Completed"]})]}),(0,I.jsx)("div",{className:"text-right",children:g?(0,I.jsxs)("span",{className:"text-green-400 font-bold flex items-center gap-1",children:[(0,I.jsx)(oW,{className:"w-4 h-4"})," Ready to Claim"]}):(0,I.jsxs)("span",{className:"text-blue-400 font-medium",children:[Math.round(y),"%"]})})]}),(0,I.jsx)("div",{className:"h-4 bg-slate-800 rounded-full overflow-hidden relative",children:(0,I.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-700 ease-out relative",style:{width:`${y}%`},children:(0,I.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"})})})]}),(0,I.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,I.jsx)(tf,{quest:e,onVerify:v,disabled:!t},e.id))}),!t&&(0,I.jsxs)("div",{className:"flex items-center justify-center gap-2 p-4 bg-yellow-500/10 text-yellow-500 rounded-lg border border-yellow-500/20 text-sm",children:[(0,I.jsx)(o$,{className:"w-4 h-4"}),"Connect your wallet to start completing quests."]}),g&&(0,I.jsx)("div",{className:"fixed bottom-6 left-0 right-0 px-4 flex justify-center z-40",children:(0,I.jsxs)("button",{onClick:()=>{e&&g&&u(!0)},className:"max-w-md w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white py-4 rounded-2xl font-bold text-lg shadow-[0_0_40px_-10px_rgba(79,70,229,0.5)] transform transition-all hover:-translate-y-1 active:scale-95 flex items-center justify-center gap-2",children:[(0,I.jsx)(tw,{className:"w-6 h-6"}),"Claim Daily Badge"]})})]})]})]})}e.s(["default",()=>oV],31713)}]);